(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Js=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function cu(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var cf={exports:{}},Ao={},hf={exports:{}},W={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yi=Symbol.for("react.element"),ny=Symbol.for("react.portal"),ry=Symbol.for("react.fragment"),iy=Symbol.for("react.strict_mode"),sy=Symbol.for("react.profiler"),oy=Symbol.for("react.provider"),ly=Symbol.for("react.context"),ay=Symbol.for("react.forward_ref"),uy=Symbol.for("react.suspense"),cy=Symbol.for("react.memo"),hy=Symbol.for("react.lazy"),Ic=Symbol.iterator;function dy(e){return e===null||typeof e!="object"?null:(e=Ic&&e[Ic]||e["@@iterator"],typeof e=="function"?e:null)}var df={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ff=Object.assign,pf={};function Fr(e,t,n){this.props=e,this.context=t,this.refs=pf,this.updater=n||df}Fr.prototype.isReactComponent={};Fr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Fr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function mf(){}mf.prototype=Fr.prototype;function hu(e,t,n){this.props=e,this.context=t,this.refs=pf,this.updater=n||df}var du=hu.prototype=new mf;du.constructor=hu;ff(du,Fr.prototype);du.isPureReactComponent=!0;var jc=Array.isArray,gf=Object.prototype.hasOwnProperty,fu={current:null},yf={key:!0,ref:!0,__self:!0,__source:!0};function vf(e,t,n){var r,i={},s=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)gf.call(t,r)&&!yf.hasOwnProperty(r)&&(i[r]=t[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var a=Array(l),u=0;u<l;u++)a[u]=arguments[u+2];i.children=a}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:Yi,type:e,key:s,ref:o,props:i,_owner:fu.current}}function fy(e,t){return{$$typeof:Yi,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function pu(e){return typeof e=="object"&&e!==null&&e.$$typeof===Yi}function py(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Nc=/\/+/g;function el(e,t){return typeof e=="object"&&e!==null&&e.key!=null?py(""+e.key):t.toString(36)}function Ls(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Yi:case ny:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+el(o,0):r,jc(i)?(n="",e!=null&&(n=e.replace(Nc,"$&/")+"/"),Ls(i,t,n,"",function(u){return u})):i!=null&&(pu(i)&&(i=fy(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Nc,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",jc(e))for(var l=0;l<e.length;l++){s=e[l];var a=r+el(s,l);o+=Ls(s,t,n,a,i)}else if(a=dy(e),typeof a=="function")for(e=a.call(e),l=0;!(s=e.next()).done;)s=s.value,a=r+el(s,l++),o+=Ls(s,t,n,a,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function ls(e,t,n){if(e==null)return e;var r=[],i=0;return Ls(e,r,"","",function(s){return t.call(n,s,i++)}),r}function my(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var He={current:null},Ds={transition:null},gy={ReactCurrentDispatcher:He,ReactCurrentBatchConfig:Ds,ReactCurrentOwner:fu};function wf(){throw Error("act(...) is not supported in production builds of React.")}W.Children={map:ls,forEach:function(e,t,n){ls(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return ls(e,function(){t++}),t},toArray:function(e){return ls(e,function(t){return t})||[]},only:function(e){if(!pu(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};W.Component=Fr;W.Fragment=ry;W.Profiler=sy;W.PureComponent=hu;W.StrictMode=iy;W.Suspense=uy;W.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=gy;W.act=wf;W.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=ff({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=fu.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(a in t)gf.call(t,a)&&!yf.hasOwnProperty(a)&&(r[a]=t[a]===void 0&&l!==void 0?l[a]:t[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:Yi,type:e.type,key:i,ref:s,props:r,_owner:o}};W.createContext=function(e){return e={$$typeof:ly,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:oy,_context:e},e.Consumer=e};W.createElement=vf;W.createFactory=function(e){var t=vf.bind(null,e);return t.type=e,t};W.createRef=function(){return{current:null}};W.forwardRef=function(e){return{$$typeof:ay,render:e}};W.isValidElement=pu;W.lazy=function(e){return{$$typeof:hy,_payload:{_status:-1,_result:e},_init:my}};W.memo=function(e,t){return{$$typeof:cy,type:e,compare:t===void 0?null:t}};W.startTransition=function(e){var t=Ds.transition;Ds.transition={};try{e()}finally{Ds.transition=t}};W.unstable_act=wf;W.useCallback=function(e,t){return He.current.useCallback(e,t)};W.useContext=function(e){return He.current.useContext(e)};W.useDebugValue=function(){};W.useDeferredValue=function(e){return He.current.useDeferredValue(e)};W.useEffect=function(e,t){return He.current.useEffect(e,t)};W.useId=function(){return He.current.useId()};W.useImperativeHandle=function(e,t,n){return He.current.useImperativeHandle(e,t,n)};W.useInsertionEffect=function(e,t){return He.current.useInsertionEffect(e,t)};W.useLayoutEffect=function(e,t){return He.current.useLayoutEffect(e,t)};W.useMemo=function(e,t){return He.current.useMemo(e,t)};W.useReducer=function(e,t,n){return He.current.useReducer(e,t,n)};W.useRef=function(e){return He.current.useRef(e)};W.useState=function(e){return He.current.useState(e)};W.useSyncExternalStore=function(e,t,n){return He.current.useSyncExternalStore(e,t,n)};W.useTransition=function(){return He.current.useTransition()};W.version="18.3.1";hf.exports=W;var te=hf.exports;const yy=cu(te);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vy=te,wy=Symbol.for("react.element"),ky=Symbol.for("react.fragment"),_y=Object.prototype.hasOwnProperty,xy=vy.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Sy={key:!0,ref:!0,__self:!0,__source:!0};function kf(e,t,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)_y.call(t,r)&&!Sy.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:wy,type:e,key:s,ref:o,props:i,_owner:xy.current}}Ao.Fragment=ky;Ao.jsx=kf;Ao.jsxs=kf;cf.exports=Ao;var x=cf.exports,Jl={},_f={exports:{}},at={},xf={exports:{}},Sf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(j,F){var w=j.length;j.push(F);e:for(;0<w;){var Y=w-1>>>1,ee=j[Y];if(0<i(ee,F))j[Y]=F,j[w]=ee,w=Y;else break e}}function n(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var F=j[0],w=j.pop();if(w!==F){j[0]=w;e:for(var Y=0,ee=j.length,k=ee>>>1;Y<k;){var Se=2*(Y+1)-1,yt=j[Se],ae=Se+1,Rt=j[ae];if(0>i(yt,w))ae<ee&&0>i(Rt,yt)?(j[Y]=Rt,j[ae]=w,Y=ae):(j[Y]=yt,j[Se]=w,Y=Se);else if(ae<ee&&0>i(Rt,w))j[Y]=Rt,j[ae]=w,Y=ae;else break e}}return F}function i(j,F){var w=j.sortIndex-F.sortIndex;return w!==0?w:j.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var a=[],u=[],c=1,h=null,d=3,f=!1,m=!1,v=!1,S=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(j){for(var F=n(u);F!==null;){if(F.callback===null)r(u);else if(F.startTime<=j)r(u),F.sortIndex=F.expirationTime,t(a,F);else break;F=n(u)}}function b(j){if(v=!1,y(j),!m)if(n(a)!==null)m=!0,we(C);else{var F=n(u);F!==null&&ye(b,F.startTime-j)}}function C(j,F){m=!1,v&&(v=!1,p(O),O=-1),f=!0;var w=d;try{for(y(F),h=n(a);h!==null&&(!(h.expirationTime>F)||j&&!N());){var Y=h.callback;if(typeof Y=="function"){h.callback=null,d=h.priorityLevel;var ee=Y(h.expirationTime<=F);F=e.unstable_now(),typeof ee=="function"?h.callback=ee:h===n(a)&&r(a),y(F)}else r(a);h=n(a)}if(h!==null)var k=!0;else{var Se=n(u);Se!==null&&ye(b,Se.startTime-F),k=!1}return k}finally{h=null,d=w,f=!1}}var _=!1,A=null,O=-1,D=5,E=-1;function N(){return!(e.unstable_now()-E<D)}function z(){if(A!==null){var j=e.unstable_now();E=j;var F=!0;try{F=A(!0,j)}finally{F?Q():(_=!1,A=null)}}else _=!1}var Q;if(typeof g=="function")Q=function(){g(z)};else if(typeof MessageChannel<"u"){var ie=new MessageChannel,K=ie.port2;ie.port1.onmessage=z,Q=function(){K.postMessage(null)}}else Q=function(){S(z,0)};function we(j){A=j,_||(_=!0,Q())}function ye(j,F){O=S(function(){j(e.unstable_now())},F)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(j){j.callback=null},e.unstable_continueExecution=function(){m||f||(m=!0,we(C))},e.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<j?Math.floor(1e3/j):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_getFirstCallbackNode=function(){return n(a)},e.unstable_next=function(j){switch(d){case 1:case 2:case 3:var F=3;break;default:F=d}var w=d;d=F;try{return j()}finally{d=w}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(j,F){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var w=d;d=j;try{return F()}finally{d=w}},e.unstable_scheduleCallback=function(j,F,w){var Y=e.unstable_now();switch(typeof w=="object"&&w!==null?(w=w.delay,w=typeof w=="number"&&0<w?Y+w:Y):w=Y,j){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=w+ee,j={id:c++,callback:F,priorityLevel:j,startTime:w,expirationTime:ee,sortIndex:-1},w>Y?(j.sortIndex=w,t(u,j),n(a)===null&&j===n(u)&&(v?(p(O),O=-1):v=!0,ye(b,w-Y))):(j.sortIndex=ee,t(a,j),m||f||(m=!0,we(C))),j},e.unstable_shouldYield=N,e.unstable_wrapCallback=function(j){var F=d;return function(){var w=d;d=F;try{return j.apply(this,arguments)}finally{d=w}}}})(Sf);xf.exports=Sf;var by=xf.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ey=te,lt=by;function P(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var bf=new Set,bi={};function Gn(e,t){Ir(e,t),Ir(e+"Capture",t)}function Ir(e,t){for(bi[e]=t,e=0;e<t.length;e++)bf.add(t[e])}var Kt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ql=Object.prototype.hasOwnProperty,Cy=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Lc={},Dc={};function Ty(e){return Ql.call(Dc,e)?!0:Ql.call(Lc,e)?!1:Cy.test(e)?Dc[e]=!0:(Lc[e]=!0,!1)}function Ay(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Py(e,t,n,r){if(t===null||typeof t>"u"||Ay(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function qe(e,t,n,r,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var je={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){je[e]=new qe(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];je[t]=new qe(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){je[e]=new qe(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){je[e]=new qe(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){je[e]=new qe(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){je[e]=new qe(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){je[e]=new qe(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){je[e]=new qe(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){je[e]=new qe(e,5,!1,e.toLowerCase(),null,!1,!1)});var mu=/[\-:]([a-z])/g;function gu(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(mu,gu);je[t]=new qe(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(mu,gu);je[t]=new qe(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(mu,gu);je[t]=new qe(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){je[e]=new qe(e,1,!1,e.toLowerCase(),null,!1,!1)});je.xlinkHref=new qe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){je[e]=new qe(e,1,!1,e.toLowerCase(),null,!0,!0)});function yu(e,t,n,r){var i=je.hasOwnProperty(t)?je[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Py(t,n,i,r)&&(n=null),r||i===null?Ty(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Yt=Ey.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,as=Symbol.for("react.element"),hr=Symbol.for("react.portal"),dr=Symbol.for("react.fragment"),vu=Symbol.for("react.strict_mode"),Yl=Symbol.for("react.profiler"),Ef=Symbol.for("react.provider"),Cf=Symbol.for("react.context"),wu=Symbol.for("react.forward_ref"),Xl=Symbol.for("react.suspense"),Zl=Symbol.for("react.suspense_list"),ku=Symbol.for("react.memo"),rn=Symbol.for("react.lazy"),Tf=Symbol.for("react.offscreen"),zc=Symbol.iterator;function Gr(e){return e===null||typeof e!="object"?null:(e=zc&&e[zc]||e["@@iterator"],typeof e=="function"?e:null)}var pe=Object.assign,tl;function si(e){if(tl===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);tl=t&&t[1]||""}return`
`+tl+e}var nl=!1;function rl(e,t){if(!e||nl)return"";nl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,l=s.length-1;1<=o&&0<=l&&i[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==s[l]){var a=`
`+i[o].replace(" at new "," at ");return e.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",e.displayName)),a}while(1<=o&&0<=l);break}}}finally{nl=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?si(e):""}function Ry(e){switch(e.tag){case 5:return si(e.type);case 16:return si("Lazy");case 13:return si("Suspense");case 19:return si("SuspenseList");case 0:case 2:case 15:return e=rl(e.type,!1),e;case 11:return e=rl(e.type.render,!1),e;case 1:return e=rl(e.type,!0),e;default:return""}}function ea(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case dr:return"Fragment";case hr:return"Portal";case Yl:return"Profiler";case vu:return"StrictMode";case Xl:return"Suspense";case Zl:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Cf:return(e.displayName||"Context")+".Consumer";case Ef:return(e._context.displayName||"Context")+".Provider";case wu:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ku:return t=e.displayName||null,t!==null?t:ea(e.type)||"Memo";case rn:t=e._payload,e=e._init;try{return ea(e(t))}catch{}}return null}function Oy(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ea(t);case 8:return t===vu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function kn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Af(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Iy(e){var t=Af(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function us(e){e._valueTracker||(e._valueTracker=Iy(e))}function Pf(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Af(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Qs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ta(e,t){var n=t.checked;return pe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function $c(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=kn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Rf(e,t){t=t.checked,t!=null&&yu(e,"checked",t,!1)}function na(e,t){Rf(e,t);var n=kn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ra(e,t.type,n):t.hasOwnProperty("defaultValue")&&ra(e,t.type,kn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Uc(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function ra(e,t,n){(t!=="number"||Qs(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var oi=Array.isArray;function br(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+kn(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function ia(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(P(91));return pe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Fc(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(P(92));if(oi(n)){if(1<n.length)throw Error(P(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:kn(n)}}function Of(e,t){var n=kn(t.value),r=kn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Mc(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function If(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function sa(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?If(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var cs,jf=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(cs=cs||document.createElement("div"),cs.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=cs.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ei(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var ci={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},jy=["Webkit","ms","Moz","O"];Object.keys(ci).forEach(function(e){jy.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ci[t]=ci[e]})});function Nf(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||ci.hasOwnProperty(e)&&ci[e]?(""+t).trim():t+"px"}function Lf(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Nf(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var Ny=pe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function oa(e,t){if(t){if(Ny[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(P(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(P(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(P(61))}if(t.style!=null&&typeof t.style!="object")throw Error(P(62))}}function la(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var aa=null;function _u(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ua=null,Er=null,Cr=null;function Bc(e){if(e=es(e)){if(typeof ua!="function")throw Error(P(280));var t=e.stateNode;t&&(t=jo(t),ua(e.stateNode,e.type,t))}}function Df(e){Er?Cr?Cr.push(e):Cr=[e]:Er=e}function zf(){if(Er){var e=Er,t=Cr;if(Cr=Er=null,Bc(e),t)for(e=0;e<t.length;e++)Bc(t[e])}}function $f(e,t){return e(t)}function Uf(){}var il=!1;function Ff(e,t,n){if(il)return e(t,n);il=!0;try{return $f(e,t,n)}finally{il=!1,(Er!==null||Cr!==null)&&(Uf(),zf())}}function Ci(e,t){var n=e.stateNode;if(n===null)return null;var r=jo(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(P(231,t,typeof n));return n}var ca=!1;if(Kt)try{var Jr={};Object.defineProperty(Jr,"passive",{get:function(){ca=!0}}),window.addEventListener("test",Jr,Jr),window.removeEventListener("test",Jr,Jr)}catch{ca=!1}function Ly(e,t,n,r,i,s,o,l,a){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var hi=!1,Ys=null,Xs=!1,ha=null,Dy={onError:function(e){hi=!0,Ys=e}};function zy(e,t,n,r,i,s,o,l,a){hi=!1,Ys=null,Ly.apply(Dy,arguments)}function $y(e,t,n,r,i,s,o,l,a){if(zy.apply(this,arguments),hi){if(hi){var u=Ys;hi=!1,Ys=null}else throw Error(P(198));Xs||(Xs=!0,ha=u)}}function Jn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Mf(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Vc(e){if(Jn(e)!==e)throw Error(P(188))}function Uy(e){var t=e.alternate;if(!t){if(t=Jn(e),t===null)throw Error(P(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Vc(i),e;if(s===r)return Vc(i),t;s=s.sibling}throw Error(P(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o)throw Error(P(189))}}if(n.alternate!==r)throw Error(P(190))}if(n.tag!==3)throw Error(P(188));return n.stateNode.current===n?e:t}function Bf(e){return e=Uy(e),e!==null?Vf(e):null}function Vf(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Vf(e);if(t!==null)return t;e=e.sibling}return null}var Hf=lt.unstable_scheduleCallback,Hc=lt.unstable_cancelCallback,Fy=lt.unstable_shouldYield,My=lt.unstable_requestPaint,ve=lt.unstable_now,By=lt.unstable_getCurrentPriorityLevel,xu=lt.unstable_ImmediatePriority,qf=lt.unstable_UserBlockingPriority,Zs=lt.unstable_NormalPriority,Vy=lt.unstable_LowPriority,Wf=lt.unstable_IdlePriority,Po=null,Lt=null;function Hy(e){if(Lt&&typeof Lt.onCommitFiberRoot=="function")try{Lt.onCommitFiberRoot(Po,e,void 0,(e.current.flags&128)===128)}catch{}}var Ct=Math.clz32?Math.clz32:Ky,qy=Math.log,Wy=Math.LN2;function Ky(e){return e>>>=0,e===0?32:31-(qy(e)/Wy|0)|0}var hs=64,ds=4194304;function li(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function eo(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?r=li(l):(s&=o,s!==0&&(r=li(s)))}else o=n&~i,o!==0?r=li(o):s!==0&&(r=li(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Ct(t),i=1<<n,r|=e[n],t&=~i;return r}function Gy(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Jy(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-Ct(s),l=1<<o,a=i[o];a===-1?(!(l&n)||l&r)&&(i[o]=Gy(l,t)):a<=t&&(e.expiredLanes|=l),s&=~l}}function da(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Kf(){var e=hs;return hs<<=1,!(hs&4194240)&&(hs=64),e}function sl(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Xi(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ct(t),e[t]=n}function Qy(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Ct(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function Su(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Ct(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Z=0;function Gf(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Jf,bu,Qf,Yf,Xf,fa=!1,fs=[],dn=null,fn=null,pn=null,Ti=new Map,Ai=new Map,ln=[],Yy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function qc(e,t){switch(e){case"focusin":case"focusout":dn=null;break;case"dragenter":case"dragleave":fn=null;break;case"mouseover":case"mouseout":pn=null;break;case"pointerover":case"pointerout":Ti.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ai.delete(t.pointerId)}}function Qr(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=es(t),t!==null&&bu(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Xy(e,t,n,r,i){switch(t){case"focusin":return dn=Qr(dn,e,t,n,r,i),!0;case"dragenter":return fn=Qr(fn,e,t,n,r,i),!0;case"mouseover":return pn=Qr(pn,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Ti.set(s,Qr(Ti.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Ai.set(s,Qr(Ai.get(s)||null,e,t,n,r,i)),!0}return!1}function Zf(e){var t=Dn(e.target);if(t!==null){var n=Jn(t);if(n!==null){if(t=n.tag,t===13){if(t=Mf(n),t!==null){e.blockedOn=t,Xf(e.priority,function(){Qf(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function zs(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=pa(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);aa=r,n.target.dispatchEvent(r),aa=null}else return t=es(n),t!==null&&bu(t),e.blockedOn=n,!1;t.shift()}return!0}function Wc(e,t,n){zs(e)&&n.delete(t)}function Zy(){fa=!1,dn!==null&&zs(dn)&&(dn=null),fn!==null&&zs(fn)&&(fn=null),pn!==null&&zs(pn)&&(pn=null),Ti.forEach(Wc),Ai.forEach(Wc)}function Yr(e,t){e.blockedOn===t&&(e.blockedOn=null,fa||(fa=!0,lt.unstable_scheduleCallback(lt.unstable_NormalPriority,Zy)))}function Pi(e){function t(i){return Yr(i,e)}if(0<fs.length){Yr(fs[0],e);for(var n=1;n<fs.length;n++){var r=fs[n];r.blockedOn===e&&(r.blockedOn=null)}}for(dn!==null&&Yr(dn,e),fn!==null&&Yr(fn,e),pn!==null&&Yr(pn,e),Ti.forEach(t),Ai.forEach(t),n=0;n<ln.length;n++)r=ln[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<ln.length&&(n=ln[0],n.blockedOn===null);)Zf(n),n.blockedOn===null&&ln.shift()}var Tr=Yt.ReactCurrentBatchConfig,to=!0;function ev(e,t,n,r){var i=Z,s=Tr.transition;Tr.transition=null;try{Z=1,Eu(e,t,n,r)}finally{Z=i,Tr.transition=s}}function tv(e,t,n,r){var i=Z,s=Tr.transition;Tr.transition=null;try{Z=4,Eu(e,t,n,r)}finally{Z=i,Tr.transition=s}}function Eu(e,t,n,r){if(to){var i=pa(e,t,n,r);if(i===null)ml(e,t,r,no,n),qc(e,r);else if(Xy(i,e,t,n,r))r.stopPropagation();else if(qc(e,r),t&4&&-1<Yy.indexOf(e)){for(;i!==null;){var s=es(i);if(s!==null&&Jf(s),s=pa(e,t,n,r),s===null&&ml(e,t,r,no,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else ml(e,t,r,null,n)}}var no=null;function pa(e,t,n,r){if(no=null,e=_u(r),e=Dn(e),e!==null)if(t=Jn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Mf(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return no=e,null}function ep(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(By()){case xu:return 1;case qf:return 4;case Zs:case Vy:return 16;case Wf:return 536870912;default:return 16}default:return 16}}var cn=null,Cu=null,$s=null;function tp(){if($s)return $s;var e,t=Cu,n=t.length,r,i="value"in cn?cn.value:cn.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[s-r];r++);return $s=i.slice(e,1<r?1-r:void 0)}function Us(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ps(){return!0}function Kc(){return!1}function ut(e){function t(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?ps:Kc,this.isPropagationStopped=Kc,this}return pe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ps)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ps)},persist:function(){},isPersistent:ps}),t}var Mr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Tu=ut(Mr),Zi=pe({},Mr,{view:0,detail:0}),nv=ut(Zi),ol,ll,Xr,Ro=pe({},Zi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Au,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Xr&&(Xr&&e.type==="mousemove"?(ol=e.screenX-Xr.screenX,ll=e.screenY-Xr.screenY):ll=ol=0,Xr=e),ol)},movementY:function(e){return"movementY"in e?e.movementY:ll}}),Gc=ut(Ro),rv=pe({},Ro,{dataTransfer:0}),iv=ut(rv),sv=pe({},Zi,{relatedTarget:0}),al=ut(sv),ov=pe({},Mr,{animationName:0,elapsedTime:0,pseudoElement:0}),lv=ut(ov),av=pe({},Mr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),uv=ut(av),cv=pe({},Mr,{data:0}),Jc=ut(cv),hv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pv(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=fv[e])?!!t[e]:!1}function Au(){return pv}var mv=pe({},Zi,{key:function(e){if(e.key){var t=hv[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Us(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?dv[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Au,charCode:function(e){return e.type==="keypress"?Us(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Us(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),gv=ut(mv),yv=pe({},Ro,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qc=ut(yv),vv=pe({},Zi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Au}),wv=ut(vv),kv=pe({},Mr,{propertyName:0,elapsedTime:0,pseudoElement:0}),_v=ut(kv),xv=pe({},Ro,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Sv=ut(xv),bv=[9,13,27,32],Pu=Kt&&"CompositionEvent"in window,di=null;Kt&&"documentMode"in document&&(di=document.documentMode);var Ev=Kt&&"TextEvent"in window&&!di,np=Kt&&(!Pu||di&&8<di&&11>=di),Yc=" ",Xc=!1;function rp(e,t){switch(e){case"keyup":return bv.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ip(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var fr=!1;function Cv(e,t){switch(e){case"compositionend":return ip(t);case"keypress":return t.which!==32?null:(Xc=!0,Yc);case"textInput":return e=t.data,e===Yc&&Xc?null:e;default:return null}}function Tv(e,t){if(fr)return e==="compositionend"||!Pu&&rp(e,t)?(e=tp(),$s=Cu=cn=null,fr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return np&&t.locale!=="ko"?null:t.data;default:return null}}var Av={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Zc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Av[e.type]:t==="textarea"}function sp(e,t,n,r){Df(r),t=ro(t,"onChange"),0<t.length&&(n=new Tu("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var fi=null,Ri=null;function Pv(e){gp(e,0)}function Oo(e){var t=gr(e);if(Pf(t))return e}function Rv(e,t){if(e==="change")return t}var op=!1;if(Kt){var ul;if(Kt){var cl="oninput"in document;if(!cl){var eh=document.createElement("div");eh.setAttribute("oninput","return;"),cl=typeof eh.oninput=="function"}ul=cl}else ul=!1;op=ul&&(!document.documentMode||9<document.documentMode)}function th(){fi&&(fi.detachEvent("onpropertychange",lp),Ri=fi=null)}function lp(e){if(e.propertyName==="value"&&Oo(Ri)){var t=[];sp(t,Ri,e,_u(e)),Ff(Pv,t)}}function Ov(e,t,n){e==="focusin"?(th(),fi=t,Ri=n,fi.attachEvent("onpropertychange",lp)):e==="focusout"&&th()}function Iv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Oo(Ri)}function jv(e,t){if(e==="click")return Oo(t)}function Nv(e,t){if(e==="input"||e==="change")return Oo(t)}function Lv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Pt=typeof Object.is=="function"?Object.is:Lv;function Oi(e,t){if(Pt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Ql.call(t,i)||!Pt(e[i],t[i]))return!1}return!0}function nh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function rh(e,t){var n=nh(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=nh(n)}}function ap(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?ap(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function up(){for(var e=window,t=Qs();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Qs(e.document)}return t}function Ru(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Dv(e){var t=up(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&ap(n.ownerDocument.documentElement,n)){if(r!==null&&Ru(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=rh(n,s);var o=rh(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var zv=Kt&&"documentMode"in document&&11>=document.documentMode,pr=null,ma=null,pi=null,ga=!1;function ih(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ga||pr==null||pr!==Qs(r)||(r=pr,"selectionStart"in r&&Ru(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),pi&&Oi(pi,r)||(pi=r,r=ro(ma,"onSelect"),0<r.length&&(t=new Tu("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=pr)))}function ms(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var mr={animationend:ms("Animation","AnimationEnd"),animationiteration:ms("Animation","AnimationIteration"),animationstart:ms("Animation","AnimationStart"),transitionend:ms("Transition","TransitionEnd")},hl={},cp={};Kt&&(cp=document.createElement("div").style,"AnimationEvent"in window||(delete mr.animationend.animation,delete mr.animationiteration.animation,delete mr.animationstart.animation),"TransitionEvent"in window||delete mr.transitionend.transition);function Io(e){if(hl[e])return hl[e];if(!mr[e])return e;var t=mr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in cp)return hl[e]=t[n];return e}var hp=Io("animationend"),dp=Io("animationiteration"),fp=Io("animationstart"),pp=Io("transitionend"),mp=new Map,sh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function xn(e,t){mp.set(e,t),Gn(t,[e])}for(var dl=0;dl<sh.length;dl++){var fl=sh[dl],$v=fl.toLowerCase(),Uv=fl[0].toUpperCase()+fl.slice(1);xn($v,"on"+Uv)}xn(hp,"onAnimationEnd");xn(dp,"onAnimationIteration");xn(fp,"onAnimationStart");xn("dblclick","onDoubleClick");xn("focusin","onFocus");xn("focusout","onBlur");xn(pp,"onTransitionEnd");Ir("onMouseEnter",["mouseout","mouseover"]);Ir("onMouseLeave",["mouseout","mouseover"]);Ir("onPointerEnter",["pointerout","pointerover"]);Ir("onPointerLeave",["pointerout","pointerover"]);Gn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Gn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Gn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Gn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Gn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Gn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ai="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Fv=new Set("cancel close invalid load scroll toggle".split(" ").concat(ai));function oh(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,$y(r,t,void 0,e),e.currentTarget=null}function gp(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var l=r[o],a=l.instance,u=l.currentTarget;if(l=l.listener,a!==s&&i.isPropagationStopped())break e;oh(i,l,u),s=a}else for(o=0;o<r.length;o++){if(l=r[o],a=l.instance,u=l.currentTarget,l=l.listener,a!==s&&i.isPropagationStopped())break e;oh(i,l,u),s=a}}}if(Xs)throw e=ha,Xs=!1,ha=null,e}function ue(e,t){var n=t[_a];n===void 0&&(n=t[_a]=new Set);var r=e+"__bubble";n.has(r)||(yp(t,e,2,!1),n.add(r))}function pl(e,t,n){var r=0;t&&(r|=4),yp(n,e,r,t)}var gs="_reactListening"+Math.random().toString(36).slice(2);function Ii(e){if(!e[gs]){e[gs]=!0,bf.forEach(function(n){n!=="selectionchange"&&(Fv.has(n)||pl(n,!1,e),pl(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[gs]||(t[gs]=!0,pl("selectionchange",!1,t))}}function yp(e,t,n,r){switch(ep(t)){case 1:var i=ev;break;case 4:i=tv;break;default:i=Eu}n=i.bind(null,t,n,e),i=void 0,!ca||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function ml(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var a=o.tag;if((a===3||a===4)&&(a=o.stateNode.containerInfo,a===i||a.nodeType===8&&a.parentNode===i))return;o=o.return}for(;l!==null;){if(o=Dn(l),o===null)return;if(a=o.tag,a===5||a===6){r=s=o;continue e}l=l.parentNode}}r=r.return}Ff(function(){var u=s,c=_u(n),h=[];e:{var d=mp.get(e);if(d!==void 0){var f=Tu,m=e;switch(e){case"keypress":if(Us(n)===0)break e;case"keydown":case"keyup":f=gv;break;case"focusin":m="focus",f=al;break;case"focusout":m="blur",f=al;break;case"beforeblur":case"afterblur":f=al;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=Gc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=iv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=wv;break;case hp:case dp:case fp:f=lv;break;case pp:f=_v;break;case"scroll":f=nv;break;case"wheel":f=Sv;break;case"copy":case"cut":case"paste":f=uv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=Qc}var v=(t&4)!==0,S=!v&&e==="scroll",p=v?d!==null?d+"Capture":null:d;v=[];for(var g=u,y;g!==null;){y=g;var b=y.stateNode;if(y.tag===5&&b!==null&&(y=b,p!==null&&(b=Ci(g,p),b!=null&&v.push(ji(g,b,y)))),S)break;g=g.return}0<v.length&&(d=new f(d,m,null,n,c),h.push({event:d,listeners:v}))}}if(!(t&7)){e:{if(d=e==="mouseover"||e==="pointerover",f=e==="mouseout"||e==="pointerout",d&&n!==aa&&(m=n.relatedTarget||n.fromElement)&&(Dn(m)||m[Gt]))break e;if((f||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,f?(m=n.relatedTarget||n.toElement,f=u,m=m?Dn(m):null,m!==null&&(S=Jn(m),m!==S||m.tag!==5&&m.tag!==6)&&(m=null)):(f=null,m=u),f!==m)){if(v=Gc,b="onMouseLeave",p="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(v=Qc,b="onPointerLeave",p="onPointerEnter",g="pointer"),S=f==null?d:gr(f),y=m==null?d:gr(m),d=new v(b,g+"leave",f,n,c),d.target=S,d.relatedTarget=y,b=null,Dn(c)===u&&(v=new v(p,g+"enter",m,n,c),v.target=y,v.relatedTarget=S,b=v),S=b,f&&m)t:{for(v=f,p=m,g=0,y=v;y;y=er(y))g++;for(y=0,b=p;b;b=er(b))y++;for(;0<g-y;)v=er(v),g--;for(;0<y-g;)p=er(p),y--;for(;g--;){if(v===p||p!==null&&v===p.alternate)break t;v=er(v),p=er(p)}v=null}else v=null;f!==null&&lh(h,d,f,v,!1),m!==null&&S!==null&&lh(h,S,m,v,!0)}}e:{if(d=u?gr(u):window,f=d.nodeName&&d.nodeName.toLowerCase(),f==="select"||f==="input"&&d.type==="file")var C=Rv;else if(Zc(d))if(op)C=Nv;else{C=Iv;var _=Ov}else(f=d.nodeName)&&f.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(C=jv);if(C&&(C=C(e,u))){sp(h,C,n,c);break e}_&&_(e,d,u),e==="focusout"&&(_=d._wrapperState)&&_.controlled&&d.type==="number"&&ra(d,"number",d.value)}switch(_=u?gr(u):window,e){case"focusin":(Zc(_)||_.contentEditable==="true")&&(pr=_,ma=u,pi=null);break;case"focusout":pi=ma=pr=null;break;case"mousedown":ga=!0;break;case"contextmenu":case"mouseup":case"dragend":ga=!1,ih(h,n,c);break;case"selectionchange":if(zv)break;case"keydown":case"keyup":ih(h,n,c)}var A;if(Pu)e:{switch(e){case"compositionstart":var O="onCompositionStart";break e;case"compositionend":O="onCompositionEnd";break e;case"compositionupdate":O="onCompositionUpdate";break e}O=void 0}else fr?rp(e,n)&&(O="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(O="onCompositionStart");O&&(np&&n.locale!=="ko"&&(fr||O!=="onCompositionStart"?O==="onCompositionEnd"&&fr&&(A=tp()):(cn=c,Cu="value"in cn?cn.value:cn.textContent,fr=!0)),_=ro(u,O),0<_.length&&(O=new Jc(O,e,null,n,c),h.push({event:O,listeners:_}),A?O.data=A:(A=ip(n),A!==null&&(O.data=A)))),(A=Ev?Cv(e,n):Tv(e,n))&&(u=ro(u,"onBeforeInput"),0<u.length&&(c=new Jc("onBeforeInput","beforeinput",null,n,c),h.push({event:c,listeners:u}),c.data=A))}gp(h,t)})}function ji(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ro(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Ci(e,n),s!=null&&r.unshift(ji(e,s,i)),s=Ci(e,t),s!=null&&r.push(ji(e,s,i))),e=e.return}return r}function er(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function lh(e,t,n,r,i){for(var s=t._reactName,o=[];n!==null&&n!==r;){var l=n,a=l.alternate,u=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&u!==null&&(l=u,i?(a=Ci(n,s),a!=null&&o.unshift(ji(n,a,l))):i||(a=Ci(n,s),a!=null&&o.push(ji(n,a,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var Mv=/\r\n?/g,Bv=/\u0000|\uFFFD/g;function ah(e){return(typeof e=="string"?e:""+e).replace(Mv,`
`).replace(Bv,"")}function ys(e,t,n){if(t=ah(t),ah(e)!==t&&n)throw Error(P(425))}function io(){}var ya=null,va=null;function wa(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ka=typeof setTimeout=="function"?setTimeout:void 0,Vv=typeof clearTimeout=="function"?clearTimeout:void 0,uh=typeof Promise=="function"?Promise:void 0,Hv=typeof queueMicrotask=="function"?queueMicrotask:typeof uh<"u"?function(e){return uh.resolve(null).then(e).catch(qv)}:ka;function qv(e){setTimeout(function(){throw e})}function gl(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Pi(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Pi(t)}function mn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function ch(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Br=Math.random().toString(36).slice(2),Nt="__reactFiber$"+Br,Ni="__reactProps$"+Br,Gt="__reactContainer$"+Br,_a="__reactEvents$"+Br,Wv="__reactListeners$"+Br,Kv="__reactHandles$"+Br;function Dn(e){var t=e[Nt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Gt]||n[Nt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=ch(e);e!==null;){if(n=e[Nt])return n;e=ch(e)}return t}e=n,n=e.parentNode}return null}function es(e){return e=e[Nt]||e[Gt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function gr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(P(33))}function jo(e){return e[Ni]||null}var xa=[],yr=-1;function Sn(e){return{current:e}}function ce(e){0>yr||(e.current=xa[yr],xa[yr]=null,yr--)}function le(e,t){yr++,xa[yr]=e.current,e.current=t}var _n={},$e=Sn(_n),Je=Sn(!1),Bn=_n;function jr(e,t){var n=e.type.contextTypes;if(!n)return _n;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Qe(e){return e=e.childContextTypes,e!=null}function so(){ce(Je),ce($e)}function hh(e,t,n){if($e.current!==_n)throw Error(P(168));le($e,t),le(Je,n)}function vp(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(P(108,Oy(e)||"Unknown",i));return pe({},n,r)}function oo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||_n,Bn=$e.current,le($e,e),le(Je,Je.current),!0}function dh(e,t,n){var r=e.stateNode;if(!r)throw Error(P(169));n?(e=vp(e,t,Bn),r.__reactInternalMemoizedMergedChildContext=e,ce(Je),ce($e),le($e,e)):ce(Je),le(Je,n)}var Vt=null,No=!1,yl=!1;function wp(e){Vt===null?Vt=[e]:Vt.push(e)}function Gv(e){No=!0,wp(e)}function bn(){if(!yl&&Vt!==null){yl=!0;var e=0,t=Z;try{var n=Vt;for(Z=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Vt=null,No=!1}catch(i){throw Vt!==null&&(Vt=Vt.slice(e+1)),Hf(xu,bn),i}finally{Z=t,yl=!1}}return null}var vr=[],wr=0,lo=null,ao=0,ct=[],ht=0,Vn=null,Ht=1,qt="";function Rn(e,t){vr[wr++]=ao,vr[wr++]=lo,lo=e,ao=t}function kp(e,t,n){ct[ht++]=Ht,ct[ht++]=qt,ct[ht++]=Vn,Vn=e;var r=Ht;e=qt;var i=32-Ct(r)-1;r&=~(1<<i),n+=1;var s=32-Ct(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Ht=1<<32-Ct(t)+i|n<<i|r,qt=s+e}else Ht=1<<s|n<<i|r,qt=e}function Ou(e){e.return!==null&&(Rn(e,1),kp(e,1,0))}function Iu(e){for(;e===lo;)lo=vr[--wr],vr[wr]=null,ao=vr[--wr],vr[wr]=null;for(;e===Vn;)Vn=ct[--ht],ct[ht]=null,qt=ct[--ht],ct[ht]=null,Ht=ct[--ht],ct[ht]=null}var st=null,it=null,he=!1,Et=null;function _p(e,t){var n=ft(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function fh(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,st=e,it=mn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,st=e,it=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Vn!==null?{id:Ht,overflow:qt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=ft(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,st=e,it=null,!0):!1;default:return!1}}function Sa(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ba(e){if(he){var t=it;if(t){var n=t;if(!fh(e,t)){if(Sa(e))throw Error(P(418));t=mn(n.nextSibling);var r=st;t&&fh(e,t)?_p(r,n):(e.flags=e.flags&-4097|2,he=!1,st=e)}}else{if(Sa(e))throw Error(P(418));e.flags=e.flags&-4097|2,he=!1,st=e}}}function ph(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;st=e}function vs(e){if(e!==st)return!1;if(!he)return ph(e),he=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!wa(e.type,e.memoizedProps)),t&&(t=it)){if(Sa(e))throw xp(),Error(P(418));for(;t;)_p(e,t),t=mn(t.nextSibling)}if(ph(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(P(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){it=mn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}it=null}}else it=st?mn(e.stateNode.nextSibling):null;return!0}function xp(){for(var e=it;e;)e=mn(e.nextSibling)}function Nr(){it=st=null,he=!1}function ju(e){Et===null?Et=[e]:Et.push(e)}var Jv=Yt.ReactCurrentBatchConfig;function Zr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(P(309));var r=n.stateNode}if(!r)throw Error(P(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var l=i.refs;o===null?delete l[s]:l[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(P(284));if(!n._owner)throw Error(P(290,e))}return e}function ws(e,t){throw e=Object.prototype.toString.call(t),Error(P(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function mh(e){var t=e._init;return t(e._payload)}function Sp(e){function t(p,g){if(e){var y=p.deletions;y===null?(p.deletions=[g],p.flags|=16):y.push(g)}}function n(p,g){if(!e)return null;for(;g!==null;)t(p,g),g=g.sibling;return null}function r(p,g){for(p=new Map;g!==null;)g.key!==null?p.set(g.key,g):p.set(g.index,g),g=g.sibling;return p}function i(p,g){return p=wn(p,g),p.index=0,p.sibling=null,p}function s(p,g,y){return p.index=y,e?(y=p.alternate,y!==null?(y=y.index,y<g?(p.flags|=2,g):y):(p.flags|=2,g)):(p.flags|=1048576,g)}function o(p){return e&&p.alternate===null&&(p.flags|=2),p}function l(p,g,y,b){return g===null||g.tag!==6?(g=bl(y,p.mode,b),g.return=p,g):(g=i(g,y),g.return=p,g)}function a(p,g,y,b){var C=y.type;return C===dr?c(p,g,y.props.children,b,y.key):g!==null&&(g.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===rn&&mh(C)===g.type)?(b=i(g,y.props),b.ref=Zr(p,g,y),b.return=p,b):(b=Ws(y.type,y.key,y.props,null,p.mode,b),b.ref=Zr(p,g,y),b.return=p,b)}function u(p,g,y,b){return g===null||g.tag!==4||g.stateNode.containerInfo!==y.containerInfo||g.stateNode.implementation!==y.implementation?(g=El(y,p.mode,b),g.return=p,g):(g=i(g,y.children||[]),g.return=p,g)}function c(p,g,y,b,C){return g===null||g.tag!==7?(g=Mn(y,p.mode,b,C),g.return=p,g):(g=i(g,y),g.return=p,g)}function h(p,g,y){if(typeof g=="string"&&g!==""||typeof g=="number")return g=bl(""+g,p.mode,y),g.return=p,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case as:return y=Ws(g.type,g.key,g.props,null,p.mode,y),y.ref=Zr(p,null,g),y.return=p,y;case hr:return g=El(g,p.mode,y),g.return=p,g;case rn:var b=g._init;return h(p,b(g._payload),y)}if(oi(g)||Gr(g))return g=Mn(g,p.mode,y,null),g.return=p,g;ws(p,g)}return null}function d(p,g,y,b){var C=g!==null?g.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return C!==null?null:l(p,g,""+y,b);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case as:return y.key===C?a(p,g,y,b):null;case hr:return y.key===C?u(p,g,y,b):null;case rn:return C=y._init,d(p,g,C(y._payload),b)}if(oi(y)||Gr(y))return C!==null?null:c(p,g,y,b,null);ws(p,y)}return null}function f(p,g,y,b,C){if(typeof b=="string"&&b!==""||typeof b=="number")return p=p.get(y)||null,l(g,p,""+b,C);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case as:return p=p.get(b.key===null?y:b.key)||null,a(g,p,b,C);case hr:return p=p.get(b.key===null?y:b.key)||null,u(g,p,b,C);case rn:var _=b._init;return f(p,g,y,_(b._payload),C)}if(oi(b)||Gr(b))return p=p.get(y)||null,c(g,p,b,C,null);ws(g,b)}return null}function m(p,g,y,b){for(var C=null,_=null,A=g,O=g=0,D=null;A!==null&&O<y.length;O++){A.index>O?(D=A,A=null):D=A.sibling;var E=d(p,A,y[O],b);if(E===null){A===null&&(A=D);break}e&&A&&E.alternate===null&&t(p,A),g=s(E,g,O),_===null?C=E:_.sibling=E,_=E,A=D}if(O===y.length)return n(p,A),he&&Rn(p,O),C;if(A===null){for(;O<y.length;O++)A=h(p,y[O],b),A!==null&&(g=s(A,g,O),_===null?C=A:_.sibling=A,_=A);return he&&Rn(p,O),C}for(A=r(p,A);O<y.length;O++)D=f(A,p,O,y[O],b),D!==null&&(e&&D.alternate!==null&&A.delete(D.key===null?O:D.key),g=s(D,g,O),_===null?C=D:_.sibling=D,_=D);return e&&A.forEach(function(N){return t(p,N)}),he&&Rn(p,O),C}function v(p,g,y,b){var C=Gr(y);if(typeof C!="function")throw Error(P(150));if(y=C.call(y),y==null)throw Error(P(151));for(var _=C=null,A=g,O=g=0,D=null,E=y.next();A!==null&&!E.done;O++,E=y.next()){A.index>O?(D=A,A=null):D=A.sibling;var N=d(p,A,E.value,b);if(N===null){A===null&&(A=D);break}e&&A&&N.alternate===null&&t(p,A),g=s(N,g,O),_===null?C=N:_.sibling=N,_=N,A=D}if(E.done)return n(p,A),he&&Rn(p,O),C;if(A===null){for(;!E.done;O++,E=y.next())E=h(p,E.value,b),E!==null&&(g=s(E,g,O),_===null?C=E:_.sibling=E,_=E);return he&&Rn(p,O),C}for(A=r(p,A);!E.done;O++,E=y.next())E=f(A,p,O,E.value,b),E!==null&&(e&&E.alternate!==null&&A.delete(E.key===null?O:E.key),g=s(E,g,O),_===null?C=E:_.sibling=E,_=E);return e&&A.forEach(function(z){return t(p,z)}),he&&Rn(p,O),C}function S(p,g,y,b){if(typeof y=="object"&&y!==null&&y.type===dr&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case as:e:{for(var C=y.key,_=g;_!==null;){if(_.key===C){if(C=y.type,C===dr){if(_.tag===7){n(p,_.sibling),g=i(_,y.props.children),g.return=p,p=g;break e}}else if(_.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===rn&&mh(C)===_.type){n(p,_.sibling),g=i(_,y.props),g.ref=Zr(p,_,y),g.return=p,p=g;break e}n(p,_);break}else t(p,_);_=_.sibling}y.type===dr?(g=Mn(y.props.children,p.mode,b,y.key),g.return=p,p=g):(b=Ws(y.type,y.key,y.props,null,p.mode,b),b.ref=Zr(p,g,y),b.return=p,p=b)}return o(p);case hr:e:{for(_=y.key;g!==null;){if(g.key===_)if(g.tag===4&&g.stateNode.containerInfo===y.containerInfo&&g.stateNode.implementation===y.implementation){n(p,g.sibling),g=i(g,y.children||[]),g.return=p,p=g;break e}else{n(p,g);break}else t(p,g);g=g.sibling}g=El(y,p.mode,b),g.return=p,p=g}return o(p);case rn:return _=y._init,S(p,g,_(y._payload),b)}if(oi(y))return m(p,g,y,b);if(Gr(y))return v(p,g,y,b);ws(p,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,g!==null&&g.tag===6?(n(p,g.sibling),g=i(g,y),g.return=p,p=g):(n(p,g),g=bl(y,p.mode,b),g.return=p,p=g),o(p)):n(p,g)}return S}var Lr=Sp(!0),bp=Sp(!1),uo=Sn(null),co=null,kr=null,Nu=null;function Lu(){Nu=kr=co=null}function Du(e){var t=uo.current;ce(uo),e._currentValue=t}function Ea(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ar(e,t){co=e,Nu=kr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ge=!0),e.firstContext=null)}function mt(e){var t=e._currentValue;if(Nu!==e)if(e={context:e,memoizedValue:t,next:null},kr===null){if(co===null)throw Error(P(308));kr=e,co.dependencies={lanes:0,firstContext:e}}else kr=kr.next=e;return t}var zn=null;function zu(e){zn===null?zn=[e]:zn.push(e)}function Ep(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,zu(t)):(n.next=i.next,i.next=n),t.interleaved=n,Jt(e,r)}function Jt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var sn=!1;function $u(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Cp(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Wt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function gn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,X&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Jt(e,n)}return i=r.interleaved,i===null?(t.next=t,zu(r)):(t.next=i.next,i.next=t),r.interleaved=t,Jt(e,n)}function Fs(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Su(e,n)}}function gh(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ho(e,t,n,r){var i=e.updateQueue;sn=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var a=l,u=a.next;a.next=null,o===null?s=u:o.next=u,o=a;var c=e.alternate;c!==null&&(c=c.updateQueue,l=c.lastBaseUpdate,l!==o&&(l===null?c.firstBaseUpdate=u:l.next=u,c.lastBaseUpdate=a))}if(s!==null){var h=i.baseState;o=0,c=u=a=null,l=s;do{var d=l.lane,f=l.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:f,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var m=e,v=l;switch(d=t,f=n,v.tag){case 1:if(m=v.payload,typeof m=="function"){h=m.call(f,h,d);break e}h=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=v.payload,d=typeof m=="function"?m.call(f,h,d):m,d==null)break e;h=pe({},h,d);break e;case 2:sn=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,d=i.effects,d===null?i.effects=[l]:d.push(l))}else f={eventTime:f,lane:d,tag:l.tag,payload:l.payload,callback:l.callback,next:null},c===null?(u=c=f,a=h):c=c.next=f,o|=d;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;d=l,l=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(c===null&&(a=h),i.baseState=a,i.firstBaseUpdate=u,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);qn|=o,e.lanes=o,e.memoizedState=h}}function yh(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(P(191,i));i.call(r)}}}var ts={},Dt=Sn(ts),Li=Sn(ts),Di=Sn(ts);function $n(e){if(e===ts)throw Error(P(174));return e}function Uu(e,t){switch(le(Di,t),le(Li,e),le(Dt,ts),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:sa(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=sa(t,e)}ce(Dt),le(Dt,t)}function Dr(){ce(Dt),ce(Li),ce(Di)}function Tp(e){$n(Di.current);var t=$n(Dt.current),n=sa(t,e.type);t!==n&&(le(Li,e),le(Dt,n))}function Fu(e){Li.current===e&&(ce(Dt),ce(Li))}var de=Sn(0);function fo(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var vl=[];function Mu(){for(var e=0;e<vl.length;e++)vl[e]._workInProgressVersionPrimary=null;vl.length=0}var Ms=Yt.ReactCurrentDispatcher,wl=Yt.ReactCurrentBatchConfig,Hn=0,fe=null,Ee=null,Te=null,po=!1,mi=!1,zi=0,Qv=0;function Ne(){throw Error(P(321))}function Bu(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Pt(e[n],t[n]))return!1;return!0}function Vu(e,t,n,r,i,s){if(Hn=s,fe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ms.current=e===null||e.memoizedState===null?ew:tw,e=n(r,i),mi){s=0;do{if(mi=!1,zi=0,25<=s)throw Error(P(301));s+=1,Te=Ee=null,t.updateQueue=null,Ms.current=nw,e=n(r,i)}while(mi)}if(Ms.current=mo,t=Ee!==null&&Ee.next!==null,Hn=0,Te=Ee=fe=null,po=!1,t)throw Error(P(300));return e}function Hu(){var e=zi!==0;return zi=0,e}function It(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Te===null?fe.memoizedState=Te=e:Te=Te.next=e,Te}function gt(){if(Ee===null){var e=fe.alternate;e=e!==null?e.memoizedState:null}else e=Ee.next;var t=Te===null?fe.memoizedState:Te.next;if(t!==null)Te=t,Ee=e;else{if(e===null)throw Error(P(310));Ee=e,e={memoizedState:Ee.memoizedState,baseState:Ee.baseState,baseQueue:Ee.baseQueue,queue:Ee.queue,next:null},Te===null?fe.memoizedState=Te=e:Te=Te.next=e}return Te}function $i(e,t){return typeof t=="function"?t(e):t}function kl(e){var t=gt(),n=t.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=e;var r=Ee,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=o=null,a=null,u=s;do{var c=u.lane;if((Hn&c)===c)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(l=a=h,o=r):a=a.next=h,fe.lanes|=c,qn|=c}u=u.next}while(u!==null&&u!==s);a===null?o=r:a.next=l,Pt(r,t.memoizedState)||(Ge=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=a,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,fe.lanes|=s,qn|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function _l(e){var t=gt(),n=t.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);Pt(s,t.memoizedState)||(Ge=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Ap(){}function Pp(e,t){var n=fe,r=gt(),i=t(),s=!Pt(r.memoizedState,i);if(s&&(r.memoizedState=i,Ge=!0),r=r.queue,qu(Ip.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||Te!==null&&Te.memoizedState.tag&1){if(n.flags|=2048,Ui(9,Op.bind(null,n,r,i,t),void 0,null),Ae===null)throw Error(P(349));Hn&30||Rp(n,t,i)}return i}function Rp(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=fe.updateQueue,t===null?(t={lastEffect:null,stores:null},fe.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Op(e,t,n,r){t.value=n,t.getSnapshot=r,jp(t)&&Np(e)}function Ip(e,t,n){return n(function(){jp(t)&&Np(e)})}function jp(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Pt(e,n)}catch{return!0}}function Np(e){var t=Jt(e,1);t!==null&&Tt(t,e,1,-1)}function vh(e){var t=It();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:$i,lastRenderedState:e},t.queue=e,e=e.dispatch=Zv.bind(null,fe,e),[t.memoizedState,e]}function Ui(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=fe.updateQueue,t===null?(t={lastEffect:null,stores:null},fe.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Lp(){return gt().memoizedState}function Bs(e,t,n,r){var i=It();fe.flags|=e,i.memoizedState=Ui(1|t,n,void 0,r===void 0?null:r)}function Lo(e,t,n,r){var i=gt();r=r===void 0?null:r;var s=void 0;if(Ee!==null){var o=Ee.memoizedState;if(s=o.destroy,r!==null&&Bu(r,o.deps)){i.memoizedState=Ui(t,n,s,r);return}}fe.flags|=e,i.memoizedState=Ui(1|t,n,s,r)}function wh(e,t){return Bs(8390656,8,e,t)}function qu(e,t){return Lo(2048,8,e,t)}function Dp(e,t){return Lo(4,2,e,t)}function zp(e,t){return Lo(4,4,e,t)}function $p(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Up(e,t,n){return n=n!=null?n.concat([e]):null,Lo(4,4,$p.bind(null,t,e),n)}function Wu(){}function Fp(e,t){var n=gt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Bu(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Mp(e,t){var n=gt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Bu(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Bp(e,t,n){return Hn&21?(Pt(n,t)||(n=Kf(),fe.lanes|=n,qn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ge=!0),e.memoizedState=n)}function Yv(e,t){var n=Z;Z=n!==0&&4>n?n:4,e(!0);var r=wl.transition;wl.transition={};try{e(!1),t()}finally{Z=n,wl.transition=r}}function Vp(){return gt().memoizedState}function Xv(e,t,n){var r=vn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Hp(e))qp(t,n);else if(n=Ep(e,t,n,r),n!==null){var i=Ve();Tt(n,e,r,i),Wp(n,t,r)}}function Zv(e,t,n){var r=vn(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Hp(e))qp(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,l=s(o,n);if(i.hasEagerState=!0,i.eagerState=l,Pt(l,o)){var a=t.interleaved;a===null?(i.next=i,zu(t)):(i.next=a.next,a.next=i),t.interleaved=i;return}}catch{}finally{}n=Ep(e,t,i,r),n!==null&&(i=Ve(),Tt(n,e,r,i),Wp(n,t,r))}}function Hp(e){var t=e.alternate;return e===fe||t!==null&&t===fe}function qp(e,t){mi=po=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Wp(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Su(e,n)}}var mo={readContext:mt,useCallback:Ne,useContext:Ne,useEffect:Ne,useImperativeHandle:Ne,useInsertionEffect:Ne,useLayoutEffect:Ne,useMemo:Ne,useReducer:Ne,useRef:Ne,useState:Ne,useDebugValue:Ne,useDeferredValue:Ne,useTransition:Ne,useMutableSource:Ne,useSyncExternalStore:Ne,useId:Ne,unstable_isNewReconciler:!1},ew={readContext:mt,useCallback:function(e,t){return It().memoizedState=[e,t===void 0?null:t],e},useContext:mt,useEffect:wh,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Bs(4194308,4,$p.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Bs(4194308,4,e,t)},useInsertionEffect:function(e,t){return Bs(4,2,e,t)},useMemo:function(e,t){var n=It();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=It();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Xv.bind(null,fe,e),[r.memoizedState,e]},useRef:function(e){var t=It();return e={current:e},t.memoizedState=e},useState:vh,useDebugValue:Wu,useDeferredValue:function(e){return It().memoizedState=e},useTransition:function(){var e=vh(!1),t=e[0];return e=Yv.bind(null,e[1]),It().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=fe,i=It();if(he){if(n===void 0)throw Error(P(407));n=n()}else{if(n=t(),Ae===null)throw Error(P(349));Hn&30||Rp(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,wh(Ip.bind(null,r,s,e),[e]),r.flags|=2048,Ui(9,Op.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=It(),t=Ae.identifierPrefix;if(he){var n=qt,r=Ht;n=(r&~(1<<32-Ct(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=zi++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Qv++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},tw={readContext:mt,useCallback:Fp,useContext:mt,useEffect:qu,useImperativeHandle:Up,useInsertionEffect:Dp,useLayoutEffect:zp,useMemo:Mp,useReducer:kl,useRef:Lp,useState:function(){return kl($i)},useDebugValue:Wu,useDeferredValue:function(e){var t=gt();return Bp(t,Ee.memoizedState,e)},useTransition:function(){var e=kl($i)[0],t=gt().memoizedState;return[e,t]},useMutableSource:Ap,useSyncExternalStore:Pp,useId:Vp,unstable_isNewReconciler:!1},nw={readContext:mt,useCallback:Fp,useContext:mt,useEffect:qu,useImperativeHandle:Up,useInsertionEffect:Dp,useLayoutEffect:zp,useMemo:Mp,useReducer:_l,useRef:Lp,useState:function(){return _l($i)},useDebugValue:Wu,useDeferredValue:function(e){var t=gt();return Ee===null?t.memoizedState=e:Bp(t,Ee.memoizedState,e)},useTransition:function(){var e=_l($i)[0],t=gt().memoizedState;return[e,t]},useMutableSource:Ap,useSyncExternalStore:Pp,useId:Vp,unstable_isNewReconciler:!1};function _t(e,t){if(e&&e.defaultProps){t=pe({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Ca(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:pe({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Do={isMounted:function(e){return(e=e._reactInternals)?Jn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ve(),i=vn(e),s=Wt(r,i);s.payload=t,n!=null&&(s.callback=n),t=gn(e,s,i),t!==null&&(Tt(t,e,i,r),Fs(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ve(),i=vn(e),s=Wt(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=gn(e,s,i),t!==null&&(Tt(t,e,i,r),Fs(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ve(),r=vn(e),i=Wt(n,r);i.tag=2,t!=null&&(i.callback=t),t=gn(e,i,r),t!==null&&(Tt(t,e,r,n),Fs(t,e,r))}};function kh(e,t,n,r,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,o):t.prototype&&t.prototype.isPureReactComponent?!Oi(n,r)||!Oi(i,s):!0}function Kp(e,t,n){var r=!1,i=_n,s=t.contextType;return typeof s=="object"&&s!==null?s=mt(s):(i=Qe(t)?Bn:$e.current,r=t.contextTypes,s=(r=r!=null)?jr(e,i):_n),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Do,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function _h(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Do.enqueueReplaceState(t,t.state,null)}function Ta(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},$u(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=mt(s):(s=Qe(t)?Bn:$e.current,i.context=jr(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(Ca(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Do.enqueueReplaceState(i,i.state,null),ho(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function zr(e,t){try{var n="",r=t;do n+=Ry(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function xl(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Aa(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var rw=typeof WeakMap=="function"?WeakMap:Map;function Gp(e,t,n){n=Wt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){yo||(yo=!0,$a=r),Aa(e,t)},n}function Jp(e,t,n){n=Wt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Aa(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Aa(e,t),typeof r!="function"&&(yn===null?yn=new Set([this]):yn.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function xh(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new rw;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=yw.bind(null,e,t,n),t.then(e,e))}function Sh(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function bh(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Wt(-1,1),t.tag=2,gn(n,t,1))),n.lanes|=1),e)}var iw=Yt.ReactCurrentOwner,Ge=!1;function Me(e,t,n,r){t.child=e===null?bp(t,null,n,r):Lr(t,e.child,n,r)}function Eh(e,t,n,r,i){n=n.render;var s=t.ref;return Ar(t,i),r=Vu(e,t,n,r,s,i),n=Hu(),e!==null&&!Ge?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Qt(e,t,i)):(he&&n&&Ou(t),t.flags|=1,Me(e,t,r,i),t.child)}function Ch(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!ec(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,Qp(e,t,s,r,i)):(e=Ws(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Oi,n(o,r)&&e.ref===t.ref)return Qt(e,t,i)}return t.flags|=1,e=wn(s,r),e.ref=t.ref,e.return=t,t.child=e}function Qp(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(Oi(s,r)&&e.ref===t.ref)if(Ge=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&(Ge=!0);else return t.lanes=e.lanes,Qt(e,t,i)}return Pa(e,t,n,r,i)}function Yp(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},le(xr,nt),nt|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,le(xr,nt),nt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,le(xr,nt),nt|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,le(xr,nt),nt|=r;return Me(e,t,i,n),t.child}function Xp(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Pa(e,t,n,r,i){var s=Qe(n)?Bn:$e.current;return s=jr(t,s),Ar(t,i),n=Vu(e,t,n,r,s,i),r=Hu(),e!==null&&!Ge?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Qt(e,t,i)):(he&&r&&Ou(t),t.flags|=1,Me(e,t,n,i),t.child)}function Th(e,t,n,r,i){if(Qe(n)){var s=!0;oo(t)}else s=!1;if(Ar(t,i),t.stateNode===null)Vs(e,t),Kp(t,n,r),Ta(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var a=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=mt(u):(u=Qe(n)?Bn:$e.current,u=jr(t,u));var c=n.getDerivedStateFromProps,h=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||a!==u)&&_h(t,o,r,u),sn=!1;var d=t.memoizedState;o.state=d,ho(t,r,o,i),a=t.memoizedState,l!==r||d!==a||Je.current||sn?(typeof c=="function"&&(Ca(t,n,c,r),a=t.memoizedState),(l=sn||kh(t,n,l,r,d,a,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=a),o.props=r,o.state=a,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Cp(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:_t(t.type,l),o.props=u,h=t.pendingProps,d=o.context,a=n.contextType,typeof a=="object"&&a!==null?a=mt(a):(a=Qe(n)?Bn:$e.current,a=jr(t,a));var f=n.getDerivedStateFromProps;(c=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||d!==a)&&_h(t,o,r,a),sn=!1,d=t.memoizedState,o.state=d,ho(t,r,o,i);var m=t.memoizedState;l!==h||d!==m||Je.current||sn?(typeof f=="function"&&(Ca(t,n,f,r),m=t.memoizedState),(u=sn||kh(t,n,u,r,d,m,a)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,m,a),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,m,a)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=m),o.props=r,o.state=m,o.context=a,r=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Ra(e,t,n,r,s,i)}function Ra(e,t,n,r,i,s){Xp(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&dh(t,n,!1),Qt(e,t,s);r=t.stateNode,iw.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Lr(t,e.child,null,s),t.child=Lr(t,null,l,s)):Me(e,t,l,s),t.memoizedState=r.state,i&&dh(t,n,!0),t.child}function Zp(e){var t=e.stateNode;t.pendingContext?hh(e,t.pendingContext,t.pendingContext!==t.context):t.context&&hh(e,t.context,!1),Uu(e,t.containerInfo)}function Ah(e,t,n,r,i){return Nr(),ju(i),t.flags|=256,Me(e,t,n,r),t.child}var Oa={dehydrated:null,treeContext:null,retryLane:0};function Ia(e){return{baseLanes:e,cachePool:null,transitions:null}}function em(e,t,n){var r=t.pendingProps,i=de.current,s=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),le(de,i&1),e===null)return ba(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,s?(r=t.mode,s=t.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Uo(o,r,0,null),e=Mn(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ia(n),t.memoizedState=Oa,e):Ku(t,o));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return sw(e,t,o,r,l,i,n);if(s){s=r.fallback,o=t.mode,i=e.child,l=i.sibling;var a={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=a,t.deletions=null):(r=wn(i,a),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=wn(l,s):(s=Mn(s,o,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,o=e.child.memoizedState,o=o===null?Ia(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~n,t.memoizedState=Oa,r}return s=e.child,e=s.sibling,r=wn(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Ku(e,t){return t=Uo({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ks(e,t,n,r){return r!==null&&ju(r),Lr(t,e.child,null,n),e=Ku(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function sw(e,t,n,r,i,s,o){if(n)return t.flags&256?(t.flags&=-257,r=xl(Error(P(422))),ks(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=Uo({mode:"visible",children:r.children},i,0,null),s=Mn(s,i,o,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&Lr(t,e.child,null,o),t.child.memoizedState=Ia(o),t.memoizedState=Oa,s);if(!(t.mode&1))return ks(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(P(419)),r=xl(s,r,void 0),ks(e,t,o,r)}if(l=(o&e.childLanes)!==0,Ge||l){if(r=Ae,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Jt(e,i),Tt(r,e,i,-1))}return Zu(),r=xl(Error(P(421))),ks(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=vw.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,it=mn(i.nextSibling),st=t,he=!0,Et=null,e!==null&&(ct[ht++]=Ht,ct[ht++]=qt,ct[ht++]=Vn,Ht=e.id,qt=e.overflow,Vn=t),t=Ku(t,r.children),t.flags|=4096,t)}function Ph(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Ea(e.return,t,n)}function Sl(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function tm(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(Me(e,t,r.children,n),r=de.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ph(e,n,t);else if(e.tag===19)Ph(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(le(de,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&fo(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Sl(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&fo(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Sl(t,!0,n,null,s);break;case"together":Sl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Vs(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Qt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),qn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(P(153));if(t.child!==null){for(e=t.child,n=wn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=wn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function ow(e,t,n){switch(t.tag){case 3:Zp(t),Nr();break;case 5:Tp(t);break;case 1:Qe(t.type)&&oo(t);break;case 4:Uu(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;le(uo,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(le(de,de.current&1),t.flags|=128,null):n&t.child.childLanes?em(e,t,n):(le(de,de.current&1),e=Qt(e,t,n),e!==null?e.sibling:null);le(de,de.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return tm(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),le(de,de.current),r)break;return null;case 22:case 23:return t.lanes=0,Yp(e,t,n)}return Qt(e,t,n)}var nm,ja,rm,im;nm=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ja=function(){};rm=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,$n(Dt.current);var s=null;switch(n){case"input":i=ta(e,i),r=ta(e,r),s=[];break;case"select":i=pe({},i,{value:void 0}),r=pe({},r,{value:void 0}),s=[];break;case"textarea":i=ia(e,i),r=ia(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=io)}oa(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(bi.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var a=r[u];if(l=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&a!==l&&(a!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||a&&a.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in a)a.hasOwnProperty(o)&&l[o]!==a[o]&&(n||(n={}),n[o]=a[o])}else n||(s||(s=[]),s.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(s=s||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(s=s||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(bi.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&ue("scroll",e),s||l===a||(s=[])):(s=s||[]).push(u,a))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};im=function(e,t,n,r){n!==r&&(t.flags|=4)};function ei(e,t){if(!he)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Le(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function lw(e,t,n){var r=t.pendingProps;switch(Iu(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Le(t),null;case 1:return Qe(t.type)&&so(),Le(t),null;case 3:return r=t.stateNode,Dr(),ce(Je),ce($e),Mu(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(vs(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Et!==null&&(Ma(Et),Et=null))),ja(e,t),Le(t),null;case 5:Fu(t);var i=$n(Di.current);if(n=t.type,e!==null&&t.stateNode!=null)rm(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(P(166));return Le(t),null}if(e=$n(Dt.current),vs(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Nt]=t,r[Ni]=s,e=(t.mode&1)!==0,n){case"dialog":ue("cancel",r),ue("close",r);break;case"iframe":case"object":case"embed":ue("load",r);break;case"video":case"audio":for(i=0;i<ai.length;i++)ue(ai[i],r);break;case"source":ue("error",r);break;case"img":case"image":case"link":ue("error",r),ue("load",r);break;case"details":ue("toggle",r);break;case"input":$c(r,s),ue("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},ue("invalid",r);break;case"textarea":Fc(r,s),ue("invalid",r)}oa(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&ys(r.textContent,l,e),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&ys(r.textContent,l,e),i=["children",""+l]):bi.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&ue("scroll",r)}switch(n){case"input":us(r),Uc(r,s,!0);break;case"textarea":us(r),Mc(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=io)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=If(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Nt]=t,e[Ni]=r,nm(e,t,!1,!1),t.stateNode=e;e:{switch(o=la(n,r),n){case"dialog":ue("cancel",e),ue("close",e),i=r;break;case"iframe":case"object":case"embed":ue("load",e),i=r;break;case"video":case"audio":for(i=0;i<ai.length;i++)ue(ai[i],e);i=r;break;case"source":ue("error",e),i=r;break;case"img":case"image":case"link":ue("error",e),ue("load",e),i=r;break;case"details":ue("toggle",e),i=r;break;case"input":$c(e,r),i=ta(e,r),ue("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=pe({},r,{value:void 0}),ue("invalid",e);break;case"textarea":Fc(e,r),i=ia(e,r),ue("invalid",e);break;default:i=r}oa(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var a=l[s];s==="style"?Lf(e,a):s==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&jf(e,a)):s==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&Ei(e,a):typeof a=="number"&&Ei(e,""+a):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(bi.hasOwnProperty(s)?a!=null&&s==="onScroll"&&ue("scroll",e):a!=null&&yu(e,s,a,o))}switch(n){case"input":us(e),Uc(e,r,!1);break;case"textarea":us(e),Mc(e);break;case"option":r.value!=null&&e.setAttribute("value",""+kn(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?br(e,!!r.multiple,s,!1):r.defaultValue!=null&&br(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=io)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Le(t),null;case 6:if(e&&t.stateNode!=null)im(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(P(166));if(n=$n(Di.current),$n(Dt.current),vs(t)){if(r=t.stateNode,n=t.memoizedProps,r[Nt]=t,(s=r.nodeValue!==n)&&(e=st,e!==null))switch(e.tag){case 3:ys(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ys(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Nt]=t,t.stateNode=r}return Le(t),null;case 13:if(ce(de),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(he&&it!==null&&t.mode&1&&!(t.flags&128))xp(),Nr(),t.flags|=98560,s=!1;else if(s=vs(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(P(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(P(317));s[Nt]=t}else Nr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Le(t),s=!1}else Et!==null&&(Ma(Et),Et=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||de.current&1?Ce===0&&(Ce=3):Zu())),t.updateQueue!==null&&(t.flags|=4),Le(t),null);case 4:return Dr(),ja(e,t),e===null&&Ii(t.stateNode.containerInfo),Le(t),null;case 10:return Du(t.type._context),Le(t),null;case 17:return Qe(t.type)&&so(),Le(t),null;case 19:if(ce(de),s=t.memoizedState,s===null)return Le(t),null;if(r=(t.flags&128)!==0,o=s.rendering,o===null)if(r)ei(s,!1);else{if(Ce!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=fo(e),o!==null){for(t.flags|=128,ei(s,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return le(de,de.current&1|2),t.child}e=e.sibling}s.tail!==null&&ve()>$r&&(t.flags|=128,r=!0,ei(s,!1),t.lanes=4194304)}else{if(!r)if(e=fo(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),ei(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!he)return Le(t),null}else 2*ve()-s.renderingStartTime>$r&&n!==1073741824&&(t.flags|=128,r=!0,ei(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(n=s.last,n!==null?n.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=ve(),t.sibling=null,n=de.current,le(de,r?n&1|2:n&1),t):(Le(t),null);case 22:case 23:return Xu(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?nt&1073741824&&(Le(t),t.subtreeFlags&6&&(t.flags|=8192)):Le(t),null;case 24:return null;case 25:return null}throw Error(P(156,t.tag))}function aw(e,t){switch(Iu(t),t.tag){case 1:return Qe(t.type)&&so(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Dr(),ce(Je),ce($e),Mu(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Fu(t),null;case 13:if(ce(de),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(P(340));Nr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ce(de),null;case 4:return Dr(),null;case 10:return Du(t.type._context),null;case 22:case 23:return Xu(),null;case 24:return null;default:return null}}var _s=!1,De=!1,uw=typeof WeakSet=="function"?WeakSet:Set,L=null;function _r(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ge(e,t,r)}else n.current=null}function Na(e,t,n){try{n()}catch(r){ge(e,t,r)}}var Rh=!1;function cw(e,t){if(ya=to,e=up(),Ru(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,l=-1,a=-1,u=0,c=0,h=e,d=null;t:for(;;){for(var f;h!==n||i!==0&&h.nodeType!==3||(l=o+i),h!==s||r!==0&&h.nodeType!==3||(a=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(f=h.firstChild)!==null;)d=h,h=f;for(;;){if(h===e)break t;if(d===n&&++u===i&&(l=o),d===s&&++c===r&&(a=o),(f=h.nextSibling)!==null)break;h=d,d=h.parentNode}h=f}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(va={focusedElem:e,selectionRange:n},to=!1,L=t;L!==null;)if(t=L,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,L=e;else for(;L!==null;){t=L;try{var m=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var v=m.memoizedProps,S=m.memoizedState,p=t.stateNode,g=p.getSnapshotBeforeUpdate(t.elementType===t.type?v:_t(t.type,v),S);p.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(P(163))}}catch(b){ge(t,t.return,b)}if(e=t.sibling,e!==null){e.return=t.return,L=e;break}L=t.return}return m=Rh,Rh=!1,m}function gi(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&Na(t,n,s)}i=i.next}while(i!==r)}}function zo(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function La(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function sm(e){var t=e.alternate;t!==null&&(e.alternate=null,sm(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Nt],delete t[Ni],delete t[_a],delete t[Wv],delete t[Kv])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function om(e){return e.tag===5||e.tag===3||e.tag===4}function Oh(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||om(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Da(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=io));else if(r!==4&&(e=e.child,e!==null))for(Da(e,t,n),e=e.sibling;e!==null;)Da(e,t,n),e=e.sibling}function za(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(za(e,t,n),e=e.sibling;e!==null;)za(e,t,n),e=e.sibling}var Oe=null,St=!1;function tn(e,t,n){for(n=n.child;n!==null;)lm(e,t,n),n=n.sibling}function lm(e,t,n){if(Lt&&typeof Lt.onCommitFiberUnmount=="function")try{Lt.onCommitFiberUnmount(Po,n)}catch{}switch(n.tag){case 5:De||_r(n,t);case 6:var r=Oe,i=St;Oe=null,tn(e,t,n),Oe=r,St=i,Oe!==null&&(St?(e=Oe,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Oe.removeChild(n.stateNode));break;case 18:Oe!==null&&(St?(e=Oe,n=n.stateNode,e.nodeType===8?gl(e.parentNode,n):e.nodeType===1&&gl(e,n),Pi(e)):gl(Oe,n.stateNode));break;case 4:r=Oe,i=St,Oe=n.stateNode.containerInfo,St=!0,tn(e,t,n),Oe=r,St=i;break;case 0:case 11:case 14:case 15:if(!De&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Na(n,t,o),i=i.next}while(i!==r)}tn(e,t,n);break;case 1:if(!De&&(_r(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){ge(n,t,l)}tn(e,t,n);break;case 21:tn(e,t,n);break;case 22:n.mode&1?(De=(r=De)||n.memoizedState!==null,tn(e,t,n),De=r):tn(e,t,n);break;default:tn(e,t,n)}}function Ih(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new uw),t.forEach(function(r){var i=ww.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function wt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Oe=l.stateNode,St=!1;break e;case 3:Oe=l.stateNode.containerInfo,St=!0;break e;case 4:Oe=l.stateNode.containerInfo,St=!0;break e}l=l.return}if(Oe===null)throw Error(P(160));lm(s,o,i),Oe=null,St=!1;var a=i.alternate;a!==null&&(a.return=null),i.return=null}catch(u){ge(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)am(t,e),t=t.sibling}function am(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(wt(t,e),Ot(e),r&4){try{gi(3,e,e.return),zo(3,e)}catch(v){ge(e,e.return,v)}try{gi(5,e,e.return)}catch(v){ge(e,e.return,v)}}break;case 1:wt(t,e),Ot(e),r&512&&n!==null&&_r(n,n.return);break;case 5:if(wt(t,e),Ot(e),r&512&&n!==null&&_r(n,n.return),e.flags&32){var i=e.stateNode;try{Ei(i,"")}catch(v){ge(e,e.return,v)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=n!==null?n.memoizedProps:s,l=e.type,a=e.updateQueue;if(e.updateQueue=null,a!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&Rf(i,s),la(l,o);var u=la(l,s);for(o=0;o<a.length;o+=2){var c=a[o],h=a[o+1];c==="style"?Lf(i,h):c==="dangerouslySetInnerHTML"?jf(i,h):c==="children"?Ei(i,h):yu(i,c,h,u)}switch(l){case"input":na(i,s);break;case"textarea":Of(i,s);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var f=s.value;f!=null?br(i,!!s.multiple,f,!1):d!==!!s.multiple&&(s.defaultValue!=null?br(i,!!s.multiple,s.defaultValue,!0):br(i,!!s.multiple,s.multiple?[]:"",!1))}i[Ni]=s}catch(v){ge(e,e.return,v)}}break;case 6:if(wt(t,e),Ot(e),r&4){if(e.stateNode===null)throw Error(P(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(v){ge(e,e.return,v)}}break;case 3:if(wt(t,e),Ot(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Pi(t.containerInfo)}catch(v){ge(e,e.return,v)}break;case 4:wt(t,e),Ot(e);break;case 13:wt(t,e),Ot(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Qu=ve())),r&4&&Ih(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(De=(u=De)||c,wt(t,e),De=u):wt(t,e),Ot(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(L=e,c=e.child;c!==null;){for(h=L=c;L!==null;){switch(d=L,f=d.child,d.tag){case 0:case 11:case 14:case 15:gi(4,d,d.return);break;case 1:_r(d,d.return);var m=d.stateNode;if(typeof m.componentWillUnmount=="function"){r=d,n=d.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(v){ge(r,n,v)}}break;case 5:_r(d,d.return);break;case 22:if(d.memoizedState!==null){Nh(h);continue}}f!==null?(f.return=d,L=f):Nh(h)}c=c.sibling}e:for(c=null,h=e;;){if(h.tag===5){if(c===null){c=h;try{i=h.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=h.stateNode,a=h.memoizedProps.style,o=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=Nf("display",o))}catch(v){ge(e,e.return,v)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(v){ge(e,e.return,v)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:wt(t,e),Ot(e),r&4&&Ih(e);break;case 21:break;default:wt(t,e),Ot(e)}}function Ot(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(om(n)){var r=n;break e}n=n.return}throw Error(P(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Ei(i,""),r.flags&=-33);var s=Oh(e);za(e,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=Oh(e);Da(e,l,o);break;default:throw Error(P(161))}}catch(a){ge(e,e.return,a)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function hw(e,t,n){L=e,um(e)}function um(e,t,n){for(var r=(e.mode&1)!==0;L!==null;){var i=L,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||_s;if(!o){var l=i.alternate,a=l!==null&&l.memoizedState!==null||De;l=_s;var u=De;if(_s=o,(De=a)&&!u)for(L=i;L!==null;)o=L,a=o.child,o.tag===22&&o.memoizedState!==null?Lh(i):a!==null?(a.return=o,L=a):Lh(i);for(;s!==null;)L=s,um(s),s=s.sibling;L=i,_s=l,De=u}jh(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,L=s):jh(e)}}function jh(e){for(;L!==null;){var t=L;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:De||zo(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!De)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:_t(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&yh(t,s,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}yh(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var a=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&Pi(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(P(163))}De||t.flags&512&&La(t)}catch(d){ge(t,t.return,d)}}if(t===e){L=null;break}if(n=t.sibling,n!==null){n.return=t.return,L=n;break}L=t.return}}function Nh(e){for(;L!==null;){var t=L;if(t===e){L=null;break}var n=t.sibling;if(n!==null){n.return=t.return,L=n;break}L=t.return}}function Lh(e){for(;L!==null;){var t=L;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{zo(4,t)}catch(a){ge(t,n,a)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(a){ge(t,i,a)}}var s=t.return;try{La(t)}catch(a){ge(t,s,a)}break;case 5:var o=t.return;try{La(t)}catch(a){ge(t,o,a)}}}catch(a){ge(t,t.return,a)}if(t===e){L=null;break}var l=t.sibling;if(l!==null){l.return=t.return,L=l;break}L=t.return}}var dw=Math.ceil,go=Yt.ReactCurrentDispatcher,Gu=Yt.ReactCurrentOwner,pt=Yt.ReactCurrentBatchConfig,X=0,Ae=null,xe=null,Ie=0,nt=0,xr=Sn(0),Ce=0,Fi=null,qn=0,$o=0,Ju=0,yi=null,Ke=null,Qu=0,$r=1/0,Mt=null,yo=!1,$a=null,yn=null,xs=!1,hn=null,vo=0,vi=0,Ua=null,Hs=-1,qs=0;function Ve(){return X&6?ve():Hs!==-1?Hs:Hs=ve()}function vn(e){return e.mode&1?X&2&&Ie!==0?Ie&-Ie:Jv.transition!==null?(qs===0&&(qs=Kf()),qs):(e=Z,e!==0||(e=window.event,e=e===void 0?16:ep(e.type)),e):1}function Tt(e,t,n,r){if(50<vi)throw vi=0,Ua=null,Error(P(185));Xi(e,n,r),(!(X&2)||e!==Ae)&&(e===Ae&&(!(X&2)&&($o|=n),Ce===4&&an(e,Ie)),Ye(e,r),n===1&&X===0&&!(t.mode&1)&&($r=ve()+500,No&&bn()))}function Ye(e,t){var n=e.callbackNode;Jy(e,t);var r=eo(e,e===Ae?Ie:0);if(r===0)n!==null&&Hc(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Hc(n),t===1)e.tag===0?Gv(Dh.bind(null,e)):wp(Dh.bind(null,e)),Hv(function(){!(X&6)&&bn()}),n=null;else{switch(Gf(r)){case 1:n=xu;break;case 4:n=qf;break;case 16:n=Zs;break;case 536870912:n=Wf;break;default:n=Zs}n=ym(n,cm.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function cm(e,t){if(Hs=-1,qs=0,X&6)throw Error(P(327));var n=e.callbackNode;if(Pr()&&e.callbackNode!==n)return null;var r=eo(e,e===Ae?Ie:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=wo(e,r);else{t=r;var i=X;X|=2;var s=dm();(Ae!==e||Ie!==t)&&(Mt=null,$r=ve()+500,Fn(e,t));do try{mw();break}catch(l){hm(e,l)}while(!0);Lu(),go.current=s,X=i,xe!==null?t=0:(Ae=null,Ie=0,t=Ce)}if(t!==0){if(t===2&&(i=da(e),i!==0&&(r=i,t=Fa(e,i))),t===1)throw n=Fi,Fn(e,0),an(e,r),Ye(e,ve()),n;if(t===6)an(e,r);else{if(i=e.current.alternate,!(r&30)&&!fw(i)&&(t=wo(e,r),t===2&&(s=da(e),s!==0&&(r=s,t=Fa(e,s))),t===1))throw n=Fi,Fn(e,0),an(e,r),Ye(e,ve()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(P(345));case 2:On(e,Ke,Mt);break;case 3:if(an(e,r),(r&130023424)===r&&(t=Qu+500-ve(),10<t)){if(eo(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Ve(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ka(On.bind(null,e,Ke,Mt),t);break}On(e,Ke,Mt);break;case 4:if(an(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-Ct(r);s=1<<o,o=t[o],o>i&&(i=o),r&=~s}if(r=i,r=ve()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*dw(r/1960))-r,10<r){e.timeoutHandle=ka(On.bind(null,e,Ke,Mt),r);break}On(e,Ke,Mt);break;case 5:On(e,Ke,Mt);break;default:throw Error(P(329))}}}return Ye(e,ve()),e.callbackNode===n?cm.bind(null,e):null}function Fa(e,t){var n=yi;return e.current.memoizedState.isDehydrated&&(Fn(e,t).flags|=256),e=wo(e,t),e!==2&&(t=Ke,Ke=n,t!==null&&Ma(t)),e}function Ma(e){Ke===null?Ke=e:Ke.push.apply(Ke,e)}function fw(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Pt(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function an(e,t){for(t&=~Ju,t&=~$o,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ct(t),r=1<<n;e[n]=-1,t&=~r}}function Dh(e){if(X&6)throw Error(P(327));Pr();var t=eo(e,0);if(!(t&1))return Ye(e,ve()),null;var n=wo(e,t);if(e.tag!==0&&n===2){var r=da(e);r!==0&&(t=r,n=Fa(e,r))}if(n===1)throw n=Fi,Fn(e,0),an(e,t),Ye(e,ve()),n;if(n===6)throw Error(P(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,On(e,Ke,Mt),Ye(e,ve()),null}function Yu(e,t){var n=X;X|=1;try{return e(t)}finally{X=n,X===0&&($r=ve()+500,No&&bn())}}function Wn(e){hn!==null&&hn.tag===0&&!(X&6)&&Pr();var t=X;X|=1;var n=pt.transition,r=Z;try{if(pt.transition=null,Z=1,e)return e()}finally{Z=r,pt.transition=n,X=t,!(X&6)&&bn()}}function Xu(){nt=xr.current,ce(xr)}function Fn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Vv(n)),xe!==null)for(n=xe.return;n!==null;){var r=n;switch(Iu(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&so();break;case 3:Dr(),ce(Je),ce($e),Mu();break;case 5:Fu(r);break;case 4:Dr();break;case 13:ce(de);break;case 19:ce(de);break;case 10:Du(r.type._context);break;case 22:case 23:Xu()}n=n.return}if(Ae=e,xe=e=wn(e.current,null),Ie=nt=t,Ce=0,Fi=null,Ju=$o=qn=0,Ke=yi=null,zn!==null){for(t=0;t<zn.length;t++)if(n=zn[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}zn=null}return e}function hm(e,t){do{var n=xe;try{if(Lu(),Ms.current=mo,po){for(var r=fe.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}po=!1}if(Hn=0,Te=Ee=fe=null,mi=!1,zi=0,Gu.current=null,n===null||n.return===null){Ce=1,Fi=t,xe=null;break}e:{var s=e,o=n.return,l=n,a=t;if(t=Ie,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,c=l,h=c.tag;if(!(c.mode&1)&&(h===0||h===11||h===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var f=Sh(o);if(f!==null){f.flags&=-257,bh(f,o,l,s,t),f.mode&1&&xh(s,u,t),t=f,a=u;var m=t.updateQueue;if(m===null){var v=new Set;v.add(a),t.updateQueue=v}else m.add(a);break e}else{if(!(t&1)){xh(s,u,t),Zu();break e}a=Error(P(426))}}else if(he&&l.mode&1){var S=Sh(o);if(S!==null){!(S.flags&65536)&&(S.flags|=256),bh(S,o,l,s,t),ju(zr(a,l));break e}}s=a=zr(a,l),Ce!==4&&(Ce=2),yi===null?yi=[s]:yi.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var p=Gp(s,a,t);gh(s,p);break e;case 1:l=a;var g=s.type,y=s.stateNode;if(!(s.flags&128)&&(typeof g.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(yn===null||!yn.has(y)))){s.flags|=65536,t&=-t,s.lanes|=t;var b=Jp(s,l,t);gh(s,b);break e}}s=s.return}while(s!==null)}pm(n)}catch(C){t=C,xe===n&&n!==null&&(xe=n=n.return);continue}break}while(!0)}function dm(){var e=go.current;return go.current=mo,e===null?mo:e}function Zu(){(Ce===0||Ce===3||Ce===2)&&(Ce=4),Ae===null||!(qn&268435455)&&!($o&268435455)||an(Ae,Ie)}function wo(e,t){var n=X;X|=2;var r=dm();(Ae!==e||Ie!==t)&&(Mt=null,Fn(e,t));do try{pw();break}catch(i){hm(e,i)}while(!0);if(Lu(),X=n,go.current=r,xe!==null)throw Error(P(261));return Ae=null,Ie=0,Ce}function pw(){for(;xe!==null;)fm(xe)}function mw(){for(;xe!==null&&!Fy();)fm(xe)}function fm(e){var t=gm(e.alternate,e,nt);e.memoizedProps=e.pendingProps,t===null?pm(e):xe=t,Gu.current=null}function pm(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=aw(n,t),n!==null){n.flags&=32767,xe=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ce=6,xe=null;return}}else if(n=lw(n,t,nt),n!==null){xe=n;return}if(t=t.sibling,t!==null){xe=t;return}xe=t=e}while(t!==null);Ce===0&&(Ce=5)}function On(e,t,n){var r=Z,i=pt.transition;try{pt.transition=null,Z=1,gw(e,t,n,r)}finally{pt.transition=i,Z=r}return null}function gw(e,t,n,r){do Pr();while(hn!==null);if(X&6)throw Error(P(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(P(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(Qy(e,s),e===Ae&&(xe=Ae=null,Ie=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||xs||(xs=!0,ym(Zs,function(){return Pr(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=pt.transition,pt.transition=null;var o=Z;Z=1;var l=X;X|=4,Gu.current=null,cw(e,n),am(n,e),Dv(va),to=!!ya,va=ya=null,e.current=n,hw(n),My(),X=l,Z=o,pt.transition=s}else e.current=n;if(xs&&(xs=!1,hn=e,vo=i),s=e.pendingLanes,s===0&&(yn=null),Hy(n.stateNode),Ye(e,ve()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(yo)throw yo=!1,e=$a,$a=null,e;return vo&1&&e.tag!==0&&Pr(),s=e.pendingLanes,s&1?e===Ua?vi++:(vi=0,Ua=e):vi=0,bn(),null}function Pr(){if(hn!==null){var e=Gf(vo),t=pt.transition,n=Z;try{if(pt.transition=null,Z=16>e?16:e,hn===null)var r=!1;else{if(e=hn,hn=null,vo=0,X&6)throw Error(P(331));var i=X;for(X|=4,L=e.current;L!==null;){var s=L,o=s.child;if(L.flags&16){var l=s.deletions;if(l!==null){for(var a=0;a<l.length;a++){var u=l[a];for(L=u;L!==null;){var c=L;switch(c.tag){case 0:case 11:case 15:gi(8,c,s)}var h=c.child;if(h!==null)h.return=c,L=h;else for(;L!==null;){c=L;var d=c.sibling,f=c.return;if(sm(c),c===u){L=null;break}if(d!==null){d.return=f,L=d;break}L=f}}}var m=s.alternate;if(m!==null){var v=m.child;if(v!==null){m.child=null;do{var S=v.sibling;v.sibling=null,v=S}while(v!==null)}}L=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,L=o;else e:for(;L!==null;){if(s=L,s.flags&2048)switch(s.tag){case 0:case 11:case 15:gi(9,s,s.return)}var p=s.sibling;if(p!==null){p.return=s.return,L=p;break e}L=s.return}}var g=e.current;for(L=g;L!==null;){o=L;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,L=y;else e:for(o=g;L!==null;){if(l=L,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:zo(9,l)}}catch(C){ge(l,l.return,C)}if(l===o){L=null;break e}var b=l.sibling;if(b!==null){b.return=l.return,L=b;break e}L=l.return}}if(X=i,bn(),Lt&&typeof Lt.onPostCommitFiberRoot=="function")try{Lt.onPostCommitFiberRoot(Po,e)}catch{}r=!0}return r}finally{Z=n,pt.transition=t}}return!1}function zh(e,t,n){t=zr(n,t),t=Gp(e,t,1),e=gn(e,t,1),t=Ve(),e!==null&&(Xi(e,1,t),Ye(e,t))}function ge(e,t,n){if(e.tag===3)zh(e,e,n);else for(;t!==null;){if(t.tag===3){zh(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(yn===null||!yn.has(r))){e=zr(n,e),e=Jp(t,e,1),t=gn(t,e,1),e=Ve(),t!==null&&(Xi(t,1,e),Ye(t,e));break}}t=t.return}}function yw(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Ve(),e.pingedLanes|=e.suspendedLanes&n,Ae===e&&(Ie&n)===n&&(Ce===4||Ce===3&&(Ie&130023424)===Ie&&500>ve()-Qu?Fn(e,0):Ju|=n),Ye(e,t)}function mm(e,t){t===0&&(e.mode&1?(t=ds,ds<<=1,!(ds&130023424)&&(ds=4194304)):t=1);var n=Ve();e=Jt(e,t),e!==null&&(Xi(e,t,n),Ye(e,n))}function vw(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),mm(e,n)}function ww(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(P(314))}r!==null&&r.delete(t),mm(e,n)}var gm;gm=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Je.current)Ge=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Ge=!1,ow(e,t,n);Ge=!!(e.flags&131072)}else Ge=!1,he&&t.flags&1048576&&kp(t,ao,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Vs(e,t),e=t.pendingProps;var i=jr(t,$e.current);Ar(t,n),i=Vu(null,t,r,e,i,n);var s=Hu();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Qe(r)?(s=!0,oo(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,$u(t),i.updater=Do,t.stateNode=i,i._reactInternals=t,Ta(t,r,e,n),t=Ra(null,t,r,!0,s,n)):(t.tag=0,he&&s&&Ou(t),Me(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Vs(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=_w(r),e=_t(r,e),i){case 0:t=Pa(null,t,r,e,n);break e;case 1:t=Th(null,t,r,e,n);break e;case 11:t=Eh(null,t,r,e,n);break e;case 14:t=Ch(null,t,r,_t(r.type,e),n);break e}throw Error(P(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:_t(r,i),Pa(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:_t(r,i),Th(e,t,r,i,n);case 3:e:{if(Zp(t),e===null)throw Error(P(387));r=t.pendingProps,s=t.memoizedState,i=s.element,Cp(e,t),ho(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=zr(Error(P(423)),t),t=Ah(e,t,r,n,i);break e}else if(r!==i){i=zr(Error(P(424)),t),t=Ah(e,t,r,n,i);break e}else for(it=mn(t.stateNode.containerInfo.firstChild),st=t,he=!0,Et=null,n=bp(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Nr(),r===i){t=Qt(e,t,n);break e}Me(e,t,r,n)}t=t.child}return t;case 5:return Tp(t),e===null&&ba(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,wa(r,i)?o=null:s!==null&&wa(r,s)&&(t.flags|=32),Xp(e,t),Me(e,t,o,n),t.child;case 6:return e===null&&ba(t),null;case 13:return em(e,t,n);case 4:return Uu(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Lr(t,null,r,n):Me(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:_t(r,i),Eh(e,t,r,i,n);case 7:return Me(e,t,t.pendingProps,n),t.child;case 8:return Me(e,t,t.pendingProps.children,n),t.child;case 12:return Me(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,le(uo,r._currentValue),r._currentValue=o,s!==null)if(Pt(s.value,o)){if(s.children===i.children&&!Je.current){t=Qt(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(s.tag===1){a=Wt(-1,n&-n),a.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?a.next=a:(a.next=c.next,c.next=a),u.pending=a}}s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),Ea(s.return,n,t),l.lanes|=n;break}a=a.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(P(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Ea(o,n,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Me(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ar(t,n),i=mt(i),r=r(i),t.flags|=1,Me(e,t,r,n),t.child;case 14:return r=t.type,i=_t(r,t.pendingProps),i=_t(r.type,i),Ch(e,t,r,i,n);case 15:return Qp(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:_t(r,i),Vs(e,t),t.tag=1,Qe(r)?(e=!0,oo(t)):e=!1,Ar(t,n),Kp(t,r,i),Ta(t,r,i,n),Ra(null,t,r,!0,e,n);case 19:return tm(e,t,n);case 22:return Yp(e,t,n)}throw Error(P(156,t.tag))};function ym(e,t){return Hf(e,t)}function kw(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ft(e,t,n,r){return new kw(e,t,n,r)}function ec(e){return e=e.prototype,!(!e||!e.isReactComponent)}function _w(e){if(typeof e=="function")return ec(e)?1:0;if(e!=null){if(e=e.$$typeof,e===wu)return 11;if(e===ku)return 14}return 2}function wn(e,t){var n=e.alternate;return n===null?(n=ft(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ws(e,t,n,r,i,s){var o=2;if(r=e,typeof e=="function")ec(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case dr:return Mn(n.children,i,s,t);case vu:o=8,i|=8;break;case Yl:return e=ft(12,n,t,i|2),e.elementType=Yl,e.lanes=s,e;case Xl:return e=ft(13,n,t,i),e.elementType=Xl,e.lanes=s,e;case Zl:return e=ft(19,n,t,i),e.elementType=Zl,e.lanes=s,e;case Tf:return Uo(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ef:o=10;break e;case Cf:o=9;break e;case wu:o=11;break e;case ku:o=14;break e;case rn:o=16,r=null;break e}throw Error(P(130,e==null?e:typeof e,""))}return t=ft(o,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function Mn(e,t,n,r){return e=ft(7,e,r,t),e.lanes=n,e}function Uo(e,t,n,r){return e=ft(22,e,r,t),e.elementType=Tf,e.lanes=n,e.stateNode={isHidden:!1},e}function bl(e,t,n){return e=ft(6,e,null,t),e.lanes=n,e}function El(e,t,n){return t=ft(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function xw(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=sl(0),this.expirationTimes=sl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=sl(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function tc(e,t,n,r,i,s,o,l,a){return e=new xw(e,t,n,l,a),t===1?(t=1,s===!0&&(t|=8)):t=0,s=ft(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},$u(s),e}function Sw(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:hr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function vm(e){if(!e)return _n;e=e._reactInternals;e:{if(Jn(e)!==e||e.tag!==1)throw Error(P(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Qe(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(P(171))}if(e.tag===1){var n=e.type;if(Qe(n))return vp(e,n,t)}return t}function wm(e,t,n,r,i,s,o,l,a){return e=tc(n,r,!0,e,i,s,o,l,a),e.context=vm(null),n=e.current,r=Ve(),i=vn(n),s=Wt(r,i),s.callback=t??null,gn(n,s,i),e.current.lanes=i,Xi(e,i,r),Ye(e,r),e}function Fo(e,t,n,r){var i=t.current,s=Ve(),o=vn(i);return n=vm(n),t.context===null?t.context=n:t.pendingContext=n,t=Wt(s,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=gn(i,t,o),e!==null&&(Tt(e,i,o,s),Fs(e,i,o)),o}function ko(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function $h(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function nc(e,t){$h(e,t),(e=e.alternate)&&$h(e,t)}function bw(){return null}var km=typeof reportError=="function"?reportError:function(e){console.error(e)};function rc(e){this._internalRoot=e}Mo.prototype.render=rc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(P(409));Fo(e,t,null,null)};Mo.prototype.unmount=rc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Wn(function(){Fo(null,e,null,null)}),t[Gt]=null}};function Mo(e){this._internalRoot=e}Mo.prototype.unstable_scheduleHydration=function(e){if(e){var t=Yf();e={blockedOn:null,target:e,priority:t};for(var n=0;n<ln.length&&t!==0&&t<ln[n].priority;n++);ln.splice(n,0,e),n===0&&Zf(e)}};function ic(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Bo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Uh(){}function Ew(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=ko(o);s.call(u)}}var o=wm(t,r,e,0,null,!1,!1,"",Uh);return e._reactRootContainer=o,e[Gt]=o.current,Ii(e.nodeType===8?e.parentNode:e),Wn(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var u=ko(a);l.call(u)}}var a=tc(e,0,!1,null,null,!1,!1,"",Uh);return e._reactRootContainer=a,e[Gt]=a.current,Ii(e.nodeType===8?e.parentNode:e),Wn(function(){Fo(t,a,n,r)}),a}function Vo(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var l=i;i=function(){var a=ko(o);l.call(a)}}Fo(t,o,e,i)}else o=Ew(n,t,e,i,r);return ko(o)}Jf=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=li(t.pendingLanes);n!==0&&(Su(t,n|1),Ye(t,ve()),!(X&6)&&($r=ve()+500,bn()))}break;case 13:Wn(function(){var r=Jt(e,1);if(r!==null){var i=Ve();Tt(r,e,1,i)}}),nc(e,1)}};bu=function(e){if(e.tag===13){var t=Jt(e,134217728);if(t!==null){var n=Ve();Tt(t,e,134217728,n)}nc(e,134217728)}};Qf=function(e){if(e.tag===13){var t=vn(e),n=Jt(e,t);if(n!==null){var r=Ve();Tt(n,e,t,r)}nc(e,t)}};Yf=function(){return Z};Xf=function(e,t){var n=Z;try{return Z=e,t()}finally{Z=n}};ua=function(e,t,n){switch(t){case"input":if(na(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=jo(r);if(!i)throw Error(P(90));Pf(r),na(r,i)}}}break;case"textarea":Of(e,n);break;case"select":t=n.value,t!=null&&br(e,!!n.multiple,t,!1)}};$f=Yu;Uf=Wn;var Cw={usingClientEntryPoint:!1,Events:[es,gr,jo,Df,zf,Yu]},ti={findFiberByHostInstance:Dn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Tw={bundleType:ti.bundleType,version:ti.version,rendererPackageName:ti.rendererPackageName,rendererConfig:ti.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Yt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Bf(e),e===null?null:e.stateNode},findFiberByHostInstance:ti.findFiberByHostInstance||bw,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ss=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ss.isDisabled&&Ss.supportsFiber)try{Po=Ss.inject(Tw),Lt=Ss}catch{}}at.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Cw;at.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ic(t))throw Error(P(200));return Sw(e,t,null,n)};at.createRoot=function(e,t){if(!ic(e))throw Error(P(299));var n=!1,r="",i=km;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=tc(e,1,!1,null,null,n,!1,r,i),e[Gt]=t.current,Ii(e.nodeType===8?e.parentNode:e),new rc(t)};at.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(P(188)):(e=Object.keys(e).join(","),Error(P(268,e)));return e=Bf(t),e=e===null?null:e.stateNode,e};at.flushSync=function(e){return Wn(e)};at.hydrate=function(e,t,n){if(!Bo(t))throw Error(P(200));return Vo(null,e,t,!0,n)};at.hydrateRoot=function(e,t,n){if(!ic(e))throw Error(P(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=km;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=wm(t,null,e,1,n??null,i,!1,s,o),e[Gt]=t.current,Ii(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Mo(t)};at.render=function(e,t,n){if(!Bo(t))throw Error(P(200));return Vo(null,e,t,!1,n)};at.unmountComponentAtNode=function(e){if(!Bo(e))throw Error(P(40));return e._reactRootContainer?(Wn(function(){Vo(null,null,e,!1,function(){e._reactRootContainer=null,e[Gt]=null})}),!0):!1};at.unstable_batchedUpdates=Yu;at.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Bo(n))throw Error(P(200));if(e==null||e._reactInternals===void 0)throw Error(P(38));return Vo(e,t,n,!1,r)};at.version="18.3.1-next-f1338f8080-20240426";function _m(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(_m)}catch(e){console.error(e)}}_m(),_f.exports=at;var Aw=_f.exports,Fh=Aw;Jl.createRoot=Fh.createRoot,Jl.hydrateRoot=Fh.hydrateRoot;function Ho(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function Pw(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function l(c){try{u(r.next(c))}catch(h){o(h)}}function a(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?s(c.value):i(c.value).then(l,a)}u((r=r.apply(e,t||[])).next())})}const Rw=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class sc extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class Ow extends sc{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Mh extends sc{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Bh extends sc{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Ba;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Ba||(Ba={}));class Iw{constructor(t,{headers:n={},customFetch:r,region:i=Ba.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=Rw(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return Pw(this,arguments,void 0,function*(n,r={}){var i;let s,o;try{const{headers:l,method:a,body:u,signal:c,timeout:h}=r;let d={},{region:f}=r;f||(f=this.region);const m=new URL(`${this.url}/${n}`);f&&f!=="any"&&(d["x-region"]=f,m.searchParams.set("forceFunctionRegion",f));let v;u&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(d["Content-Type"]="application/octet-stream",v=u):typeof u=="string"?(d["Content-Type"]="text/plain",v=u):typeof FormData<"u"&&u instanceof FormData?v=u:(d["Content-Type"]="application/json",v=JSON.stringify(u)):u&&typeof u!="string"&&!(typeof Blob<"u"&&u instanceof Blob)&&!(u instanceof ArrayBuffer)&&!(typeof FormData<"u"&&u instanceof FormData)?v=JSON.stringify(u):v=u;let S=c;h&&(o=new AbortController,s=setTimeout(()=>o.abort(),h),c?(S=o.signal,c.addEventListener("abort",()=>o.abort())):S=o.signal);const p=yield this.fetch(m.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},d),this.headers),l),body:v,signal:S}).catch(C=>{throw new Ow(C)}),g=p.headers.get("x-relay-error");if(g&&g==="true")throw new Mh(p);if(!p.ok)throw new Bh(p);let y=((i=p.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),b;return y==="application/json"?b=yield p.json():y==="application/octet-stream"||y==="application/pdf"?b=yield p.blob():y==="text/event-stream"?b=p:y==="multipart/form-data"?b=yield p.formData():b=yield p.text(),{data:b,error:null,response:p}}catch(l){return{data:null,error:l,response:l instanceof Bh||l instanceof Mh?l.context:void 0}}finally{s&&clearTimeout(s)}})}}var jw=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},Nw=class{constructor(e){var t,n,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(n=e.isMaybeSingle)!==null&&n!==void 0?n:!1,this.urlLengthLimit=(r=e.urlLengthLimit)!==null&&r!==void 0?r:8e3,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{let o=null,l=null,a=null,u=s.status,c=s.statusText;if(s.ok){var h,d;if(n.method!=="HEAD"){var f;const p=await s.text();p===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((f=n.headers.get("Accept"))===null||f===void 0)&&f.includes("application/vnd.pgrst.plan+text"))?l=p:l=JSON.parse(p))}const v=(h=n.headers.get("Prefer"))===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),S=(d=s.headers.get("content-range"))===null||d===void 0?void 0:d.split("/");v&&S&&S.length>1&&(a=parseInt(S[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(l)&&(l.length>1?(o={code:"PGRST116",details:`Results contain ${l.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},l=null,a=null,u=406,c="Not Acceptable"):l.length===1?l=l[0]:l=null)}else{var m;const v=await s.text();try{o=JSON.parse(v),Array.isArray(o)&&s.status===404&&(l=[],o=null,u=200,c="OK")}catch{s.status===404&&v===""?(u=204,c="No Content"):o={message:v}}if(o&&n.isMaybeSingle&&(!(o==null||(m=o.details)===null||m===void 0)&&m.includes("0 rows"))&&(o=null,u=200,c="OK"),o&&n.shouldThrowOnError)throw new jw(o)}return{error:o,data:l,count:a,status:u,statusText:c}});return this.shouldThrowOnError||(i=i.catch(s=>{var o;let l="",a="",u="";const c=s==null?void 0:s.cause;if(c){var h,d,f,m;const p=(h=c==null?void 0:c.message)!==null&&h!==void 0?h:"",g=(d=c==null?void 0:c.code)!==null&&d!==void 0?d:"";l=`${(f=s==null?void 0:s.name)!==null&&f!==void 0?f:"FetchError"}: ${s==null?void 0:s.message}`,l+=`

Caused by: ${(m=c==null?void 0:c.name)!==null&&m!==void 0?m:"Error"}: ${p}`,g&&(l+=` (${g})`),c!=null&&c.stack&&(l+=`
${c.stack}`)}else{var v;l=(v=s==null?void 0:s.stack)!==null&&v!==void 0?v:""}const S=this.url.toString().length;return(s==null?void 0:s.name)==="AbortError"||(s==null?void 0:s.code)==="ABORT_ERR"?(u="",a="Request was aborted (timeout or manual cancellation)",S>this.urlLengthLimit&&(a+=`. Note: Your request URL is ${S} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):((c==null?void 0:c.name)==="HeadersOverflowError"||(c==null?void 0:c.code)==="UND_ERR_HEADERS_OVERFLOW")&&(u="",a="HTTP headers exceeded server limits (typically 16KB)",S>this.urlLengthLimit&&(a+=`. Your request URL is ${S} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(o=s==null?void 0:s.name)!==null&&o!==void 0?o:"FetchError"}: ${s==null?void 0:s.message}`,details:l,hint:a,code:u},data:null,count:null,status:0,statusText:""}})),i.then(e,t)}returns(){return this}overrideTypes(){return this}},Lw=class extends Nw{select(e){let t=!1;const n=(e??"*").split("").map(r=>/\s/.test(r)&&!t?"":(r==='"'&&(t=!t),r)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:n,foreignTable:r,referencedTable:i=r}={}){const s=i?`${i}.order`:"order",o=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${o?`${o},`:""}${e}.${t?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:n=t}={}){const r=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${e}`),this}range(e,t,{foreignTable:n,referencedTable:r=n}={}){const i=typeof r>"u"?"offset":`${r}.offset`,s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(s,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:r=!1,wal:i=!1,format:s="text"}={}){var o;const l=[e?"analyze":null,t?"verbose":null,n?"settings":null,r?"buffers":null,i?"wal":null].filter(Boolean).join("|"),a=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${s}; for="${a}"; options=${l};`),s==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const Vh=new RegExp("[,()]");var lr=class extends Lw{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const n=Array.from(new Set(t)).map(r=>typeof r=="string"&&Vh.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}notIn(e,t){const n=Array.from(new Set(t)).map(r=>typeof r=="string"&&Vh.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`not.in.(${n})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:n,type:r}={}){let i="";r==="plain"?i="pl":r==="phrase"?i="ph":r==="websearch"&&(i="w");const s=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${i}fts${s}.${t}`),this}match(e){return Object.entries(e).forEach(([t,n])=>{this.url.searchParams.append(t,`eq.${n}`)}),this}not(e,t,n){return this.url.searchParams.append(e,`not.${t}.${n}`),this}or(e,{foreignTable:t,referencedTable:n=t}={}){const r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${e})`),this}filter(e,t,n){return this.url.searchParams.append(e,`${t}.${n}`),this}},Dw=class{constructor(e,{headers:t={},schema:n,fetch:r,urlLengthLimit:i=8e3}){this.url=e,this.headers=new Headers(t),this.schema=n,this.fetch=r,this.urlLengthLimit=i}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:n=!1,count:r}=t??{},i=n?"HEAD":"GET";let s=!1;const o=(e??"*").split("").map(u=>/\s/.test(u)&&!s?"":(u==='"'&&(s=!s),u)).join(""),{url:l,headers:a}=this.cloneRequestState();return l.searchParams.set("select",o),r&&a.append("Prefer",`count=${r}`),new lr({method:i,url:l,headers:a,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(e,{count:t,defaultToNull:n=!0}={}){var r;const i="POST",{url:s,headers:o}=this.cloneRequestState();if(t&&o.append("Prefer",`count=${t}`),n||o.append("Prefer","missing=default"),Array.isArray(e)){const l=e.reduce((a,u)=>a.concat(Object.keys(u)),[]);if(l.length>0){const a=[...new Set(l)].map(u=>`"${u}"`);s.searchParams.set("columns",a.join(","))}}return new lr({method:i,url:s,headers:o,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(e,{onConflict:t,ignoreDuplicates:n=!1,count:r,defaultToNull:i=!0}={}){var s;const o="POST",{url:l,headers:a}=this.cloneRequestState();if(a.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),t!==void 0&&l.searchParams.set("on_conflict",t),r&&a.append("Prefer",`count=${r}`),i||a.append("Prefer","missing=default"),Array.isArray(e)){const u=e.reduce((c,h)=>c.concat(Object.keys(h)),[]);if(u.length>0){const c=[...new Set(u)].map(h=>`"${h}"`);l.searchParams.set("columns",c.join(","))}}return new lr({method:o,url:l,headers:a,schema:this.schema,body:e,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch,urlLengthLimit:this.urlLengthLimit})}update(e,{count:t}={}){var n;const r="PATCH",{url:i,headers:s}=this.cloneRequestState();return t&&s.append("Prefer",`count=${t}`),new lr({method:r,url:i,headers:s,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:e}={}){var t;const n="DELETE",{url:r,headers:i}=this.cloneRequestState();return e&&i.append("Prefer",`count=${e}`),new lr({method:n,url:r,headers:i,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch,urlLengthLimit:this.urlLengthLimit})}};function Mi(e){"@babel/helpers - typeof";return Mi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mi(e)}function zw(e,t){if(Mi(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Mi(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $w(e){var t=zw(e,"string");return Mi(t)=="symbol"?t:t+""}function Uw(e,t,n){return(t=$w(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Hh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function bs(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Hh(Object(n),!0).forEach(function(r){Uw(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hh(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var Fw=class xm{constructor(t,{headers:n={},schema:r,fetch:i,timeout:s,urlLengthLimit:o=8e3}={}){this.url=t,this.headers=new Headers(n),this.schemaName=r,this.urlLengthLimit=o;const l=i??globalThis.fetch;s!==void 0&&s>0?this.fetch=(a,u)=>{const c=new AbortController,h=setTimeout(()=>c.abort(),s),d=u==null?void 0:u.signal;if(d){if(d.aborted)return clearTimeout(h),l(a,u);const f=()=>{clearTimeout(h),c.abort()};return d.addEventListener("abort",f,{once:!0}),l(a,bs(bs({},u),{},{signal:c.signal})).finally(()=>{clearTimeout(h),d.removeEventListener("abort",f)})}return l(a,bs(bs({},u),{},{signal:c.signal})).finally(()=>clearTimeout(h))}:this.fetch=l}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new Dw(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(t){return new xm(this.url,{headers:this.headers,schema:t,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(t,n={},{head:r=!1,get:i=!1,count:s}={}){var o;let l;const a=new URL(`${this.url}/rpc/${t}`);let u;const c=f=>f!==null&&typeof f=="object"&&(!Array.isArray(f)||f.some(c)),h=r&&Object.values(n).some(c);h?(l="POST",u=n):r||i?(l=r?"HEAD":"GET",Object.entries(n).filter(([f,m])=>m!==void 0).map(([f,m])=>[f,Array.isArray(m)?`{${m.join(",")}}`:`${m}`]).forEach(([f,m])=>{a.searchParams.append(f,m)})):(l="POST",u=n);const d=new Headers(this.headers);return h?d.set("Prefer",s?`count=${s},return=minimal`:"return=minimal"):s&&d.set("Prefer",`count=${s}`),new lr({method:l,url:a,headers:d,schema:this.schemaName,body:u,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch,urlLengthLimit:this.urlLengthLimit})}};class Mw{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const n=globalThis.process;if(n){const r=n.versions;if(r&&r.node){const i=r.node,s=parseInt(i.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const Bw="2.98.0",Vw=`realtime-js/${Bw}`,Hw="1.0.0",Sm="2.0.0",qh=Sm,Va=1e4,qw=1e3,Ww=100;var on;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(on||(on={}));var be;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(be||(be={}));var bt;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(bt||(bt={}));var Ha;(function(e){e.websocket="websocket"})(Ha||(Ha={}));var jn;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(jn||(jn={}));class Kw{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,n){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(t));let r=[t.join_ref,t.ref,t.topic,t.event,t.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(t){var n;return this._isArrayBuffer((n=t.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var n,r;const i=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(t){var n,r;const i=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},o=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(t,n,r){var i,s;const o=t.topic,l=(i=t.ref)!==null&&i!==void 0?i:"",a=(s=t.join_ref)!==null&&s!==void 0?s:"",u=t.payload.event,c=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},h=Object.keys(c).length===0?"":JSON.stringify(c);if(a.length>255)throw new Error(`joinRef length ${a.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`ref length ${l.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`metadata length ${h.length} exceeds maximum of 255`);const d=this.USER_BROADCAST_PUSH_META_LENGTH+a.length+l.length+o.length+u.length+h.length,f=new ArrayBuffer(this.HEADER_LENGTH+d);let m=new DataView(f),v=0;m.setUint8(v++,this.KINDS.userBroadcastPush),m.setUint8(v++,a.length),m.setUint8(v++,l.length),m.setUint8(v++,o.length),m.setUint8(v++,u.length),m.setUint8(v++,h.length),m.setUint8(v++,n),Array.from(a,p=>m.setUint8(v++,p.charCodeAt(0))),Array.from(l,p=>m.setUint8(v++,p.charCodeAt(0))),Array.from(o,p=>m.setUint8(v++,p.charCodeAt(0))),Array.from(u,p=>m.setUint8(v++,p.charCodeAt(0))),Array.from(h,p=>m.setUint8(v++,p.charCodeAt(0)));var S=new Uint8Array(f.byteLength+r.byteLength);return S.set(new Uint8Array(f),0),S.set(new Uint8Array(r),f.byteLength),S.buffer}decode(t,n){if(this._isArrayBuffer(t)){let r=this._binaryDecode(t);return n(r)}if(typeof t=="string"){const r=JSON.parse(t),[i,s,o,l,a]=r;return n({join_ref:i,ref:s,topic:o,event:l,payload:a})}return n({})}_binaryDecode(t){const n=new DataView(t),r=n.getUint8(0),i=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,n,i)}}_decodeUserBroadcast(t,n,r){const i=n.getUint8(1),s=n.getUint8(2),o=n.getUint8(3),l=n.getUint8(4);let a=this.HEADER_LENGTH+4;const u=r.decode(t.slice(a,a+i));a=a+i;const c=r.decode(t.slice(a,a+s));a=a+s;const h=r.decode(t.slice(a,a+o));a=a+o;const d=t.slice(a,t.byteLength),f=l===this.JSON_ENCODING?JSON.parse(r.decode(d)):d,m={type:this.BROADCAST_EVENT,event:c,payload:f};return o>0&&(m.meta=JSON.parse(h)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:m}}_isArrayBuffer(t){var n;return t instanceof ArrayBuffer||((n=t==null?void 0:t.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(t,n){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([r])=>n.includes(r)))}}class bm{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var se;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(se||(se={}));const Wh=(e,t,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((s,o)=>(s[o]=Gw(o,e,t,i),s),{}):{}},Gw=(e,t,n,r)=>{const i=t.find(l=>l.name===e),s=i==null?void 0:i.type,o=n[e];return s&&!r.includes(s)?Em(s,o):qa(o)},Em=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return Xw(t,n)}switch(e){case se.bool:return Jw(t);case se.float4:case se.float8:case se.int2:case se.int4:case se.int8:case se.numeric:case se.oid:return Qw(t);case se.json:case se.jsonb:return Yw(t);case se.timestamp:return Zw(t);case se.abstime:case se.date:case se.daterange:case se.int4range:case se.int8range:case se.money:case se.reltime:case se.text:case se.time:case se.timestamptz:case se.timetz:case se.tsrange:case se.tstzrange:return qa(t);default:return qa(t)}},qa=e=>e,Jw=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Qw=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Yw=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},Xw=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let s;const o=e.slice(1,n);try{s=JSON.parse("["+o+"]")}catch{s=o?o.split(","):[]}return s.map(l=>Em(t,l))}return e},Zw=e=>typeof e=="string"?e.replace(" ","T"):e,Cm=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Cl{constructor(t,n,r={},i=Va){this.channel=t,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Kh;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Kh||(Kh={}));class wi{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:s,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=wi.syncState(this.state,i,s,o),this.pendingDiffs.forEach(a=>{this.state=wi.syncDiff(this.state,a,s,o)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},i=>{const{onJoin:s,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=wi.syncDiff(this.state,i,s,o),l())}),this.onJoin((i,s,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:o})}),this.onLeave((i,s,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,i){const s=this.cloneDeep(t),o=this.transformState(n),l={},a={};return this.map(s,(u,c)=>{o[u]||(a[u]=c)}),this.map(o,(u,c)=>{const h=s[u];if(h){const d=c.map(S=>S.presence_ref),f=h.map(S=>S.presence_ref),m=c.filter(S=>f.indexOf(S.presence_ref)<0),v=h.filter(S=>d.indexOf(S.presence_ref)<0);m.length>0&&(l[u]=m),v.length>0&&(a[u]=v)}else l[u]=c}),this.syncDiff(s,{joins:l,leaves:a},r,i)}static syncDiff(t,n,r,i){const{joins:s,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(s,(l,a)=>{var u;const c=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(a),c.length>0){const h=t[l].map(f=>f.presence_ref),d=c.filter(f=>h.indexOf(f.presence_ref)<0);t[l].unshift(...d)}r(l,c,a)}),this.map(o,(l,a)=>{let u=t[l];if(!u)return;const c=a.map(h=>h.presence_ref);u=u.filter(h=>c.indexOf(h.presence_ref)<0),t[l]=u,i(l,u,a),u.length===0&&delete t[l]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const i=t[r];return"metas"in i?n[r]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):n[r]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Gh;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Gh||(Gh={}));var ki;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(ki||(ki={}));var Bt;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Bt||(Bt={}));class Sr{constructor(t,n={config:{}},r){var i,s;if(this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=be.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Cl(this,bt.join,this.params,this.timeout),this.rejoinTimer=new bm(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=be.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=be.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=be.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=be.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=be.errored,this.rejoinTimer.scheduleTimeout())}),this._on(bt.reply,{},(o,l)=>{this._trigger(this._replyEventName(l),o)}),this.presence=new wi(this),this.broadcastEndpointURL=Cm(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((s=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||s===void 0)&&s.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var r,i,s;if(this.socket.isConnected()||this.socket.connect(),this.state==be.closed){const{config:{broadcast:o,presence:l,private:a}}=this.params,u=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(f=>f.filter))!==null&&i!==void 0?i:[],c=!!this.bindings[ki.PRESENCE]&&this.bindings[ki.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,h={},d={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:c}),postgres_changes:u,private:a};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(f=>t==null?void 0:t(Bt.CHANNEL_ERROR,f)),this._onClose(()=>t==null?void 0:t(Bt.CLOSED)),this.updateJoinPayload(Object.assign({config:d},h)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:f})=>{var m;if(this.socket._isManualToken()||this.socket.setAuth(),f===void 0){t==null||t(Bt.SUBSCRIBED);return}else{const v=this.bindings.postgres_changes,S=(m=v==null?void 0:v.length)!==null&&m!==void 0?m:0,p=[];for(let g=0;g<S;g++){const y=v[g],{filter:{event:b,schema:C,table:_,filter:A}}=y,O=f&&f[g];if(O&&O.event===b&&Sr.isFilterValueEqual(O.schema,C)&&Sr.isFilterValueEqual(O.table,_)&&Sr.isFilterValueEqual(O.filter,A))p.push(Object.assign(Object.assign({},y),{id:O.id}));else{this.unsubscribe(),this.state=be.errored,t==null||t(Bt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=p,t&&t(Bt.SUBSCRIBED);return}}).receive("error",f=>{this.state=be.errored,t==null||t(Bt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Bt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===be.joined&&t===ki.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,n,r)}async httpSend(t,n,r={}){var i;if(n==null)return Promise.reject("Payload is required for httpSend()");const s={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(s.Authorization=`Bearer ${this.socket.accessTokenValue}`);const o={method:"POST",headers:s,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);if(l.status===202)return{success:!0};let a=l.statusText;try{const u=await l.json();a=u.error||u.message||a}catch{}return Promise.reject(new Error(a))}async send(t,n={}){var r,i;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:s,payload:o}=t,l={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(l.Authorization=`Bearer ${this.socket.accessTokenValue}`);const a={method:"POST",headers:l,body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var o,l,a;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((a=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||a===void 0)&&a.ack)&&s("ok"),u.receive("ok",()=>s("ok")),u.receive("error",()=>s("error")),u.receive("timeout",()=>s("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=be.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(bt.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new Cl(this,bt.leave,{},t),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=be.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const i=new AbortController,s=setTimeout(()=>i.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(s),o}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Cl(this,t,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>Ww){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var i,s;const o=t.toLocaleLowerCase(),{close:l,error:a,leave:u,join:c}=bt;if(r&&[l,a,u,c].indexOf(o)>=0&&r!==this._joinRef())return;let d=this._onMessage(o,n,r);if(n&&!d)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(f=>{var m,v,S;return((m=f.filter)===null||m===void 0?void 0:m.event)==="*"||((S=(v=f.filter)===null||v===void 0?void 0:v.event)===null||S===void 0?void 0:S.toLocaleLowerCase())===o}).map(f=>f.callback(d,r)):(s=this.bindings[o])===null||s===void 0||s.filter(f=>{var m,v,S,p,g,y;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in f){const b=f.id,C=(m=f.filter)===null||m===void 0?void 0:m.event;return b&&((v=n.ids)===null||v===void 0?void 0:v.includes(b))&&(C==="*"||(C==null?void 0:C.toLocaleLowerCase())===((S=n.data)===null||S===void 0?void 0:S.type.toLocaleLowerCase()))}else{const b=(g=(p=f==null?void 0:f.filter)===null||p===void 0?void 0:p.event)===null||g===void 0?void 0:g.toLocaleLowerCase();return b==="*"||b===((y=n==null?void 0:n.event)===null||y===void 0?void 0:y.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===o}).map(f=>{if(typeof d=="object"&&"ids"in d){const m=d.data,{schema:v,table:S,commit_timestamp:p,type:g,errors:y}=m;d=Object.assign(Object.assign({},{schema:v,table:S,commit_timestamp:p,eventType:g,new:{},old:{},errors:y}),this._getPayloadRecords(m))}f.callback(d,r)})}_isClosed(){return this.state===be.closed}_isJoined(){return this.state===be.joined}_isJoining(){return this.state===be.joining}_isLeaving(){return this.state===be.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const i=t.toLocaleLowerCase(),s={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===r&&Sr.isEqual(i.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}static isFilterValueEqual(t,n){return(t??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(bt.close,{},t)}_onError(t){this._on(bt.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=be.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=Wh(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=Wh(t.columns,t.old_record)),n}}const Tl=()=>{},Es={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},e0=[1e3,2e3,5e3,1e4],t0=1e4,n0=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class r0{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Va,this.transport=null,this.heartbeatIntervalMs=Es.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Tl,this.ref=0,this.reconnectTimer=null,this.vsn=qh,this.logger=Tl,this.conn=null,this.sendBuffer=[],this.serializer=new Kw,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=i=>i?(...s)=>i(...s):(...s)=>fetch(...s),!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${Ha.websocket}`,this.httpEndpoint=Cm(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Mw.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case on.connecting:return jn.Connecting;case on.open:return jn.Open;case on.closing:return jn.Closing;default:return jn.Closed}}isConnected(){return this.connectionState()===jn.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,i=this.getChannels().find(s=>s.topic===r);if(i)return i;{const s=new Sr(`realtime:${t}`,n,this);return this.channels.push(s),s}}push(t){const{topic:n,event:r,payload:i,ref:s}=t,o=()=>{this.encode(t,l=>{var a;(a=this.conn)===null||a===void 0||a.send(l)})};this.log("push",`${n} ${r} (${s})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(qw,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Es.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply"&&n.ref&&n.ref===this.pendingHeartbeatRef){const u=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error",u)}catch(c){this.log("error","error in heartbeat callback",c)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:r,event:i,payload:s,ref:o}=n,l=o?`(${o})`:"",a=s.status||"";this.log("receive",`${a} ${r} ${i} ${l}`.trim(),s),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(i,s,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===on.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===on.open||this.conn.readyState===on.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.accessTokenValue&&(this.channels.forEach(n=>{n.updateJoinPayload({access_token:this.accessTokenValue})}),this.sendBuffer=[],this.channels.forEach(n=>{n._isJoining()&&(n.joinPush.sent=!1,n.joinPush.send())})),this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t);try{this.heartbeatCallback("error")}catch(n){this.log("error","error in heartbeat callback",n)}}_triggerChanError(){this.channels.forEach(t=>t._trigger(bt.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${r}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([n0],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n,r=!1;if(t)n=t,r=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),n=this.accessTokenValue}else n=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(i=>{const s={access_token:n,version:Vw};n&&i.updateJoinPayload(s),i.joinedOnce&&i._isJoined()&&i._push(bt.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new bm(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Es.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,i,s,o,l,a,u,c,h,d,f;switch(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t==null?void 0:t.timeout)!==null&&r!==void 0?r:Va,this.heartbeatIntervalMs=(i=t==null?void 0:t.heartbeatIntervalMs)!==null&&i!==void 0?i:Es.HEARTBEAT_INTERVAL,this.worker=(s=t==null?void 0:t.worker)!==null&&s!==void 0?s:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:Tl,this.vsn=(a=t==null?void 0:t.vsn)!==null&&a!==void 0?a:qh,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t==null?void 0:t.reconnectAfterMs)!==null&&u!==void 0?u:m=>e0[m-1]||t0,this.vsn){case Hw:this.encode=(c=t==null?void 0:t.encode)!==null&&c!==void 0?c:(m,v)=>v(JSON.stringify(m)),this.decode=(h=t==null?void 0:t.decode)!==null&&h!==void 0?h:(m,v)=>v(JSON.parse(m));break;case Sm:this.encode=(d=t==null?void 0:t.encode)!==null&&d!==void 0?d:this.serializer.encode.bind(this.serializer),this.decode=(f=t==null?void 0:t.decode)!==null&&f!==void 0?f:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var Bi=class extends Error{constructor(e,t){var n;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((n=t.icebergType)==null?void 0:n.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function i0(e,t,n){const r=new URL(t,e);if(n)for(const[i,s]of Object.entries(n))s!==void 0&&r.searchParams.set(i,s);return r.toString()}async function s0(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function o0(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:i,body:s,headers:o}){const l=i0(e.baseUrl,r,i),a=await s0(e.auth),u=await t(l,{method:n,headers:{...s?{"Content-Type":"application/json"}:{},...a,...o},body:s?JSON.stringify(s):void 0}),c=await u.text(),h=(u.headers.get("content-type")||"").includes("application/json"),d=h&&c?JSON.parse(c):c;if(!u.ok){const f=h?d:void 0,m=f==null?void 0:f.error;throw new Bi((m==null?void 0:m.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:m==null?void 0:m.type,icebergCode:m==null?void 0:m.code,details:f})}return{status:u.status,headers:u.headers,data:d}}}}function Cs(e){return e.join("")}var l0=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:Cs(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(e,t){const n={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Cs(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Cs(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Cs(e.namespace)}`}),!0}catch(t){if(t instanceof Bi&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(n){if(n instanceof Bi&&n.status===409)return;throw n}}};function tr(e){return e.join("")}var a0=class{constructor(e,t="",n){this.client=e,this.prefix=t,this.accessDelegation=n}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${tr(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${tr(e.namespace)}/tables`,body:t,headers:n})).data.metadata}async updateTable(e,t){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${tr(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${tr(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${tr(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${tr(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(n){if(n instanceof Bi&&n.status===404)return!1;throw n}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(n){if(n instanceof Bi&&n.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw n}}},u0=class{constructor(e){var r;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const n=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=o0({baseUrl:n,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(r=e.accessDelegation)==null?void 0:r.join(","),this.namespaceOps=new l0(this.client,t),this.tableOps=new a0(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},qo=class extends Error{constructor(e,t="storage",n,r){super(e),this.__isStorageError=!0,this.namespace=t,this.name=t==="vectors"?"StorageVectorsError":"StorageError",this.status=n,this.statusCode=r}};function Wo(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var Ts=class extends qo{constructor(e,t,n,r="storage"){super(e,r,t,n),this.name=r==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Tm=class extends qo{constructor(e,t,n="storage"){super(e,n),this.name=n==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=t}};const c0=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),h0=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Wa=e=>{if(Array.isArray(e))return e.map(n=>Wa(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));t[i]=Wa(r)}),t},d0=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function Vi(e){"@babel/helpers - typeof";return Vi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vi(e)}function f0(e,t){if(Vi(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Vi(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function p0(e){var t=f0(e,"string");return Vi(t)=="symbol"?t:t+""}function m0(e,t,n){return(t=p0(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Jh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function M(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Jh(Object(n),!0).forEach(function(r){m0(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jh(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const Qh=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},g0=async(e,t,n,r)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(n!=null&&n.noResolveJson)){const i=e,s=i.status||500;if(typeof i.json=="function")i.json().then(o=>{const l=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||s+"";t(new Ts(Qh(o),s,l,r))}).catch(()=>{if(r==="vectors"){const o=s+"";t(new Ts(i.statusText||`HTTP ${s} error`,s,o,r))}else{const o=s+"";t(new Ts(i.statusText||`HTTP ${s} error`,s,o,r))}});else{const o=s+"";t(new Ts(i.statusText||`HTTP ${s} error`,s,o,r))}}else t(new Tm(Qh(e),e,r))},y0=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||e==="HEAD"||!r?M(M({},i),n):(h0(r)?(i.headers=M({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(r)):i.body=r,t!=null&&t.duplex&&(i.duplex=t.duplex),M(M({},i),n))};async function ni(e,t,n,r,i,s,o){return new Promise((l,a)=>{e(n,y0(t,r,i,s)).then(u=>{if(!u.ok)throw u;if(r!=null&&r.noResolveJson)return u;if(o==="vectors"){const c=u.headers.get("content-type");if(u.headers.get("content-length")==="0"||u.status===204)return{};if(!c||!c.includes("application/json"))return{}}return u.json()}).then(u=>l(u)).catch(u=>g0(u,a,r,o))})}function Am(e="storage"){return{get:async(t,n,r,i)=>ni(t,"GET",n,r,i,void 0,e),post:async(t,n,r,i,s)=>ni(t,"POST",n,i,s,r,e),put:async(t,n,r,i,s)=>ni(t,"PUT",n,i,s,r,e),head:async(t,n,r,i)=>ni(t,"HEAD",n,M(M({},r),{},{noResolveJson:!0}),i,void 0,e),remove:async(t,n,r,i,s)=>ni(t,"DELETE",n,i,s,r,e)}}const v0=Am("storage"),{get:Hi,post:xt,put:Ka,head:w0,remove:oc}=v0,rt=Am("vectors");var Vr=class{constructor(e,t={},n,r="storage"){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.fetch=c0(n),this.namespace=r}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=M(M({},this.headers),{},{[e]:t}),this}async handleOperation(e){var t=this;try{return{data:await e(),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Wo(n))return{data:null,error:n};throw n}}},k0=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Wo(t))return{data:null,error:t};throw t}}};let Pm;Pm=Symbol.toStringTag;var _0=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[Pm]="BlobDownloadBuilder",this.promise=null}asStream(){return new k0(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Wo(t))return{data:null,error:t};throw t}}};const x0={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Yh={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var S0=class extends Vr{constructor(e,t={},n,r){super(e,t,r,"storage"),this.bucketId=n}async uploadOrUpdate(e,t,n,r){var i=this;return i.handleOperation(async()=>{let s;const o=M(M({},Yh),r);let l=M(M({},i.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const a=o.metadata;typeof Blob<"u"&&n instanceof Blob?(s=new FormData,s.append("cacheControl",o.cacheControl),a&&s.append("metadata",i.encodeMetadata(a)),s.append("",n)):typeof FormData<"u"&&n instanceof FormData?(s=n,s.has("cacheControl")||s.append("cacheControl",o.cacheControl),a&&!s.has("metadata")&&s.append("metadata",i.encodeMetadata(a))):(s=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,a&&(l["x-metadata"]=i.toBase64(i.encodeMetadata(a))),(typeof ReadableStream<"u"&&s instanceof ReadableStream||s&&typeof s=="object"&&"pipe"in s&&typeof s.pipe=="function")&&!o.duplex&&(o.duplex="half")),r!=null&&r.headers&&(l=M(M({},l),r.headers));const u=i._removeEmptyFolders(t),c=i._getFinalPath(u),h=await(e=="PUT"?Ka:xt)(i.fetch,`${i.url}/object/${c}`,s,M({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{path:u,id:h.Id,fullPath:h.Key}})}async upload(e,t,n){return this.uploadOrUpdate("POST",e,t,n)}async uploadToSignedUrl(e,t,n,r){var i=this;const s=i._removeEmptyFolders(e),o=i._getFinalPath(s),l=new URL(i.url+`/object/upload/sign/${o}`);return l.searchParams.set("token",t),i.handleOperation(async()=>{let a;const u=M({upsert:Yh.upsert},r),c=M(M({},i.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",u.cacheControl),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.append("cacheControl",u.cacheControl)):(a=n,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType),{path:s,fullPath:(await Ka(i.fetch,l.toString(),a,{headers:c})).Key}})}async createSignedUploadUrl(e,t){var n=this;return n.handleOperation(async()=>{let r=n._getFinalPath(e);const i=M({},n.headers);t!=null&&t.upsert&&(i["x-upsert"]="true");const s=await xt(n.fetch,`${n.url}/object/upload/sign/${r}`,{},{headers:i}),o=new URL(n.url+s.url),l=o.searchParams.get("token");if(!l)throw new qo("No token returned by API");return{signedUrl:o.toString(),path:e,token:l}})}async update(e,t,n){return this.uploadOrUpdate("PUT",e,t,n)}async move(e,t,n){var r=this;return r.handleOperation(async()=>await xt(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers}))}async copy(e,t,n){var r=this;return r.handleOperation(async()=>({path:(await xt(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers})).Key}))}async createSignedUrl(e,t,n){var r=this;return r.handleOperation(async()=>{let i=r._getFinalPath(e),s=await xt(r.fetch,`${r.url}/object/sign/${i}`,M({expiresIn:t},n!=null&&n.transform?{transform:n.transform}:{}),{headers:r.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{signedUrl:encodeURI(`${r.url}${s.signedURL}${o}`)}})}async createSignedUrls(e,t,n){var r=this;return r.handleOperation(async()=>{const i=await xt(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:t,paths:e},{headers:r.headers}),s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i.map(o=>M(M({},o),{},{signedUrl:o.signedURL?encodeURI(`${r.url}${o.signedURL}${s}`):null}))})}download(e,t,n){const r=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),s=i?`?${i}`:"",o=this._getFinalPath(e),l=()=>Hi(this.fetch,`${this.url}/${r}/${o}${s}`,{headers:this.headers,noResolveJson:!0},n);return new _0(l,this.shouldThrowOnError)}async info(e){var t=this;const n=t._getFinalPath(e);return t.handleOperation(async()=>Wa(await Hi(t.fetch,`${t.url}/object/info/${n}`,{headers:t.headers})))}async exists(e){var t=this;const n=t._getFinalPath(e);try{return await w0(t.fetch,`${t.url}/object/${n}`,{headers:t.headers}),{data:!0,error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Wo(r)&&r instanceof Tm){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}}getPublicUrl(e,t){const n=this._getFinalPath(e),r=[],i=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";i!==""&&r.push(i);const s=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",o=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});o!==""&&r.push(o);let l=r.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${s}/public/${n}${l}`)}}}async remove(e){var t=this;return t.handleOperation(async()=>await oc(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}))}async list(e,t,n){var r=this;return r.handleOperation(async()=>{const i=M(M(M({},x0),t),{},{prefix:e||""});return await xt(r.fetch,`${r.url}/object/list/${r.bucketId}`,i,{headers:r.headers},n)})}async listV2(e,t){var n=this;return n.handleOperation(async()=>{const r=M({},e);return await xt(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,r,{headers:n.headers},t)})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const b0="2.98.0",ns={"X-Client-Info":`storage-js/${b0}`};var E0=class extends Vr{constructor(e,t={},n,r){const i=new URL(e);r!=null&&r.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase."));const s=i.href.replace(/\/$/,""),o=M(M({},ns),t);super(s,o,n,"storage")}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const n=t.listBucketOptionsToQueryString(e);return await Hi(t.fetch,`${t.url}/bucket${n}`,{headers:t.headers})})}async getBucket(e){var t=this;return t.handleOperation(async()=>await Hi(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}))}async createBucket(e,t={public:!1}){var n=this;return n.handleOperation(async()=>await xt(n.fetch,`${n.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}))}async updateBucket(e,t){var n=this;return n.handleOperation(async()=>await Ka(n.fetch,`${n.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}))}async emptyBucket(e){var t=this;return t.handleOperation(async()=>await xt(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await oc(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},C0=class extends Vr{constructor(e,t={},n){const r=e.replace(/\/$/,""),i=M(M({},ns),t);super(r,i,n,"storage")}async createBucket(e){var t=this;return t.handleOperation(async()=>await xt(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}))}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const n=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&n.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&n.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&n.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&n.set("sortOrder",e.sortOrder),e!=null&&e.search&&n.set("search",e.search);const r=n.toString(),i=r?`${t.url}/bucket?${r}`:`${t.url}/bucket`;return await Hi(t.fetch,i,{headers:t.headers})})}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await oc(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}from(e){var t=this;if(!d0(e))throw new qo("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new u0({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(n,{get(i,s){const o=i[s];return typeof o!="function"?o:async(...l)=>{try{return{data:await o.apply(i,l),error:null}}catch(a){if(r)throw a;return{data:null,error:a}}}}})}},T0=class extends Vr{constructor(e,t={},n){const r=e.replace(/\/$/,""),i=M(M({},ns),{},{"Content-Type":"application/json"},t);super(r,i,n,"vectors")}async createIndex(e){var t=this;return t.handleOperation(async()=>await rt.post(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{})}async getIndex(e,t){var n=this;return n.handleOperation(async()=>await rt.post(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers}))}async listIndexes(e){var t=this;return t.handleOperation(async()=>await rt.post(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}))}async deleteIndex(e,t){var n=this;return n.handleOperation(async()=>await rt.post(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers})||{})}},A0=class extends Vr{constructor(e,t={},n){const r=e.replace(/\/$/,""),i=M(M({},ns),{},{"Content-Type":"application/json"},t);super(r,i,n,"vectors")}async putVectors(e){var t=this;if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return t.handleOperation(async()=>await rt.post(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{})}async getVectors(e){var t=this;return t.handleOperation(async()=>await rt.post(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}))}async listVectors(e){var t=this;if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return t.handleOperation(async()=>await rt.post(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}))}async queryVectors(e){var t=this;return t.handleOperation(async()=>await rt.post(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}))}async deleteVectors(e){var t=this;if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return t.handleOperation(async()=>await rt.post(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{})}},P0=class extends Vr{constructor(e,t={},n){const r=e.replace(/\/$/,""),i=M(M({},ns),{},{"Content-Type":"application/json"},t);super(r,i,n,"vectors")}async createBucket(e){var t=this;return t.handleOperation(async()=>await rt.post(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}async getBucket(e){var t=this;return t.handleOperation(async()=>await rt.post(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}))}async listBuckets(e={}){var t=this;return t.handleOperation(async()=>await rt.post(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await rt.post(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}},R0=class extends P0{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new O0(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,n=this;return t().call(n,e)}async getBucket(e){var t=()=>super.getBucket,n=this;return t().call(n,e)}async listBuckets(e={}){var t=()=>super.listBuckets,n=this;return t().call(n,e)}async deleteBucket(e){var t=()=>super.deleteBucket,n=this;return t().call(n,e)}},O0=class extends T0{constructor(e,t,n,r){super(e,t,r),this.vectorBucketName=n}async createIndex(e){var t=()=>super.createIndex,n=this;return t().call(n,M(M({},e),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,n=this;return t().call(n,M(M({},e),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,n=this;return t().call(n,n.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,n=this;return t().call(n,n.vectorBucketName,e)}index(e){return new I0(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},I0=class extends A0{constructor(e,t,n,r,i){super(e,t,i),this.vectorBucketName=n,this.indexName=r}async putVectors(e){var t=()=>super.putVectors,n=this;return t().call(n,M(M({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(e){var t=()=>super.getVectors,n=this;return t().call(n,M(M({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,n=this;return t().call(n,M(M({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,n=this;return t().call(n,M(M({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,n=this;return t().call(n,M(M({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},j0=class extends E0{constructor(e,t={},n,r){super(e,t,n,r)}from(e){return new S0(this.url,this.headers,e,this.fetch)}get vectors(){return new R0(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new C0(this.url+"/iceberg",this.headers,this.fetch)}};const Rm="2.98.0",ar=30*1e3,Ga=3,Al=Ga*ar,N0="http://localhost:9999",L0="supabase.auth.token",D0={"X-Client-Info":`gotrue-js/${Rm}`},Ja="X-Supabase-Api-Version",Om={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},z0=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,$0=10*60*1e3;class qi extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function $(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class U0 extends qi{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function F0(e){return $(e)&&e.name==="AuthApiError"}class Nn extends qi{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Xt extends qi{constructor(t,n,r,i){super(t,r,i),this.name=n,this.status=r}}class et extends Xt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Pl(e){return $(e)&&e.name==="AuthSessionMissingError"}class nr extends Xt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class As extends Xt{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Ps extends Xt{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function M0(e){return $(e)&&e.name==="AuthImplicitGrantRedirectError"}class Xh extends Xt{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class B0 extends Xt{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Qa extends Xt{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function Rl(e){return $(e)&&e.name==="AuthRetryableFetchError"}class Zh extends Xt{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Ya extends Xt{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const _o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),ed=` 	
\r=`.split(""),V0=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<ed.length;t+=1)e[ed[t].charCodeAt(0)]=-2;for(let t=0;t<_o.length;t+=1)e[_o[t].charCodeAt(0)]=t;return e})();function td(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(_o[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(_o[r]),t.queuedBits-=6}}function Im(e,t,n){const r=V0[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function nd(e){const t=[],n=o=>{t.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=o=>{W0(o,r,n)};for(let o=0;o<e.length;o+=1)Im(e.charCodeAt(o),i,s);return t.join("")}function H0(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function q0(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}H0(r,t)}}function W0(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function Rr(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)Im(e.charCodeAt(i),n,r);return new Uint8Array(t)}function K0(e){const t=[];return q0(e,n=>t.push(n)),new Uint8Array(t)}function Un(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};return e.forEach(i=>td(i,n,r)),td(null,n,r),t.join("")}function G0(e){return Math.round(Date.now()/1e3)+e}function J0(){return Symbol("auth-callback")}const Re=()=>typeof window<"u"&&typeof document<"u",Tn={tested:!1,writable:!1},jm=()=>{if(!Re())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Tn.tested)return Tn.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Tn.tested=!0,Tn.writable=!0}catch{Tn.tested=!0,Tn.writable=!1}return Tn.writable};function Q0(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,s)=>{t[s]=i})}catch{}return n.searchParams.forEach((r,i)=>{t[i]=r}),t}const Nm=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Y0=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",ur=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},An=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Pe=async(e,t)=>{await e.removeItem(t)};class Ko{constructor(){this.promise=new Ko.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Ko.promiseConstructor=Promise;function Rs(e){const t=e.split(".");if(t.length!==3)throw new Ya("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!z0.test(t[r]))throw new Ya("JWT not in base64url format");return{header:JSON.parse(nd(t[0])),payload:JSON.parse(nd(t[1])),signature:Rr(t[2]),raw:{header:t[0],payload:t[1]}}}async function X0(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Z0(e,t){return new Promise((r,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const o=await e(s);if(!t(s,null,o)){r(o);return}}catch(o){if(!t(s,o)){i(o);return}}})()})}function ek(e){return("0"+e.toString(16)).substr(-2)}function tk(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let s=0;s<56;s++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(t),Array.from(t,ek).join("")}async function nk(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function rk(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await nk(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function rr(e,t,n=!1){const r=tk();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await ur(e,`${t}-code-verifier`,i);const s=await rk(r);return[s,r===s?"plain":"s256"]}const ik=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function sk(e){const t=e.headers.get(Ja);if(!t||!t.match(ik))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function ok(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function lk(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const ak=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ir(e){if(!ak.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Ol(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function uk(e,t){return new Proxy(e,{get:(n,r,i)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const s=r.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)"||s==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,i)}return!t.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,r,i)}})}function rd(e){return JSON.parse(JSON.stringify(e))}const In=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),ck=[502,503,504];async function id(e){var t;if(!Y0(e))throw new Qa(In(e),0);if(ck.includes(e.status))throw new Qa(In(e),e.status);let n;try{n=await e.json()}catch(s){throw new Nn(In(s),s)}let r;const i=sk(e);if(i&&i.getTime()>=Om["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Zh(In(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new et}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((s,o)=>s&&typeof o=="string",!0))throw new Zh(In(n),e.status,n.weak_password.reasons);throw new U0(In(n),e.status||500,r)}const hk=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function B(e,t,n,r){var i;const s=Object.assign({},r==null?void 0:r.headers);s[Ja]||(s[Ja]=Om["2024-01-01"].name),r!=null&&r.jwt&&(s.Authorization=`Bearer ${r.jwt}`);const o=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",a=await dk(e,t,n+l,{headers:s,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(a):{data:Object.assign({},a),error:null}}async function dk(e,t,n,r,i,s){const o=hk(t,r,i,s);let l;try{l=await e(n,Object.assign({},o))}catch(a){throw console.error(a),new Qa(In(a),0)}if(l.ok||await id(l),r!=null&&r.noResolveJson)return l;try{return await l.json()}catch(a){await id(a)}}function kt(e){var t;let n=null;mk(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=G0(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function sd(e){const t=kt(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function un(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function fk(e){return{data:e,error:null}}function pk(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s}=e,o=Ho(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s},a=Object.assign({},o);return{data:{properties:l,user:a},error:null}}function od(e){return e}function mk(e){return e.access_token&&e.refresh_token&&e.expires_in}const Il=["global","local","others"];class gk{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=Nm(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=Il[0]){if(Il.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Il.join(", ")}`);try{return await B(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if($(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await B(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:un})}catch(r){if($(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=Ho(t,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await B(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:pk,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if($(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await B(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:un})}catch(n){if($(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,i,s,o,l,a;try{const u={nextPage:null,lastPage:0,total:0},c=await B(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(s=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:od});if(c.error)throw c.error;const h=await c.json(),d=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(a=(l=c.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&a!==void 0?a:[];return f.length>0&&(f.forEach(m=>{const v=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(m.split(";")[1].split("=")[1]);u[`${S}Page`]=v}),u.total=parseInt(d)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if($(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){ir(t);try{return await B(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:un})}catch(n){if($(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){ir(t);try{return await B(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:un})}catch(r){if($(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){ir(t);try{return await B(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:un})}catch(r){if($(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){ir(t.userId);try{const{data:n,error:r}=await B(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if($(n))return{data:null,error:n};throw n}}async _deleteFactor(t){ir(t.userId),ir(t.id);try{return{data:await B(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if($(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,r,i,s,o,l,a;try{const u={nextPage:null,lastPage:0,total:0},c=await B(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(s=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:od});if(c.error)throw c.error;const h=await c.json(),d=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(a=(l=c.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&a!==void 0?a:[];return f.length>0&&(f.forEach(m=>{const v=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(m.split(";")[1].split("=")[1]);u[`${S}Page`]=v}),u.total=parseInt(d)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if($(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await B(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if($(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await B(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if($(n))return{data:null,error:n};throw n}}async _updateOAuthClient(t,n){try{return await B(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if($(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(t){try{return await B(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if($(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await B(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if($(n))return{data:null,error:n};throw n}}}function ld(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const Ft={debug:!!(globalThis&&jm()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Lm extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class yk extends Lm{}async function vk(e,t,n){Ft.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;t>0&&setTimeout(()=>{r.abort(),Ft.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve();try{return await globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){Ft.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await n()}finally{Ft.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw Ft.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new yk(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Ft.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}})}catch(i){if((i==null?void 0:i.name)==="AbortError"&&t>0)return Ft.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire timeout, recovering by stealing lock",e),console.warn(`@supabase/gotrue-js: Lock "${e}" was not released within ${t}ms. This may indicate an orphaned lock from a component unmount (e.g., React Strict Mode). Forcefully acquiring the lock to recover.`),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,{mode:"exclusive",steal:!0},async s=>{if(s){Ft.debug&&console.log("@supabase/gotrue-js: navigatorLock: recovered (stolen)",e,s.name);try{return await n()}finally{Ft.debug&&console.log("@supabase/gotrue-js: navigatorLock: released (stolen)",e,s.name)}}else return console.warn("@supabase/gotrue-js: Navigator LockManager returned null lock even with steal: true"),await n()}));throw i}}function wk(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Dm(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function kk(e){return parseInt(e,16)}function _k(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function xk(e){var t;const{chainId:n,domain:r,expirationTime:i,issuedAt:s=new Date,nonce:o,notBefore:l,requestId:a,resources:u,scheme:c,uri:h,version:d}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(d!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${d}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const f=Dm(e.address),m=c?`${c}://${r}`:r,v=e.statement?`${e.statement}
`:"",S=`${m} wants you to sign in with your Ethereum account:
${f}

${v}`;let p=`URI: ${h}
Version: ${d}
Chain ID: ${n}${o?`
Nonce: ${o}`:""}
Issued At: ${s.toISOString()}`;if(i&&(p+=`
Expiration Time: ${i.toISOString()}`),l&&(p+=`
Not Before: ${l.toISOString()}`),a&&(p+=`
Request ID: ${a}`),u){let g=`
Resources:`;for(const y of u){if(!y||typeof y!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${y}`);g+=`
- ${y}`}p+=g}return`${S}
${p}`}class _e extends Error{constructor({message:t,code:n,cause:r,name:i}){var s;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(s=i??(r instanceof Error?r.name:void 0))!==null&&s!==void 0?s:"Unknown Error",this.code=n}}class xo extends _e{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function Sk({error:e,options:t}){var n,r,i;const{publicKey:s}=t;if(!s)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new _e({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=s.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new _e({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((r=s.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new _e({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=s.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new _e({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new _e({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new _e({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return s.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new _e({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new _e({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(zm(o)){if(s.rp.id!==o)return new _e({message:`The RP ID "${s.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new _e({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(s.user.id.byteLength<1||s.user.id.byteLength>64)return new _e({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new _e({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new _e({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function bk({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new _e({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new _e({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const r=window.location.hostname;if(zm(r)){if(n.rpId!==r)return new _e({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new _e({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new _e({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new _e({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class Ek{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const Ck=new Ek;function Tk(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:r}=e,i=Ho(e,["challenge","user","excludeCredentials"]),s=Rr(t).buffer,o=Object.assign(Object.assign({},n),{id:Rr(n.id).buffer}),l=Object.assign(Object.assign({},i),{challenge:s,user:o});if(r&&r.length>0){l.excludeCredentials=new Array(r.length);for(let a=0;a<r.length;a++){const u=r[a];l.excludeCredentials[a]=Object.assign(Object.assign({},u),{id:Rr(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return l}function Ak(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,r=Ho(e,["challenge","allowCredentials"]),i=Rr(t).buffer,s=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){s.allowCredentials=new Array(n.length);for(let o=0;o<n.length;o++){const l=n[o];s.allowCredentials[o]=Object.assign(Object.assign({},l),{id:Rr(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return s}function Pk(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:Un(new Uint8Array(e.response.attestationObject)),clientDataJSON:Un(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Rk(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,r=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Un(new Uint8Array(i.authenticatorData)),clientDataJSON:Un(new Uint8Array(i.clientDataJSON)),signature:Un(new Uint8Array(i.signature)),userHandle:i.userHandle?Un(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function zm(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function ad(){var e,t;return!!(Re()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function Ok(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new xo("Browser returned unexpected credential type",t)}:{data:null,error:new xo("Empty credential response",t)}}catch(t){return{data:null,error:Sk({error:t,options:e})}}}async function Ik(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new xo("Browser returned unexpected credential type",t)}:{data:null,error:new xo("Empty credential response",t)}}catch(t){return{data:null,error:bk({error:t,options:e})}}}const jk={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Nk={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function So(...e){const t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(const i of e)if(i)for(const s in i){const o=i[s];if(o!==void 0)if(Array.isArray(o))r[s]=o;else if(n(o))r[s]=o;else if(t(o)){const l=r[s];t(l)?r[s]=So(l,o):r[s]=So(o)}else r[s]=o}return r}function Lk(e,t){return So(jk,e,t||{})}function Dk(e,t){return So(Nk,e,t||{})}class zk{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:r,signal:i},s){var o;try{const{data:l,error:a}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!l)return{data:null,error:a};const u=i??Ck.createNewAbortSignal();if(l.webauthn.type==="create"){const{user:c}=l.webauthn.credential_options.publicKey;if(!c.name){const h=r;if(h)c.name=`${c.id}:${h}`;else{const f=(await this.client.getUser()).data.user,m=((o=f==null?void 0:f.user_metadata)===null||o===void 0?void 0:o.name)||(f==null?void 0:f.email)||(f==null?void 0:f.id)||"User";c.name=`${c.id}:${m}`}}c.displayName||(c.displayName=c.name)}switch(l.webauthn.type){case"create":{const c=Lk(l.webauthn.credential_options.publicKey,s==null?void 0:s.create),{data:h,error:d}=await Ok({publicKey:c,signal:u});return h?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:h}},error:null}:{data:null,error:d}}case"request":{const c=Dk(l.webauthn.credential_options.publicKey,s==null?void 0:s.request),{data:h,error:d}=await Ik(Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:c,signal:u}));return h?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:h}},error:null}:{data:null,error:d}}}}catch(l){return $(l)?{data:null,error:l}:{data:null,error:new Nn("Unexpected error in challenge",l)}}}async _verify({challengeId:t,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},s){if(!n)return{data:null,error:new qi("rpId is required for WebAuthn authentication")};try{if(!ad())return{data:null,error:new Nn("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:r},signal:i},{request:s});if(!o)return{data:null,error:l};const{webauthn:a}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:a.type,rpId:n,rpOrigins:r,credential_response:a.credential_response}})}catch(o){return $(o)?{data:null,error:o}:{data:null,error:new Nn("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},s){if(!n)return{data:null,error:new qi("rpId is required for WebAuthn registration")};try{if(!ad())return{data:null,error:new Nn("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(c=>{var h;return(h=c.data)===null||h===void 0?void 0:h.all.find(d=>d.factor_type==="webauthn"&&d.friendly_name===t&&d.status!=="unverified")}).then(c=>c?this.client.mfa.unenroll({factorId:c==null?void 0:c.id}):void 0),{data:null,error:l};const{data:a,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:i},{create:s});return a?this._verify({factorId:o.id,challengeId:a.challengeId,webauthn:{rpId:n,rpOrigins:r,type:a.webauthn.type,credential_response:a.webauthn.credential_response}}):{data:null,error:u}}catch(o){return $(o)?{data:null,error:o}:{data:null,error:new Nn("Unexpected error in register",o)}}}}wk();const $k={url:N0,storageKey:L0,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:D0,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:5e3,skipAutoInitialize:!1};async function ud(e,t,n){return await n()}const sr={};class Wi{get jwks(){var t,n;return(n=(t=sr[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){sr[this.storageKey]=Object.assign(Object.assign({},sr[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=sr[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){sr[this.storageKey]=Object.assign(Object.assign({},sr[this.storageKey]),{cachedAt:t})}constructor(t){var n,r,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const s=Object.assign(Object.assign({},$k),t);if(this.storageKey=s.storageKey,this.instanceID=(n=Wi.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,Wi.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.instanceID>0&&Re()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=s.persistSession,this.autoRefreshToken=s.autoRefreshToken,this.admin=new gk({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Nm(s.fetch),this.lock=s.lock||ud,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,this.throwOnError=s.throwOnError,this.lockAcquireTimeout=s.lockAcquireTimeout,s.lock?this.lock=s.lock:this.persistSession&&Re()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=vk:this.lock=ud,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new zk(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:jm()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=ld(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=ld(this.memoryStorage)),Re()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o);try{await this._notifyAllSubscribers(o.data.event,o.data.session,!1)}catch(l){this._debug("#broadcastChannel","error",l)}})}s.skipAutoInitialize||this.initialize().catch(o=>{this._debug("#initialize()","error",o)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Rm}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let n={},r="none";if(Re()&&(n=Q0(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),Re()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:s}=await this._getSessionFromURL(n,r);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),M0(s)){const a=(t=s.details)===null||t===void 0?void 0:t.code;if(a==="identity_already_exists"||a==="identity_not_found"||a==="single_identity_not_deletable")return{error:s}}return{error:s}}const{session:o,redirectType:l}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return $(n)?this._returnResult({error:n}):this._returnResult({error:new Nn("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,i;try{const s=await B(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:kt}),{data:o,error:l}=s;if(l||!o)return this._returnResult({data:{user:null,session:null},error:l});const a=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",a)),this._returnResult({data:{user:u,session:a},error:null})}catch(s){if($(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signUp(t){var n,r,i;try{let s;if("email"in t){const{email:c,password:h,options:d}=t;let f=null,m=null;this.flowType==="pkce"&&([f,m]=await rr(this.storage,this.storageKey)),s=await B(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:d==null?void 0:d.emailRedirectTo,body:{email:c,password:h,data:(n=d==null?void 0:d.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},code_challenge:f,code_challenge_method:m},xform:kt})}else if("phone"in t){const{phone:c,password:h,options:d}=t;s=await B(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:h,data:(r=d==null?void 0:d.data)!==null&&r!==void 0?r:{},channel:(i=d==null?void 0:d.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:kt})}else throw new As("You must provide either an email or phone number and a password");const{data:o,error:l}=s;if(l||!o)return await Pe(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:l});const a=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",a)),this._returnResult({data:{user:u,session:a},error:null})}catch(s){if(await Pe(this.storage,`${this.storageKey}-code-verifier`),$(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithPassword(t){try{let n;if("email"in t){const{email:s,password:o,options:l}=t;n=await B(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:sd})}else if("phone"in t){const{phone:s,password:o,options:l}=t;n=await B(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:sd})}else throw new As("You must provide either an email or phone number and a password");const{data:r,error:i}=n;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!r||!r.session||!r.user){const s=new nr;return this._returnResult({data:{user:null,session:null},error:s})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if($(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(t){var n,r,i,s;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,r,i,s,o,l,a,u,c,h,d;let f,m;if("message"in t)f=t.message,m=t.signature;else{const{chain:v,wallet:S,statement:p,options:g}=t;let y;if(Re())if(typeof S=="object")y=S;else{const D=window;if("ethereum"in D&&typeof D.ethereum=="object"&&"request"in D.ethereum&&typeof D.ethereum.request=="function")y=D.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof S!="object"||!(g!=null&&g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");y=S}const b=new URL((n=g==null?void 0:g.url)!==null&&n!==void 0?n:window.location.href),C=await y.request({method:"eth_requestAccounts"}).then(D=>D).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!C||C.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const _=Dm(C[0]);let A=(r=g==null?void 0:g.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!A){const D=await y.request({method:"eth_chainId"});A=kk(D)}const O={domain:b.host,address:_,statement:p,uri:b.href,version:"1",chainId:A,nonce:(i=g==null?void 0:g.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(o=(s=g==null?void 0:g.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(l=g==null?void 0:g.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(a=g==null?void 0:g.signInWithEthereum)===null||a===void 0?void 0:a.notBefore,requestId:(u=g==null?void 0:g.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(c=g==null?void 0:g.signInWithEthereum)===null||c===void 0?void 0:c.resources};f=xk(O),m=await y.request({method:"personal_sign",params:[_k(f),_]})}try{const{data:v,error:S}=await B(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:f,signature:m},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(d=t.options)===null||d===void 0?void 0:d.captchaToken}}:null),xform:kt});if(S)throw S;if(!v||!v.session||!v.user){const p=new nr;return this._returnResult({data:{user:null,session:null},error:p})}return v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),this._returnResult({data:Object.assign({},v),error:S})}catch(v){if($(v))return this._returnResult({data:{user:null,session:null},error:v});throw v}}async signInWithSolana(t){var n,r,i,s,o,l,a,u,c,h,d,f;let m,v;if("message"in t)m=t.message,v=t.signature;else{const{chain:S,wallet:p,statement:g,options:y}=t;let b;if(Re())if(typeof p=="object")b=p;else{const _=window;if("solana"in _&&typeof _.solana=="object"&&("signIn"in _.solana&&typeof _.solana.signIn=="function"||"signMessage"in _.solana&&typeof _.solana.signMessage=="function"))b=_.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof p!="object"||!(y!=null&&y.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");b=p}const C=new URL((n=y==null?void 0:y.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in b&&b.signIn){const _=await b.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},y==null?void 0:y.signInWithSolana),{version:"1",domain:C.host,uri:C.href}),g?{statement:g}:null));let A;if(Array.isArray(_)&&_[0]&&typeof _[0]=="object")A=_[0];else if(_&&typeof _=="object"&&"signedMessage"in _&&"signature"in _)A=_;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in A&&"signature"in A&&(typeof A.signedMessage=="string"||A.signedMessage instanceof Uint8Array)&&A.signature instanceof Uint8Array)m=typeof A.signedMessage=="string"?A.signedMessage:new TextDecoder().decode(A.signedMessage),v=A.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in b)||typeof b.signMessage!="function"||!("publicKey"in b)||typeof b!="object"||!b.publicKey||!("toBase58"in b.publicKey)||typeof b.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");m=[`${C.host} wants you to sign in with your Solana account:`,b.publicKey.toBase58(),...g?["",g,""]:[""],"Version: 1",`URI: ${C.href}`,`Issued At: ${(i=(r=y==null?void 0:y.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=y==null?void 0:y.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${y.signInWithSolana.notBefore}`]:[],...!((o=y==null?void 0:y.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${y.signInWithSolana.expirationTime}`]:[],...!((l=y==null?void 0:y.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${y.signInWithSolana.chainId}`]:[],...!((a=y==null?void 0:y.signInWithSolana)===null||a===void 0)&&a.nonce?[`Nonce: ${y.signInWithSolana.nonce}`]:[],...!((u=y==null?void 0:y.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${y.signInWithSolana.requestId}`]:[],...!((h=(c=y==null?void 0:y.signInWithSolana)===null||c===void 0?void 0:c.resources)===null||h===void 0)&&h.length?["Resources",...y.signInWithSolana.resources.map(A=>`- ${A}`)]:[]].join(`
`);const _=await b.signMessage(new TextEncoder().encode(m),"utf8");if(!_||!(_ instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");v=_}}try{const{data:S,error:p}=await B(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:m,signature:Un(v)},!((d=t.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(f=t.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:kt});if(p)throw p;if(!S||!S.session||!S.user){const g=new nr;return this._returnResult({data:{user:null,session:null},error:g})}return S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),this._returnResult({data:Object.assign({},S),error:p})}catch(S){if($(S))return this._returnResult({data:{user:null,session:null},error:S});throw S}}async _exchangeCodeForSession(t){const n=await An(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{if(!r&&this.flowType==="pkce")throw new B0;const{data:s,error:o}=await B(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:kt});if(await Pe(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!s||!s.session||!s.user){const l=new nr;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:o})}catch(s){if(await Pe(this.storage,`${this.storageKey}-code-verifier`),$(s))return this._returnResult({data:{user:null,session:null,redirectType:null},error:s});throw s}}async signInWithIdToken(t){try{const{options:n,provider:r,token:i,access_token:s,nonce:o}=t,l=await B(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:s,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:kt}),{data:a,error:u}=l;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!a||!a.session||!a.user){const c=new nr;return this._returnResult({data:{user:null,session:null},error:c})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:a,error:u})}catch(n){if($(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(t){var n,r,i,s,o;try{if("email"in t){const{email:l,options:a}=t;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await rr(this.storage,this.storageKey));const{error:h}=await B(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=a==null?void 0:a.data)!==null&&n!==void 0?n:{},create_user:(r=a==null?void 0:a.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:a==null?void 0:a.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}if("phone"in t){const{phone:l,options:a}=t,{data:u,error:c}=await B(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(i=a==null?void 0:a.data)!==null&&i!==void 0?i:{},create_user:(s=a==null?void 0:a.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken},channel:(o=a==null?void 0:a.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c})}throw new As("You must provide either an email or phone number.")}catch(l){if(await Pe(this.storage,`${this.storageKey}-code-verifier`),$(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(t){var n,r;try{let i,s;"options"in t&&(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo,s=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:l}=await B(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:kt});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const a=o.session,u=o.user;return a!=null&&a.access_token&&(await this._saveSession(a),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",a)),this._returnResult({data:{user:u,session:a},error:null})}catch(i){if($(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(t){var n,r,i,s,o;try{let l=null,a=null;this.flowType==="pkce"&&([l,a]=await rr(this.storage,this.storageKey));const u=await B(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:a}),headers:this.headers,xform:fk});return!((s=u.data)===null||s===void 0)&&s.url&&Re()&&!(!((o=t.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(l){if(await Pe(this.storage,`${this.storageKey}-code-verifier`),$(l))return this._returnResult({data:null,error:l});throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new et;const{error:i}=await B(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(t){if($(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:i,options:s}=t,{error:o}=await B(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in t){const{phone:r,type:i,options:s}=t,{data:o,error:l}=await B(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l})}throw new As("You must provide either an email or phone number and a type")}catch(n){if($(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await An(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<Al:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const o=await An(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=Ol()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};t.user=uk(t.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?this._returnResult({data:{session:null},error:s}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const n=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(t){try{return t?await B(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:un}):await this._useSession(async n=>{var r,i,s;const{data:o,error:l}=n;if(l)throw l;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new et}:await B(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:un})})}catch(n){if($(n))return Pl(n)&&(await this._removeSession(),await Pe(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:i,error:s}=r;if(s)throw s;if(!i.session)throw new et;const o=i.session;let l=null,a=null;this.flowType==="pkce"&&t.email!=null&&([l,a]=await rr(this.storage,this.storageKey));const{data:u,error:c}=await B(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:a}),jwt:o.access_token,xform:un});if(c)throw c;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(r){if(await Pe(this.storage,`${this.storageKey}-code-verifier`),$(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new et;const n=Date.now()/1e3;let r=n,i=!0,s=null;const{payload:o}=Rs(t.access_token);if(o.exp&&(r=o.exp,i=r<=n),i){const{data:l,error:a}=await this._callRefreshToken(t.refresh_token);if(a)return this._returnResult({data:{user:null,session:null},error:a});if(!l)return{data:{user:null,session:null},error:null};s=l}else{const{data:l,error:a}=await this._getUser(t.access_token);if(a)return this._returnResult({data:{user:null,session:null},error:a});s={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return this._returnResult({data:{user:s.user,session:s},error:null})}catch(n){if($(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:o,error:l}=n;if(l)throw l;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new et;const{data:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?this._returnResult({data:{user:null,session:null},error:s}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if($(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(t,n){try{if(!Re())throw new Ps("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Ps(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Xh("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ps("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Xh("No code detected.");const{data:g,error:y}=await this._exchangeCodeForSession(t.code);if(y)throw y;const b=new URL(window.location.href);return b.searchParams.delete("code"),window.history.replaceState(window.history.state,"",b.toString()),{data:{session:g.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:s,refresh_token:o,expires_in:l,expires_at:a,token_type:u}=t;if(!s||!l||!o||!u)throw new Ps("No session defined in URL");const c=Math.round(Date.now()/1e3),h=parseInt(l);let d=c+h;a&&(d=parseInt(a));const f=d-c;f*1e3<=ar&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${h}s`);const m=d-h;c-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,d,c):c-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",m,d,c);const{data:v,error:S}=await this._getUser(s);if(S)throw S;const p={provider_token:r,provider_refresh_token:i,access_token:s,expires_in:h,expires_at:d,refresh_token:o,token_type:u,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:p,redirectType:t.type},error:null})}catch(r){if($(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await An(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s&&!Pl(s))return this._returnResult({error:s});const o=(r=i.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(F0(l)&&(l.status===404||l.status===401||l.status===403)||Pl(l)))return this._returnResult({error:l})}return t!=="others"&&(await this._removeSession(),await Pe(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const n=J0(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,i;try{const{data:{session:s},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}})}async resetPasswordForEmail(t,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await rr(this.storage,this.storageKey,!0));try{return await B(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(s){if(await Pe(this.storage,`${this.storageKey}-code-verifier`),$(s))return this._returnResult({data:null,error:s});throw s}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(n){if($(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:r,error:i}=await this._useSession(async s=>{var o,l,a,u,c;const{data:h,error:d}=s;if(d)throw d;const f=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:!0});return await B(this.fetch,"GET",f,{headers:this.headers,jwt:(c=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(i)throw i;return Re()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:t.provider,url:r==null?void 0:r.url},error:null})}catch(r){if($(r))return this._returnResult({data:{provider:t.provider,url:null},error:r});throw r}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var r;try{const{error:i,data:{session:s}}=n;if(i)throw i;const{options:o,provider:l,token:a,access_token:u,nonce:c}=t,h=await B(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=s==null?void 0:s.access_token)!==null&&r!==void 0?r:void 0,body:{provider:l,id_token:a,access_token:u,nonce:c,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:kt}),{data:d,error:f}=h;return f?this._returnResult({data:{user:null,session:null},error:f}):!d||!d.session||!d.user?this._returnResult({data:{user:null,session:null},error:new nr}):(d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("USER_UPDATED",d.session)),this._returnResult({data:d,error:f}))}catch(i){if(await Pe(this.storage,`${this.storageKey}-code-verifier`),$(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,i;const{data:s,error:o}=n;if(o)throw o;return await B(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(r=s.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if($(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await Z0(async i=>(i>0&&await X0(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await B(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:kt})),(i,s)=>{const o=200*Math.pow(2,i);return s&&Rl(s)&&Date.now()+o-r<ar})}catch(r){if(this._debug(n,"error",r),$(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),Re()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await An(this.storage,this.storageKey);if(i&&this.userStorage){let o=await An(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await ur(this.userStorage,this.storageKey+"-user",o)),i.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:Ol()}else if(i&&!i.user&&!i.user){const o=await An(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(i.user=o.user,await Pe(this.storage,this.storageKey+"-user"),await ur(this.storage,this.storageKey,i)):i.user=Ol()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const s=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Al;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${Al}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),Rl(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(i.access_token);!l&&(o!=null&&o.user)?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new et;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Ko;const{data:s,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!s.session)throw new et;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const l={data:s.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(s){if(this._debug(i,"error",s),$(s)){const o={data:null,error:s};return Rl(s)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,n,r=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const s=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,n)}catch(a){s.push(a)}});if(await Promise.all(o),s.length>0){for(let l=0;l<s.length;l+=1)console.error(s[l]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Pe(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await ur(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const s=rd(i);await ur(this.storage,this.storageKey,s)}else{const i=rd(n);await ur(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Pe(this.storage,this.storageKey),await Pe(this.storage,this.storageKey+"-code-verifier"),await Pe(this.storage,this.storageKey+"-user"),this.userStorage&&await Pe(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Re()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),ar);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const n=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const n=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,n&&clearTimeout(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-t)/ar);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${ar}ms, refresh threshold is ${Ga} ticks`),i<=Ga&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Lm)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Re()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(t){this._debug("#visibilityChangedCallback","error",t)}},window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[s,o]=await rr(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(l.toString())}if(r!=null&&r.queryParams){const s=new URLSearchParams(r.queryParams);i.push(s.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;return s?this._returnResult({data:null,error:s}):await B(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if($(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,i;const{data:s,error:o}=n;if(o)return this._returnResult({data:null,error:o});const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:a,error:u}=await B(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return u?this._returnResult({data:null,error:u}):(t.factorType==="totp"&&a.type==="totp"&&(!((i=a==null?void 0:a.totp)===null||i===void 0)&&i.qr_code)&&(a.totp.qr_code=`data:image/svg+xml;utf-8,${a.totp.qr_code}`),this._returnResult({data:a,error:null}))})}catch(n){if($(n))return this._returnResult({data:null,error:n});throw n}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return this._returnResult({data:null,error:s});const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?Pk(t.webauthn.credential_response):Rk(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:a}=await B(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return a?this._returnResult({data:null,error:a}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:a}))})}catch(n){if($(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return this._returnResult({data:null,error:s});const o=await B(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});if(o.error)return o;const{data:l}=o;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:Tk(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:Ak(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if($(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const i={all:[],phone:[],totp:[],webauthn:[]};for(const s of(t=n==null?void 0:n.factors)!==null&&t!==void 0?t:[])i.all.push(s),s.status==="verified"&&i[s.factor_type].push(s);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(t){var n,r,i,s;if(t)try{const{payload:f}=Rs(t);let m=null;f.aal&&(m=f.aal);let v=m;const{data:{user:S},error:p}=await this.getUser(t);if(p)return this._returnResult({data:null,error:p});((r=(n=S==null?void 0:S.factors)===null||n===void 0?void 0:n.filter(b=>b.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(v="aal2");const y=f.amr||[];return{data:{currentLevel:m,nextLevel:v,currentAuthenticationMethods:y},error:null}}catch(f){if($(f))return this._returnResult({data:null,error:f});throw f}const{data:{session:o},error:l}=await this.getSession();if(l)return this._returnResult({data:null,error:l});if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=Rs(o.access_token);let u=null;a.aal&&(u=a.aal);let c=u;((s=(i=o.user.factors)===null||i===void 0?void 0:i.filter(f=>f.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(c="aal2");const d=a.amr||[];return{data:{currentLevel:u,nextLevel:c,currentAuthenticationMethods:d},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?await B(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:r.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new et})})}catch(n){if($(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:i},error:s}=r;if(s)return this._returnResult({data:null,error:s});if(!i)return this._returnResult({data:null,error:new et});const o=await B(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&Re()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(r){if($(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:i},error:s}=r;if(s)return this._returnResult({data:null,error:s});if(!i)return this._returnResult({data:null,error:new et});const o=await B(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&Re()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(r){if($(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;return r?this._returnResult({data:null,error:r}):n?await B(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new et})})}catch(t){if($(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?(await B(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new et})})}catch(n){if($(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(l=>l.kid===t);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(l=>l.kid===t),r&&this.jwks_cached_at+$0>i)return r;const{data:s,error:o}=await B(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,r=s.keys.find(l=>l.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:f,error:m}=await this.getSession();if(m||!f.session)return this._returnResult({data:null,error:m});r=f.session.access_token}const{header:i,payload:s,signature:o,raw:{header:l,payload:a}}=Rs(r);n!=null&&n.allowExpired||ok(s.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:f}=await this.getUser(r);if(f)throw f;return{data:{claims:s,header:i,signature:o},error:null}}const c=lk(i.alg),h=await crypto.subtle.importKey("jwk",u,c,!0,["verify"]);if(!await crypto.subtle.verify(c,h,o,K0(`${l}.${a}`)))throw new Ya("Invalid JWT signature");return{data:{claims:s,header:i,signature:o},error:null}}catch(r){if($(r))return this._returnResult({data:null,error:r});throw r}}}Wi.nextInstanceID={};const Uk=Wi,Fk="2.98.0";let ui="";typeof Deno<"u"?ui="deno":typeof document<"u"?ui="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ui="react-native":ui="node";const Mk={"X-Client-Info":`supabase-js-${ui}/${Fk}`},Bk={headers:Mk},Vk={schema:"public"},Hk={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},qk={};function Ki(e){"@babel/helpers - typeof";return Ki=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ki(e)}function Wk(e,t){if(Ki(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Ki(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Kk(e){var t=Wk(e,"string");return Ki(t)=="symbol"?t:t+""}function Gk(e,t,n){return(t=Kk(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function me(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cd(Object(n),!0).forEach(function(r){Gk(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cd(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const Jk=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Qk=()=>Headers,Yk=(e,t,n)=>{const r=Jk(n),i=Qk();return async(s,o)=>{var l;const a=(l=await t())!==null&&l!==void 0?l:e;let u=new i(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${a}`),r(s,me(me({},o),{},{headers:u}))}};function Xk(e){return e.endsWith("/")?e:e+"/"}function Zk(e,t){var n,r;const{db:i,auth:s,realtime:o,global:l}=e,{db:a,auth:u,realtime:c,global:h}=t,d={db:me(me({},a),i),auth:me(me({},u),s),realtime:me(me({},c),o),storage:{},global:me(me(me({},h),l),{},{headers:me(me({},(n=h==null?void 0:h.headers)!==null&&n!==void 0?n:{}),(r=l==null?void 0:l.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return e.accessToken?d.accessToken=e.accessToken:delete d.accessToken,d}function e_(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Xk(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var t_=class extends Uk{constructor(e){super(e)}},n_=class{constructor(e,t,n){var r,i;this.supabaseUrl=e,this.supabaseKey=t;const s=e_(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",s),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",s),this.storageUrl=new URL("storage/v1",s),this.functionsUrl=new URL("functions/v1",s);const o=`sb-${s.hostname.split(".")[0]}-auth-token`,l={db:Vk,realtime:qk,auth:me(me({},Hk),{},{storageKey:o}),global:Bk},a=Zk(n??{},l);if(this.storageKey=(r=a.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(i=a.global.headers)!==null&&i!==void 0?i:{},a.accessToken)this.accessToken=a.accessToken,this.auth=new Proxy({},{get:(c,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=a.auth)!==null&&u!==void 0?u:{},this.headers,a.global.fetch)}this.fetch=Yk(t,this._getAccessToken.bind(this),a.global.fetch),this.realtime=this._initRealtimeClient(me({headers:this.headers,accessToken:this._getAccessToken.bind(this)},a.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(c=>this.realtime.setAuth(c)).catch(c=>console.warn("Failed to set initial Realtime auth token:",c)),this.rest=new Fw(new URL("rest/v1",s).href,{headers:this.headers,schema:a.db.schema,fetch:this.fetch,timeout:a.db.timeout,urlLengthLimit:a.db.urlLengthLimit}),this.storage=new j0(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),a.accessToken||this._listenForAuthEvents()}get functions(){return new Iw(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,n)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,n;if(e.accessToken)return await e.accessToken();const{data:r}=await e.auth.getSession();return(t=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:i,storageKey:s,flowType:o,lock:l,debug:a,throwOnError:u},c,h){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new t_({url:this.authUrl.href,headers:me(me({},d),c),storageKey:s,autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:i,flowType:o,lock:l,debug:a,throwOnError:u,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(f=>f.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new r0(this.realtimeUrl.href,me(me({},e),{},{params:me(me({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const r_=(e,t,n)=>new n_(e,t,n);function i_(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const n=t.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}i_()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const s_="https://rtmtienqtmmoldsmynhq.supabase.co",o_="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJ0bXRpZW5xdG1tb2xkc215bmhxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzIxOTUzMTQsImV4cCI6MjA4Nzc3MTMxNH0.AwS4cQAsXW2YEOutPwjhp2UtMfv9oqcWABtFGEcVanI",Gi=r_(s_,o_);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var l_={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a_=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Ue=(e,t)=>{const n=te.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:o,className:l="",children:a,...u},c)=>te.createElement("svg",{ref:c,...l_,width:i,height:i,stroke:r,strokeWidth:o?Number(s)*24/Number(i):s,className:["lucide",`lucide-${a_(e)}`,l].join(" "),...u},[...t.map(([h,d])=>te.createElement(h,d)),...Array.isArray(a)?a:[a]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u_=Ue("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $m=Ue("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hd=Ue("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c_=Ue("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h_=Ue("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d_=Ue("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f_=Ue("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lc=Ue("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p_=Ue("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Um=Ue("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m_=Ue("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dd=Ue("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g_=Ue("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fd=Ue("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fm=Ue("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y_=Ue("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function v_(){const[e,t]=te.useState(!1),[n,r]=te.useState(""),[i,s]=te.useState(""),[o,l]=te.useState(!1),[a,u]=te.useState(null),c=async h=>{h.preventDefault(),t(!0),u(null);try{if(o){const{error:d}=await Gi.auth.signUp({email:n,password:i});if(d)throw d;alert("Check your email for the login link or verify your account!")}else{const{error:d}=await Gi.auth.signInWithPassword({email:n,password:i});if(d)throw d}}catch(d){u(d.message||"An error occurred during authentication.")}finally{t(!1)}};return x.jsx("div",{className:"auth-container p-6",children:x.jsxs("div",{className:"auth-card",children:[x.jsxs("h2",{className:"flex items-center justify-center gap-2 mb-6",children:[x.jsx(Fm,{size:28,className:"text-accent-color"}),"ComplianceGPT"]}),x.jsxs("form",{onSubmit:c,children:[x.jsxs("div",{className:"form-group",children:[x.jsx("label",{htmlFor:"email",children:"Email"}),x.jsx("input",{id:"email",type:"email",value:n,onChange:h=>r(h.target.value),placeholder:"enterprise@company.com",required:!0})]}),x.jsxs("div",{className:"form-group",children:[x.jsx("label",{htmlFor:"password",children:"Password"}),x.jsx("input",{id:"password",type:"password",value:i,onChange:h=>s(h.target.value),placeholder:"",required:!0})]}),x.jsx("button",{type:"submit",disabled:e,className:"primary-button mt-4",children:e?"Processing...":o?"Sign Up":"Sign In"})]}),x.jsx("div",{className:"mt-4 text-center",children:x.jsx("button",{type:"button",onClick:()=>l(!o),className:"text-sm text-text-secondary hover:text-text-primary transition-colors",children:o?"Already have an account? Sign in":"Don't have an account? Sign up"})}),a&&x.jsx("div",{className:"auth-error",children:a})]})})}function w_(){const e=async()=>{await Gi.auth.signOut()};return x.jsxs("aside",{className:"sidebar",children:[x.jsxs("div",{className:"sidebar-header",children:[x.jsxs("h1",{className:"sidebar-title",children:[x.jsx(Fm,{size:24,className:"text-accent-color"}),"ComplianceGPT"]}),x.jsx("p",{className:"sidebar-subtitle",children:"Cybersecurity Compliance Copilot"})]}),x.jsx("div",{className:"sidebar-spacer"}),x.jsxs("button",{onClick:e,className:"logout-button",children:[x.jsx(m_,{size:16}),"Sign Out"]})]})}function k_({chunks:e}){const[t,n]=te.useState(!1);if(!e||e.length===0)return null;const r=e.reduce((i,s)=>{const o=s.framework||"Unknown";return i[o]||(i[o]=[]),i[o].push(s),i},{});return x.jsxs("div",{className:"mt-2 text-left",children:[x.jsxs("button",{onClick:()=>n(!t),className:"evidence-toggle",children:[t?x.jsx(c_,{size:14}):x.jsx(h_,{size:14}),x.jsx(lc,{size:14}),"View Evidence (",e.length," chunks)"]}),t&&x.jsx("div",{className:"evidence-panel",children:Object.entries(r).map(([i,s])=>x.jsxs("div",{className:"evidence-group",children:[x.jsx("h4",{className:"evidence-group-title",children:i.toUpperCase()}),x.jsx("div",{className:"evidence-group-cards",children:s.map((o,l)=>x.jsxs("div",{className:"evidence-card",children:[x.jsx("div",{className:"evidence-header",children:x.jsxs("span",{className:"evidence-similarity",children:["Similarity: ",(o.similarity*100).toFixed(1),"%"]})}),x.jsx("div",{className:"evidence-text",children:o.chunk})]},`${i}-${l}`))})]},i))})]})}function __({chunks:e,answer:t}){if(!e||e.length===0)return x.jsxs("div",{className:"mapping-mode-container",children:[x.jsxs("div",{className:"mapping-banner",children:[x.jsx(dd,{size:16,className:"text-accent-color"}),x.jsx("span",{children:"Cross-Framework Control Mapping"})]}),x.jsx("div",{className:"mapping-explanation mt-4",children:x.jsx("div",{className:"whitespace-pre-wrap",children:t})})]});const n=e[0].framework||"Unknown",r=e.filter(o=>o.framework===n),s=e.filter(o=>o.framework!==n).reduce((o,l)=>{const a=l.framework||"Unknown";return o[a]||(o[a]=[]),o[a].push(l),o},{});return x.jsxs("div",{className:"mapping-mode-container",children:[x.jsxs("div",{className:"mapping-banner",children:[x.jsx(dd,{size:16,className:"text-accent-color"}),x.jsx("span",{children:"Cross-Framework Control Mapping"})]}),x.jsxs("div",{className:"mapping-layout",children:[x.jsxs("div",{className:"mapping-column source-column",children:[x.jsxs("h4",{className:"mapping-column-title",children:["SOURCE: ",n.toUpperCase()]}),r.map((o,l)=>x.jsxs("div",{className:"mapping-card source-card",children:[x.jsx("div",{className:"mapping-card-header",children:x.jsxs("span",{className:"mapping-similarity",children:["Similarity: ",(o.similarity*100).toFixed(1),"%"]})}),x.jsx("div",{className:"mapping-card-text",children:o.chunk})]},`source-${l}`))]}),x.jsx("div",{className:"mapping-divider",children:x.jsx($m,{size:24,className:"mapping-arrow"})}),x.jsx("div",{className:"mapping-column target-column",children:Object.keys(s).length>0?Object.entries(s).map(([o,l])=>x.jsxs("div",{className:"mapping-target-group",children:[x.jsxs("h4",{className:"mapping-column-title",children:["TARGET: ",o.toUpperCase()]}),l.map((a,u)=>x.jsxs("div",{className:"mapping-card target-card",children:[x.jsx("div",{className:"mapping-card-header",children:x.jsxs("span",{className:"mapping-similarity",children:["Similarity: ",(a.similarity*100).toFixed(1),"%"]})}),x.jsx("div",{className:"mapping-card-text",children:a.chunk})]},`target-${o}-${u}`))]},o)):x.jsx("div",{className:"mapping-no-targets",children:"No target mappings found."})})]}),x.jsx("div",{className:"mapping-explanation",children:x.jsx("div",{className:"whitespace-pre-wrap",children:t})})]})}function x_({chunks:e,answer:t}){if(!e||e.length===0)return x.jsxs("div",{className:"mapping-mode-container",children:[x.jsxs("div",{className:"incident-banner",children:[x.jsx(fd,{size:16,className:"text-error-color"}),x.jsx("span",{children:"Incident Response & Threat Mitigation"})]}),x.jsx("div",{className:"mapping-explanation mt-4 border-l-4 border-l-accent-color pl-4",children:x.jsx("div",{className:"whitespace-pre-wrap",children:t})})]});const n=e.filter(s=>s.framework==="mitre"),i=e.filter(s=>s.framework!=="mitre").reduce((s,o)=>{const l=o.framework||"Unknown";return s[l]||(s[l]=[]),s[l].push(o),s},{});return x.jsxs("div",{className:"mapping-mode-container",children:[x.jsxs("div",{className:"incident-banner",children:[x.jsx(fd,{size:16,className:"text-error-color"}),x.jsx("span",{children:"Incident Response & Threat Mitigation"})]}),x.jsxs("div",{className:"mapping-layout",children:[x.jsxs("div",{className:"mapping-column source-column",children:[x.jsx("h4",{className:"mapping-column-title",children:"THREAT INTEL: MITRE ATT&CK"}),n.length>0?n.map((s,o)=>x.jsxs("div",{className:"mapping-card threat-card",children:[x.jsx("div",{className:"mapping-card-header",children:x.jsxs("span",{className:"mapping-similarity text-error-color",children:["Similarity: ",(s.similarity*100).toFixed(1),"%"]})}),x.jsx("div",{className:"mapping-card-text",children:s.chunk})]},`threat-${o}`)):x.jsx("div",{className:"mapping-no-targets flex items-center justify-center p-4",children:"No specific MITRE intel referenced."})]}),x.jsx("div",{className:"mapping-divider",children:x.jsx($m,{size:24,className:"mapping-arrow text-success-color"})}),x.jsx("div",{className:"mapping-column target-column",children:Object.keys(i).length>0?Object.entries(i).map(([s,o])=>x.jsxs("div",{className:"mapping-target-group",children:[x.jsxs("h4",{className:"mapping-column-title",children:["DEFENSIVE CONTROLS: ",s.toUpperCase()]}),o.map((l,a)=>x.jsxs("div",{className:"mapping-card defense-card",children:[x.jsx("div",{className:"mapping-card-header",children:x.jsxs("span",{className:"mapping-similarity text-success-color",children:["Defense Match: ",(l.similarity*100).toFixed(1),"%"]})}),x.jsx("div",{className:"mapping-card-text",children:l.chunk})]},`defense-${s}-${a}`))]},s)):x.jsx("div",{className:"mapping-no-targets",children:"No defensive controls found."})})]}),x.jsx("div",{className:"mapping-explanation border-l-4 border-l-accent-color",children:x.jsx("div",{className:"whitespace-pre-wrap",children:t})})]})}function S_({message:e}){const t=e.role==="user",n=!!e.mapping_mode&&!t,r=!!e.incident_mode&&!t;return x.jsx("div",{className:`message-wrapper ${t?"user":"assistant"}`,children:x.jsxs("div",{className:"flex flex-col max-w-[85%]",children:[!t&&x.jsx("span",{className:"text-xs text-text-secondary mb-1 ml-1 font-medium",children:"ComplianceGPT"}),n?x.jsx("div",{className:"bg-bg-secondary border border-border-color rounded-lg rounded-bl-none p-5",children:x.jsx(__,{chunks:e.evidence||[],answer:e.content})}):r?x.jsx("div",{className:"bg-bg-secondary border border-border-color rounded-lg rounded-bl-none p-5",children:x.jsx(x_,{chunks:e.evidence||[],answer:e.content})}):x.jsx("div",{className:`p-4 rounded-lg text-[0.95rem] leading-[1.6] ${t?"bg-accent-color text-white rounded-br-none":"bg-bg-secondary border border-border-color rounded-bl-none"}`,children:x.jsx("div",{className:"whitespace-pre-wrap",children:e.content})}),e.citations&&e.citations.length>0&&x.jsx("div",{className:"citation-badges",children:e.citations.map(i=>x.jsx("span",{className:"badge",children:i},i))}),e.evidence&&e.evidence.length>0&&x.jsx(k_,{chunks:e.evidence})]})})}const Mm="http://localhost:8000/api",b_=async(e,t)=>{const n={question:e};t&&t.length>0&&(n.frameworks=t);const r=await fetch(`${Mm}/query`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});if(!r.ok)throw new Error(`API error: ${r.statusText}`);return r.json()};async function E_(e,t){const n=await fetch(`${Mm}/report`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({report_type:e,messages:t.map(r=>({role:r.role,content:r.content,citations:r.citations,frameworks_used:r.frameworks_used}))})});if(!n.ok)throw new Error(`Report generation failed: ${n.statusText}`);return await n.json()}function C_(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const T_=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,A_=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,P_={};function pd(e,t){return(P_.jsx?A_:T_).test(e)}const R_=/[ \t\n\f\r]/g;function O_(e){return typeof e=="object"?e.type==="text"?md(e.value):!1:md(e)}function md(e){return e.replace(R_,"")===""}class rs{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}}rs.prototype.normal={};rs.prototype.property={};rs.prototype.space=void 0;function Bm(e,t){const n={},r={};for(const i of e)Object.assign(n,i.property),Object.assign(r,i.normal);return new rs(n,r,t)}function Xa(e){return e.toLowerCase()}class Xe{constructor(t,n){this.attribute=n,this.property=t}}Xe.prototype.attribute="";Xe.prototype.booleanish=!1;Xe.prototype.boolean=!1;Xe.prototype.commaOrSpaceSeparated=!1;Xe.prototype.commaSeparated=!1;Xe.prototype.defined=!1;Xe.prototype.mustUseProperty=!1;Xe.prototype.number=!1;Xe.prototype.overloadedBoolean=!1;Xe.prototype.property="";Xe.prototype.spaceSeparated=!1;Xe.prototype.space=void 0;let I_=0;const H=Qn(),ke=Qn(),Za=Qn(),R=Qn(),oe=Qn(),Or=Qn(),tt=Qn();function Qn(){return 2**++I_}const eu=Object.freeze(Object.defineProperty({__proto__:null,boolean:H,booleanish:ke,commaOrSpaceSeparated:tt,commaSeparated:Or,number:R,overloadedBoolean:Za,spaceSeparated:oe},Symbol.toStringTag,{value:"Module"})),jl=Object.keys(eu);class ac extends Xe{constructor(t,n,r,i){let s=-1;if(super(t,n),gd(this,"space",i),typeof r=="number")for(;++s<jl.length;){const o=jl[s];gd(this,jl[s],(r&eu[o])===eu[o])}}}ac.prototype.defined=!0;function gd(e,t,n){n&&(e[t]=n)}function Hr(e){const t={},n={};for(const[r,i]of Object.entries(e.properties)){const s=new ac(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(s.mustUseProperty=!0),t[r]=s,n[Xa(r)]=r,n[Xa(s.attribute)]=r}return new rs(t,n,e.space)}const Vm=Hr({properties:{ariaActiveDescendant:null,ariaAtomic:ke,ariaAutoComplete:null,ariaBusy:ke,ariaChecked:ke,ariaColCount:R,ariaColIndex:R,ariaColSpan:R,ariaControls:oe,ariaCurrent:null,ariaDescribedBy:oe,ariaDetails:null,ariaDisabled:ke,ariaDropEffect:oe,ariaErrorMessage:null,ariaExpanded:ke,ariaFlowTo:oe,ariaGrabbed:ke,ariaHasPopup:null,ariaHidden:ke,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:oe,ariaLevel:R,ariaLive:null,ariaModal:ke,ariaMultiLine:ke,ariaMultiSelectable:ke,ariaOrientation:null,ariaOwns:oe,ariaPlaceholder:null,ariaPosInSet:R,ariaPressed:ke,ariaReadOnly:ke,ariaRelevant:null,ariaRequired:ke,ariaRoleDescription:oe,ariaRowCount:R,ariaRowIndex:R,ariaRowSpan:R,ariaSelected:ke,ariaSetSize:R,ariaSort:null,ariaValueMax:R,ariaValueMin:R,ariaValueNow:R,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function Hm(e,t){return t in e?e[t]:t}function qm(e,t){return Hm(e,t.toLowerCase())}const j_=Hr({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Or,acceptCharset:oe,accessKey:oe,action:null,allow:null,allowFullScreen:H,allowPaymentRequest:H,allowUserMedia:H,alt:null,as:null,async:H,autoCapitalize:null,autoComplete:oe,autoFocus:H,autoPlay:H,blocking:oe,capture:null,charSet:null,checked:H,cite:null,className:oe,cols:R,colSpan:null,content:null,contentEditable:ke,controls:H,controlsList:oe,coords:R|Or,crossOrigin:null,data:null,dateTime:null,decoding:null,default:H,defer:H,dir:null,dirName:null,disabled:H,download:Za,draggable:ke,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:H,formTarget:null,headers:oe,height:R,hidden:Za,high:R,href:null,hrefLang:null,htmlFor:oe,httpEquiv:oe,id:null,imageSizes:null,imageSrcSet:null,inert:H,inputMode:null,integrity:null,is:null,isMap:H,itemId:null,itemProp:oe,itemRef:oe,itemScope:H,itemType:oe,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:H,low:R,manifest:null,max:null,maxLength:R,media:null,method:null,min:null,minLength:R,multiple:H,muted:H,name:null,nonce:null,noModule:H,noValidate:H,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:H,optimum:R,pattern:null,ping:oe,placeholder:null,playsInline:H,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:H,referrerPolicy:null,rel:oe,required:H,reversed:H,rows:R,rowSpan:R,sandbox:oe,scope:null,scoped:H,seamless:H,selected:H,shadowRootClonable:H,shadowRootDelegatesFocus:H,shadowRootMode:null,shape:null,size:R,sizes:null,slot:null,span:R,spellCheck:ke,src:null,srcDoc:null,srcLang:null,srcSet:null,start:R,step:null,style:null,tabIndex:R,target:null,title:null,translate:null,type:null,typeMustMatch:H,useMap:null,value:ke,width:R,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:oe,axis:null,background:null,bgColor:null,border:R,borderColor:null,bottomMargin:R,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:H,declare:H,event:null,face:null,frame:null,frameBorder:null,hSpace:R,leftMargin:R,link:null,longDesc:null,lowSrc:null,marginHeight:R,marginWidth:R,noResize:H,noHref:H,noShade:H,noWrap:H,object:null,profile:null,prompt:null,rev:null,rightMargin:R,rules:null,scheme:null,scrolling:ke,standby:null,summary:null,text:null,topMargin:R,valueType:null,version:null,vAlign:null,vLink:null,vSpace:R,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:H,disableRemotePlayback:H,prefix:null,property:null,results:R,security:null,unselectable:null},space:"html",transform:qm}),N_=Hr({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:tt,accentHeight:R,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:R,amplitude:R,arabicForm:null,ascent:R,attributeName:null,attributeType:null,azimuth:R,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:R,by:null,calcMode:null,capHeight:R,className:oe,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:R,diffuseConstant:R,direction:null,display:null,dur:null,divisor:R,dominantBaseline:null,download:H,dx:null,dy:null,edgeMode:null,editable:null,elevation:R,enableBackground:null,end:null,event:null,exponent:R,externalResourcesRequired:null,fill:null,fillOpacity:R,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Or,g2:Or,glyphName:Or,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:R,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:R,horizOriginX:R,horizOriginY:R,id:null,ideographic:R,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:R,k:R,k1:R,k2:R,k3:R,k4:R,kernelMatrix:tt,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:R,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:R,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:R,overlineThickness:R,paintOrder:null,panose1:null,path:null,pathLength:R,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:oe,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:R,pointsAtY:R,pointsAtZ:R,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:tt,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:tt,rev:tt,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:tt,requiredFeatures:tt,requiredFonts:tt,requiredFormats:tt,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:R,specularExponent:R,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:R,strikethroughThickness:R,string:null,stroke:null,strokeDashArray:tt,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:R,strokeOpacity:R,strokeWidth:null,style:null,surfaceScale:R,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:tt,tabIndex:R,tableValues:null,target:null,targetX:R,targetY:R,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:tt,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:R,underlineThickness:R,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:R,values:null,vAlphabetic:R,vMathematical:R,vectorEffect:null,vHanging:R,vIdeographic:R,version:null,vertAdvY:R,vertOriginX:R,vertOriginY:R,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:R,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:Hm}),Wm=Hr({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),Km=Hr({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:qm}),Gm=Hr({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),L_={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},D_=/[A-Z]/g,yd=/-[a-z]/g,z_=/^data[-\w.:]+$/i;function $_(e,t){const n=Xa(t);let r=t,i=Xe;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&z_.test(t)){if(t.charAt(4)==="-"){const s=t.slice(5).replace(yd,F_);r="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=t.slice(4);if(!yd.test(s)){let o=s.replace(D_,U_);o.charAt(0)!=="-"&&(o="-"+o),t="data"+o}}i=ac}return new i(r,t)}function U_(e){return"-"+e.toLowerCase()}function F_(e){return e.charAt(1).toUpperCase()}const M_=Bm([Vm,j_,Wm,Km,Gm],"html"),uc=Bm([Vm,N_,Wm,Km,Gm],"svg");function B_(e){return e.join(" ").trim()}var cc={},vd=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,V_=/\n/g,H_=/^\s*/,q_=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,W_=/^:\s*/,K_=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,G_=/^[;\s]*/,J_=/^\s+|\s+$/g,Q_=`
`,wd="/",kd="*",Ln="",Y_="comment",X_="declaration";function Z_(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,r=1;function i(m){var v=m.match(V_);v&&(n+=v.length);var S=m.lastIndexOf(Q_);r=~S?m.length-S:r+m.length}function s(){var m={line:n,column:r};return function(v){return v.position=new o(m),u(),v}}function o(m){this.start=m,this.end={line:n,column:r},this.source=t.source}o.prototype.content=e;function l(m){var v=new Error(t.source+":"+n+":"+r+": "+m);if(v.reason=m,v.filename=t.source,v.line=n,v.column=r,v.source=e,!t.silent)throw v}function a(m){var v=m.exec(e);if(v){var S=v[0];return i(S),e=e.slice(S.length),v}}function u(){a(H_)}function c(m){var v;for(m=m||[];v=h();)v!==!1&&m.push(v);return m}function h(){var m=s();if(!(wd!=e.charAt(0)||kd!=e.charAt(1))){for(var v=2;Ln!=e.charAt(v)&&(kd!=e.charAt(v)||wd!=e.charAt(v+1));)++v;if(v+=2,Ln===e.charAt(v-1))return l("End of comment missing");var S=e.slice(2,v-2);return r+=2,i(S),e=e.slice(v),r+=2,m({type:Y_,comment:S})}}function d(){var m=s(),v=a(q_);if(v){if(h(),!a(W_))return l("property missing ':'");var S=a(K_),p=m({type:X_,property:_d(v[0].replace(vd,Ln)),value:S?_d(S[0].replace(vd,Ln)):Ln});return a(G_),p}}function f(){var m=[];c(m);for(var v;v=d();)v!==!1&&(m.push(v),c(m));return m}return u(),f()}function _d(e){return e?e.replace(J_,Ln):Ln}var ex=Z_,tx=Js&&Js.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(cc,"__esModule",{value:!0});cc.default=rx;const nx=tx(ex);function rx(e,t){let n=null;if(!e||typeof e!="string")return n;const r=(0,nx.default)(e),i=typeof t=="function";return r.forEach(s=>{if(s.type!=="declaration")return;const{property:o,value:l}=s;i?t(o,l,s):l&&(n=n||{},n[o]=l)}),n}var Go={};Object.defineProperty(Go,"__esModule",{value:!0});Go.camelCase=void 0;var ix=/^--[a-zA-Z0-9_-]+$/,sx=/-([a-z])/g,ox=/^[^-]+$/,lx=/^-(webkit|moz|ms|o|khtml)-/,ax=/^-(ms)-/,ux=function(e){return!e||ox.test(e)||ix.test(e)},cx=function(e,t){return t.toUpperCase()},xd=function(e,t){return"".concat(t,"-")},hx=function(e,t){return t===void 0&&(t={}),ux(e)?e:(e=e.toLowerCase(),t.reactCompat?e=e.replace(ax,xd):e=e.replace(lx,xd),e.replace(sx,cx))};Go.camelCase=hx;var dx=Js&&Js.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},fx=dx(cc),px=Go;function tu(e,t){var n={};return!e||typeof e!="string"||(0,fx.default)(e,function(r,i){r&&i&&(n[(0,px.camelCase)(r,t)]=i)}),n}tu.default=tu;var mx=tu;const gx=cu(mx),Jm=Qm("end"),hc=Qm("start");function Qm(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function yx(e){const t=hc(e),n=Jm(e);if(t&&n)return{start:t,end:n}}function _i(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?Sd(e.position):"start"in e||"end"in e?Sd(e):"line"in e||"column"in e?nu(e):""}function nu(e){return bd(e&&e.line)+":"+bd(e&&e.column)}function Sd(e){return nu(e&&e.start)+"-"+nu(e&&e.end)}function bd(e){return e&&typeof e=="number"?e:1}class Fe extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",s={},o=!1;if(n&&("line"in n&&"column"in n?s={place:n}:"start"in n&&"end"in n?s={place:n}:"type"in n?s={ancestors:[n],place:n.position}:s={...n}),typeof t=="string"?i=t:!s.cause&&t&&(o=!0,i=t.message,s.cause=t),!s.ruleId&&!s.source&&typeof r=="string"){const a=r.indexOf(":");a===-1?s.ruleId=r:(s.source=r.slice(0,a),s.ruleId=r.slice(a+1))}if(!s.place&&s.ancestors&&s.ancestors){const a=s.ancestors[s.ancestors.length-1];a&&(s.place=a.position)}const l=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=l?l.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=l?l.line:void 0,this.name=_i(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=o&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Fe.prototype.file="";Fe.prototype.name="";Fe.prototype.reason="";Fe.prototype.message="";Fe.prototype.stack="";Fe.prototype.column=void 0;Fe.prototype.line=void 0;Fe.prototype.ancestors=void 0;Fe.prototype.cause=void 0;Fe.prototype.fatal=void 0;Fe.prototype.place=void 0;Fe.prototype.ruleId=void 0;Fe.prototype.source=void 0;const dc={}.hasOwnProperty,vx=new Map,wx=/[A-Z]/g,kx=new Set(["table","tbody","thead","tfoot","tr"]),_x=new Set(["td","th"]),Ym="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function xx(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=Rx(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=Px(n,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?uc:M_,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},s=Xm(i,e,void 0);return s&&typeof s!="string"?s:i.create(e,i.Fragment,{children:s||void 0},void 0)}function Xm(e,t,n){if(t.type==="element")return Sx(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return bx(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return Cx(e,t,n);if(t.type==="mdxjsEsm")return Ex(e,t);if(t.type==="root")return Tx(e,t,n);if(t.type==="text")return Ax(e,t)}function Sx(e,t,n){const r=e.schema;let i=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=uc,e.schema=i),e.ancestors.push(t);const s=eg(e,t.tagName,!1),o=Ox(e,t);let l=pc(e,t);return kx.has(t.tagName)&&(l=l.filter(function(a){return typeof a=="string"?!O_(a):!0})),Zm(e,o,s,t),fc(o,l),e.ancestors.pop(),e.schema=r,e.create(t,s,o,n)}function bx(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}Ji(e,t.position)}function Ex(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);Ji(e,t.position)}function Cx(e,t,n){const r=e.schema;let i=r;t.name==="svg"&&r.space==="html"&&(i=uc,e.schema=i),e.ancestors.push(t);const s=t.name===null?e.Fragment:eg(e,t.name,!0),o=Ix(e,t),l=pc(e,t);return Zm(e,o,s,t),fc(o,l),e.ancestors.pop(),e.schema=r,e.create(t,s,o,n)}function Tx(e,t,n){const r={};return fc(r,pc(e,t)),e.create(t,e.Fragment,r,n)}function Ax(e,t){return t.value}function Zm(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function fc(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function Px(e,t,n){return r;function r(i,s,o,l){const u=Array.isArray(o.children)?n:t;return l?u(s,o,l):u(s,o)}}function Rx(e,t){return n;function n(r,i,s,o){const l=Array.isArray(s.children),a=hc(r);return t(i,s,o,l,{columnNumber:a?a.column-1:void 0,fileName:e,lineNumber:a?a.line:void 0},void 0)}}function Ox(e,t){const n={};let r,i;for(i in t.properties)if(i!=="children"&&dc.call(t.properties,i)){const s=jx(e,i,t.properties[i]);if(s){const[o,l]=s;e.tableCellAlignToStyle&&o==="align"&&typeof l=="string"&&_x.has(t.tagName)?r=l:n[o]=l}}if(r){const s=n.style||(n.style={});s[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function Ix(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const s=r.data.estree.body[0];s.type;const o=s.expression;o.type;const l=o.properties[0];l.type,Object.assign(n,e.evaluater.evaluateExpression(l.argument))}else Ji(e,t.position);else{const i=r.name;let s;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const l=r.value.data.estree.body[0];l.type,s=e.evaluater.evaluateExpression(l.expression)}else Ji(e,t.position);else s=r.value===null?!0:r.value;n[i]=s}return n}function pc(e,t){const n=[];let r=-1;const i=e.passKeys?new Map:vx;for(;++r<t.children.length;){const s=t.children[r];let o;if(e.passKeys){const a=s.type==="element"?s.tagName:s.type==="mdxJsxFlowElement"||s.type==="mdxJsxTextElement"?s.name:void 0;if(a){const u=i.get(a)||0;o=a+"-"+u,i.set(a,u+1)}}const l=Xm(e,s,o);l!==void 0&&n.push(l)}return n}function jx(e,t,n){const r=$_(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?C_(n):B_(n)),r.property==="style"){let i=typeof n=="object"?n:Nx(e,String(n));return e.stylePropertyNameCase==="css"&&(i=Lx(i)),["style",i]}return[e.elementAttributeNameCase==="react"&&r.space?L_[r.property]||r.property:r.attribute,n]}}function Nx(e,t){try{return gx(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,i=new Fe("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=e.filePath||void 0,i.url=Ym+"#cannot-parse-style-attribute",i}}function eg(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const i=t.split(".");let s=-1,o;for(;++s<i.length;){const l=pd(i[s])?{type:"Identifier",name:i[s]}:{type:"Literal",value:i[s]};o=o?{type:"MemberExpression",object:o,property:l,computed:!!(s&&l.type==="Literal"),optional:!1}:l}r=o}else r=pd(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const i=r.value;return dc.call(e.components,i)?e.components[i]:i}if(e.evaluater)return e.evaluater.evaluateExpression(r);Ji(e)}function Ji(e,t){const n=new Fe("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=Ym+"#cannot-handle-mdx-estrees-without-createevaluater",n}function Lx(e){const t={};let n;for(n in e)dc.call(e,n)&&(t[Dx(n)]=e[n]);return t}function Dx(e){let t=e.replace(wx,zx);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function zx(e){return"-"+e.toLowerCase()}const Nl={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},$x={};function mc(e,t){const n=$x,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return tg(e,r,i)}function tg(e,t,n){if(Ux(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return Ed(e.children,t,n)}return Array.isArray(e)?Ed(e,t,n):""}function Ed(e,t,n){const r=[];let i=-1;for(;++i<e.length;)r[i]=tg(e[i],t,n);return r.join("")}function Ux(e){return!!(e&&typeof e=="object")}const Cd=document.createElement("i");function gc(e){const t="&"+e+";";Cd.innerHTML=t;const n=Cd.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function ot(e,t,n,r){const i=e.length;let s=0,o;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(t,n),e.splice(...o);else for(n&&e.splice(t,n);s<r.length;)o=r.slice(s,s+1e4),o.unshift(t,0),e.splice(...o),s+=1e4,t+=1e4}function dt(e,t){return e.length>0?(ot(e,e.length,0,t),e):t}const Td={}.hasOwnProperty;function ng(e){const t={};let n=-1;for(;++n<e.length;)Fx(t,e[n]);return t}function Fx(e,t){let n;for(n in t){const i=(Td.call(e,n)?e[n]:void 0)||(e[n]={}),s=t[n];let o;if(s)for(o in s){Td.call(i,o)||(i[o]=[]);const l=s[o];Mx(i[o],Array.isArray(l)?l:l?[l]:[])}}}function Mx(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);ot(e,0,0,r)}function rg(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function At(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Be=En(/[A-Za-z]/),ze=En(/[\dA-Za-z]/),Bx=En(/[#-'*+\--9=?A-Z^-~]/);function bo(e){return e!==null&&(e<32||e===127)}const ru=En(/\d/),Vx=En(/[\dA-Fa-f]/),Hx=En(/[!-/:-@[-`{-~]/);function U(e){return e!==null&&e<-2}function re(e){return e!==null&&(e<0||e===32)}function q(e){return e===-2||e===-1||e===32}const Jo=En(new RegExp("\\p{P}|\\p{S}","u")),Kn=En(/\s/);function En(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function qr(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const s=e.charCodeAt(n);let o="";if(s===37&&ze(e.charCodeAt(n+1))&&ze(e.charCodeAt(n+2)))i=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(o=String.fromCharCode(s));else if(s>55295&&s<57344){const l=e.charCodeAt(n+1);s<56320&&l>56319&&l<57344?(o=String.fromCharCode(s,l),i=1):o=""}else o=String.fromCharCode(s);o&&(t.push(e.slice(r,n),encodeURIComponent(o)),r=n+i+1,o=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function J(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let s=0;return o;function o(a){return q(a)?(e.enter(n),l(a)):t(a)}function l(a){return q(a)&&s++<i?(e.consume(a),l):(e.exit(n),t(a))}}const qx={tokenize:Wx};function Wx(e){const t=e.attempt(this.parser.constructs.contentInitial,r,i);let n;return t;function r(l){if(l===null){e.consume(l);return}return e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),J(e,t,"linePrefix")}function i(l){return e.enter("paragraph"),s(l)}function s(l){const a=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=a),n=a,o(l)}function o(l){if(l===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(l);return}return U(l)?(e.consume(l),e.exit("chunkText"),s):(e.consume(l),o)}}const Kx={tokenize:Gx},Ad={tokenize:Jx};function Gx(e){const t=this,n=[];let r=0,i,s,o;return l;function l(y){if(r<n.length){const b=n[r];return t.containerState=b[1],e.attempt(b[0].continuation,a,u)(y)}return u(y)}function a(y){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&g();const b=t.events.length;let C=b,_;for(;C--;)if(t.events[C][0]==="exit"&&t.events[C][1].type==="chunkFlow"){_=t.events[C][1].end;break}p(r);let A=b;for(;A<t.events.length;)t.events[A][1].end={..._},A++;return ot(t.events,C+1,0,t.events.slice(b)),t.events.length=A,u(y)}return l(y)}function u(y){if(r===n.length){if(!i)return d(y);if(i.currentConstruct&&i.currentConstruct.concrete)return m(y);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(Ad,c,h)(y)}function c(y){return i&&g(),p(r),d(y)}function h(y){return t.parser.lazy[t.now().line]=r!==n.length,o=t.now().offset,m(y)}function d(y){return t.containerState={},e.attempt(Ad,f,m)(y)}function f(y){return r++,n.push([t.currentConstruct,t.containerState]),d(y)}function m(y){if(y===null){i&&g(),p(0),e.consume(y);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:s}),v(y)}function v(y){if(y===null){S(e.exit("chunkFlow"),!0),p(0),e.consume(y);return}return U(y)?(e.consume(y),S(e.exit("chunkFlow")),r=0,t.interrupt=void 0,l):(e.consume(y),v)}function S(y,b){const C=t.sliceStream(y);if(b&&C.push(null),y.previous=s,s&&(s.next=y),s=y,i.defineSkip(y.start),i.write(C),t.parser.lazy[y.start.line]){let _=i.events.length;for(;_--;)if(i.events[_][1].start.offset<o&&(!i.events[_][1].end||i.events[_][1].end.offset>o))return;const A=t.events.length;let O=A,D,E;for(;O--;)if(t.events[O][0]==="exit"&&t.events[O][1].type==="chunkFlow"){if(D){E=t.events[O][1].end;break}D=!0}for(p(r),_=A;_<t.events.length;)t.events[_][1].end={...E},_++;ot(t.events,O+1,0,t.events.slice(A)),t.events.length=_}}function p(y){let b=n.length;for(;b-- >y;){const C=n[b];t.containerState=C[1],C[0].exit.call(t,e)}n.length=y}function g(){i.write([null]),s=void 0,i=void 0,t.containerState._closeFlow=void 0}}function Jx(e,t,n){return J(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Ur(e){if(e===null||re(e)||Kn(e))return 1;if(Jo(e))return 2}function Qo(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const s=e[i].resolveAll;s&&!r.includes(s)&&(t=s(t,n),r.push(s))}return t}const iu={name:"attention",resolveAll:Qx,tokenize:Yx};function Qx(e,t){let n=-1,r,i,s,o,l,a,u,c;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;a=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const h={...e[r][1].end},d={...e[n][1].start};Pd(h,-a),Pd(d,a),o={type:a>1?"strongSequence":"emphasisSequence",start:h,end:{...e[r][1].end}},l={type:a>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:d},s={type:a>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},i={type:a>1?"strong":"emphasis",start:{...o.start},end:{...l.end}},e[r][1].end={...o.start},e[n][1].start={...l.end},u=[],e[r][1].end.offset-e[r][1].start.offset&&(u=dt(u,[["enter",e[r][1],t],["exit",e[r][1],t]])),u=dt(u,[["enter",i,t],["enter",o,t],["exit",o,t],["enter",s,t]]),u=dt(u,Qo(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),u=dt(u,[["exit",s,t],["enter",l,t],["exit",l,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(c=2,u=dt(u,[["enter",e[n][1],t],["exit",e[n][1],t]])):c=0,ot(e,r-1,n-r+3,u),n=r+u.length-c-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function Yx(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=Ur(r);let s;return o;function o(a){return s=a,e.enter("attentionSequence"),l(a)}function l(a){if(a===s)return e.consume(a),l;const u=e.exit("attentionSequence"),c=Ur(a),h=!c||c===2&&i||n.includes(a),d=!i||i===2&&c||n.includes(r);return u._open=!!(s===42?h:h&&(i||!d)),u._close=!!(s===42?d:d&&(c||!h)),t(a)}}function Pd(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const Xx={name:"autolink",tokenize:Zx};function Zx(e,t,n){let r=0;return i;function i(f){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(f),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),s}function s(f){return Be(f)?(e.consume(f),o):f===64?n(f):u(f)}function o(f){return f===43||f===45||f===46||ze(f)?(r=1,l(f)):u(f)}function l(f){return f===58?(e.consume(f),r=0,a):(f===43||f===45||f===46||ze(f))&&r++<32?(e.consume(f),l):(r=0,u(f))}function a(f){return f===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(f),e.exit("autolinkMarker"),e.exit("autolink"),t):f===null||f===32||f===60||bo(f)?n(f):(e.consume(f),a)}function u(f){return f===64?(e.consume(f),c):Bx(f)?(e.consume(f),u):n(f)}function c(f){return ze(f)?h(f):n(f)}function h(f){return f===46?(e.consume(f),r=0,c):f===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(f),e.exit("autolinkMarker"),e.exit("autolink"),t):d(f)}function d(f){if((f===45||ze(f))&&r++<63){const m=f===45?d:h;return e.consume(f),m}return n(f)}}const is={partial:!0,tokenize:e1};function e1(e,t,n){return r;function r(s){return q(s)?J(e,i,"linePrefix")(s):i(s)}function i(s){return s===null||U(s)?t(s):n(s)}}const ig={continuation:{tokenize:n1},exit:r1,name:"blockQuote",tokenize:t1};function t1(e,t,n){const r=this;return i;function i(o){if(o===62){const l=r.containerState;return l.open||(e.enter("blockQuote",{_container:!0}),l.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(o),e.exit("blockQuoteMarker"),s}return n(o)}function s(o){return q(o)?(e.enter("blockQuotePrefixWhitespace"),e.consume(o),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(o))}}function n1(e,t,n){const r=this;return i;function i(o){return q(o)?J(e,s,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):s(o)}function s(o){return e.attempt(ig,t,n)(o)}}function r1(e){e.exit("blockQuote")}const sg={name:"characterEscape",tokenize:i1};function i1(e,t,n){return r;function r(s){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(s),e.exit("escapeMarker"),i}function i(s){return Hx(s)?(e.enter("characterEscapeValue"),e.consume(s),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(s)}}const og={name:"characterReference",tokenize:s1};function s1(e,t,n){const r=this;let i=0,s,o;return l;function l(h){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(h),e.exit("characterReferenceMarker"),a}function a(h){return h===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(h),e.exit("characterReferenceMarkerNumeric"),u):(e.enter("characterReferenceValue"),s=31,o=ze,c(h))}function u(h){return h===88||h===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(h),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),s=6,o=Vx,c):(e.enter("characterReferenceValue"),s=7,o=ru,c(h))}function c(h){if(h===59&&i){const d=e.exit("characterReferenceValue");return o===ze&&!gc(r.sliceSerialize(d))?n(h):(e.enter("characterReferenceMarker"),e.consume(h),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return o(h)&&i++<s?(e.consume(h),c):n(h)}}const Rd={partial:!0,tokenize:l1},Od={concrete:!0,name:"codeFenced",tokenize:o1};function o1(e,t,n){const r=this,i={partial:!0,tokenize:C};let s=0,o=0,l;return a;function a(_){return u(_)}function u(_){const A=r.events[r.events.length-1];return s=A&&A[1].type==="linePrefix"?A[2].sliceSerialize(A[1],!0).length:0,l=_,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),c(_)}function c(_){return _===l?(o++,e.consume(_),c):o<3?n(_):(e.exit("codeFencedFenceSequence"),q(_)?J(e,h,"whitespace")(_):h(_))}function h(_){return _===null||U(_)?(e.exit("codeFencedFence"),r.interrupt?t(_):e.check(Rd,v,b)(_)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),d(_))}function d(_){return _===null||U(_)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),h(_)):q(_)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),J(e,f,"whitespace")(_)):_===96&&_===l?n(_):(e.consume(_),d)}function f(_){return _===null||U(_)?h(_):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),m(_))}function m(_){return _===null||U(_)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),h(_)):_===96&&_===l?n(_):(e.consume(_),m)}function v(_){return e.attempt(i,b,S)(_)}function S(_){return e.enter("lineEnding"),e.consume(_),e.exit("lineEnding"),p}function p(_){return s>0&&q(_)?J(e,g,"linePrefix",s+1)(_):g(_)}function g(_){return _===null||U(_)?e.check(Rd,v,b)(_):(e.enter("codeFlowValue"),y(_))}function y(_){return _===null||U(_)?(e.exit("codeFlowValue"),g(_)):(e.consume(_),y)}function b(_){return e.exit("codeFenced"),t(_)}function C(_,A,O){let D=0;return E;function E(K){return _.enter("lineEnding"),_.consume(K),_.exit("lineEnding"),N}function N(K){return _.enter("codeFencedFence"),q(K)?J(_,z,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(K):z(K)}function z(K){return K===l?(_.enter("codeFencedFenceSequence"),Q(K)):O(K)}function Q(K){return K===l?(D++,_.consume(K),Q):D>=o?(_.exit("codeFencedFenceSequence"),q(K)?J(_,ie,"whitespace")(K):ie(K)):O(K)}function ie(K){return K===null||U(K)?(_.exit("codeFencedFence"),A(K)):O(K)}}}function l1(e,t,n){const r=this;return i;function i(o){return o===null?n(o):(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),s)}function s(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}const Ll={name:"codeIndented",tokenize:u1},a1={partial:!0,tokenize:c1};function u1(e,t,n){const r=this;return i;function i(u){return e.enter("codeIndented"),J(e,s,"linePrefix",5)(u)}function s(u){const c=r.events[r.events.length-1];return c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?o(u):n(u)}function o(u){return u===null?a(u):U(u)?e.attempt(a1,o,a)(u):(e.enter("codeFlowValue"),l(u))}function l(u){return u===null||U(u)?(e.exit("codeFlowValue"),o(u)):(e.consume(u),l)}function a(u){return e.exit("codeIndented"),t(u)}}function c1(e,t,n){const r=this;return i;function i(o){return r.parser.lazy[r.now().line]?n(o):U(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),i):J(e,s,"linePrefix",5)(o)}function s(o){const l=r.events[r.events.length-1];return l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?t(o):U(o)?i(o):n(o)}}const h1={name:"codeText",previous:f1,resolve:d1,tokenize:p1};function d1(e){let t=e.length-4,n=3,r,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(i=r):(r===t||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function f1(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function p1(e,t,n){let r=0,i,s;return o;function o(h){return e.enter("codeText"),e.enter("codeTextSequence"),l(h)}function l(h){return h===96?(e.consume(h),r++,l):(e.exit("codeTextSequence"),a(h))}function a(h){return h===null?n(h):h===32?(e.enter("space"),e.consume(h),e.exit("space"),a):h===96?(s=e.enter("codeTextSequence"),i=0,c(h)):U(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),a):(e.enter("codeTextData"),u(h))}function u(h){return h===null||h===32||h===96||U(h)?(e.exit("codeTextData"),a(h)):(e.consume(h),u)}function c(h){return h===96?(e.consume(h),i++,c):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(h)):(s.type="codeTextData",u(h))}}class m1{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const i=n||0;this.setCursor(Math.trunc(t));const s=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&ri(this.left,r),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),ri(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),ri(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);ri(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);ri(this.left,n.reverse())}}}function ri(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function lg(e){const t={};let n=-1,r,i,s,o,l,a,u;const c=new m1(e);for(;++n<c.length;){for(;n in t;)n=t[n];if(r=c.get(n),n&&r[1].type==="chunkFlow"&&c.get(n-1)[1].type==="listItemPrefix"&&(a=r[1]._tokenizer.events,s=0,s<a.length&&a[s][1].type==="lineEndingBlank"&&(s+=2),s<a.length&&a[s][1].type==="content"))for(;++s<a.length&&a[s][1].type!=="content";)a[s][1].type==="chunkText"&&(a[s][1]._isInFirstContentOfListItem=!0,s++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,g1(c,n)),n=t[n],u=!0);else if(r[1]._container){for(s=n,i=void 0;s--;)if(o=c.get(s),o[1].type==="lineEnding"||o[1].type==="lineEndingBlank")o[0]==="enter"&&(i&&(c.get(i)[1].type="lineEndingBlank"),o[1].type="lineEnding",i=s);else if(!(o[1].type==="linePrefix"||o[1].type==="listItemIndent"))break;i&&(r[1].end={...c.get(i)[1].start},l=c.slice(i,n),l.unshift(r),c.splice(i,n-i+1,l))}}return ot(e,0,Number.POSITIVE_INFINITY,c.slice(0)),!u}function g1(e,t){const n=e.get(t)[1],r=e.get(t)[2];let i=t-1;const s=[];let o=n._tokenizer;o||(o=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(o._contentTypeTextTrailing=!0));const l=o.events,a=[],u={};let c,h,d=-1,f=n,m=0,v=0;const S=[v];for(;f;){for(;e.get(++i)[1]!==f;);s.push(i),f._tokenizer||(c=r.sliceStream(f),f.next||c.push(null),h&&o.defineSkip(f.start),f._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(c),f._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),h=f,f=f.next}for(f=n;++d<l.length;)l[d][0]==="exit"&&l[d-1][0]==="enter"&&l[d][1].type===l[d-1][1].type&&l[d][1].start.line!==l[d][1].end.line&&(v=d+1,S.push(v),f._tokenizer=void 0,f.previous=void 0,f=f.next);for(o.events=[],f?(f._tokenizer=void 0,f.previous=void 0):S.pop(),d=S.length;d--;){const p=l.slice(S[d],S[d+1]),g=s.pop();a.push([g,g+p.length-1]),e.splice(g,2,p)}for(a.reverse(),d=-1;++d<a.length;)u[m+a[d][0]]=m+a[d][1],m+=a[d][1]-a[d][0]-1;return u}const y1={resolve:w1,tokenize:k1},v1={partial:!0,tokenize:_1};function w1(e){return lg(e),e}function k1(e,t){let n;return r;function r(l){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(l)}function i(l){return l===null?s(l):U(l)?e.check(v1,o,s)(l):(e.consume(l),i)}function s(l){return e.exit("chunkContent"),e.exit("content"),t(l)}function o(l){return e.consume(l),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function _1(e,t,n){const r=this;return i;function i(o){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),J(e,s,"linePrefix")}function s(o){if(o===null||U(o))return n(o);const l=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?t(o):e.interrupt(r.parser.constructs.flow,n,t)(o)}}function ag(e,t,n,r,i,s,o,l,a){const u=a||Number.POSITIVE_INFINITY;let c=0;return h;function h(p){return p===60?(e.enter(r),e.enter(i),e.enter(s),e.consume(p),e.exit(s),d):p===null||p===32||p===41||bo(p)?n(p):(e.enter(r),e.enter(o),e.enter(l),e.enter("chunkString",{contentType:"string"}),v(p))}function d(p){return p===62?(e.enter(s),e.consume(p),e.exit(s),e.exit(i),e.exit(r),t):(e.enter(l),e.enter("chunkString",{contentType:"string"}),f(p))}function f(p){return p===62?(e.exit("chunkString"),e.exit(l),d(p)):p===null||p===60||U(p)?n(p):(e.consume(p),p===92?m:f)}function m(p){return p===60||p===62||p===92?(e.consume(p),f):f(p)}function v(p){return!c&&(p===null||p===41||re(p))?(e.exit("chunkString"),e.exit(l),e.exit(o),e.exit(r),t(p)):c<u&&p===40?(e.consume(p),c++,v):p===41?(e.consume(p),c--,v):p===null||p===32||p===40||bo(p)?n(p):(e.consume(p),p===92?S:v)}function S(p){return p===40||p===41||p===92?(e.consume(p),v):v(p)}}function ug(e,t,n,r,i,s){const o=this;let l=0,a;return u;function u(f){return e.enter(r),e.enter(i),e.consume(f),e.exit(i),e.enter(s),c}function c(f){return l>999||f===null||f===91||f===93&&!a||f===94&&!l&&"_hiddenFootnoteSupport"in o.parser.constructs?n(f):f===93?(e.exit(s),e.enter(i),e.consume(f),e.exit(i),e.exit(r),t):U(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),c):(e.enter("chunkString",{contentType:"string"}),h(f))}function h(f){return f===null||f===91||f===93||U(f)||l++>999?(e.exit("chunkString"),c(f)):(e.consume(f),a||(a=!q(f)),f===92?d:h)}function d(f){return f===91||f===92||f===93?(e.consume(f),l++,h):h(f)}}function cg(e,t,n,r,i,s){let o;return l;function l(d){return d===34||d===39||d===40?(e.enter(r),e.enter(i),e.consume(d),e.exit(i),o=d===40?41:d,a):n(d)}function a(d){return d===o?(e.enter(i),e.consume(d),e.exit(i),e.exit(r),t):(e.enter(s),u(d))}function u(d){return d===o?(e.exit(s),a(o)):d===null?n(d):U(d)?(e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),J(e,u,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),c(d))}function c(d){return d===o||d===null||U(d)?(e.exit("chunkString"),u(d)):(e.consume(d),d===92?h:c)}function h(d){return d===o||d===92?(e.consume(d),c):c(d)}}function xi(e,t){let n;return r;function r(i){return U(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):q(i)?J(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}const x1={name:"definition",tokenize:b1},S1={partial:!0,tokenize:E1};function b1(e,t,n){const r=this;let i;return s;function s(f){return e.enter("definition"),o(f)}function o(f){return ug.call(r,e,l,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(f)}function l(f){return i=At(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),f===58?(e.enter("definitionMarker"),e.consume(f),e.exit("definitionMarker"),a):n(f)}function a(f){return re(f)?xi(e,u)(f):u(f)}function u(f){return ag(e,c,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(f)}function c(f){return e.attempt(S1,h,h)(f)}function h(f){return q(f)?J(e,d,"whitespace")(f):d(f)}function d(f){return f===null||U(f)?(e.exit("definition"),r.parser.defined.push(i),t(f)):n(f)}}function E1(e,t,n){return r;function r(l){return re(l)?xi(e,i)(l):n(l)}function i(l){return cg(e,s,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(l)}function s(l){return q(l)?J(e,o,"whitespace")(l):o(l)}function o(l){return l===null||U(l)?t(l):n(l)}}const C1={name:"hardBreakEscape",tokenize:T1};function T1(e,t,n){return r;function r(s){return e.enter("hardBreakEscape"),e.consume(s),i}function i(s){return U(s)?(e.exit("hardBreakEscape"),t(s)):n(s)}}const A1={name:"headingAtx",resolve:P1,tokenize:R1};function P1(e,t){let n=e.length-2,r=3,i,s;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},s={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},ot(e,r,n-r+1,[["enter",i,t],["enter",s,t],["exit",s,t],["exit",i,t]])),e}function R1(e,t,n){let r=0;return i;function i(c){return e.enter("atxHeading"),s(c)}function s(c){return e.enter("atxHeadingSequence"),o(c)}function o(c){return c===35&&r++<6?(e.consume(c),o):c===null||re(c)?(e.exit("atxHeadingSequence"),l(c)):n(c)}function l(c){return c===35?(e.enter("atxHeadingSequence"),a(c)):c===null||U(c)?(e.exit("atxHeading"),t(c)):q(c)?J(e,l,"whitespace")(c):(e.enter("atxHeadingText"),u(c))}function a(c){return c===35?(e.consume(c),a):(e.exit("atxHeadingSequence"),l(c))}function u(c){return c===null||c===35||re(c)?(e.exit("atxHeadingText"),l(c)):(e.consume(c),u)}}const O1=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Id=["pre","script","style","textarea"],I1={concrete:!0,name:"htmlFlow",resolveTo:L1,tokenize:D1},j1={partial:!0,tokenize:$1},N1={partial:!0,tokenize:z1};function L1(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function D1(e,t,n){const r=this;let i,s,o,l,a;return u;function u(k){return c(k)}function c(k){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(k),h}function h(k){return k===33?(e.consume(k),d):k===47?(e.consume(k),s=!0,v):k===63?(e.consume(k),i=3,r.interrupt?t:w):Be(k)?(e.consume(k),o=String.fromCharCode(k),S):n(k)}function d(k){return k===45?(e.consume(k),i=2,f):k===91?(e.consume(k),i=5,l=0,m):Be(k)?(e.consume(k),i=4,r.interrupt?t:w):n(k)}function f(k){return k===45?(e.consume(k),r.interrupt?t:w):n(k)}function m(k){const Se="CDATA[";return k===Se.charCodeAt(l++)?(e.consume(k),l===Se.length?r.interrupt?t:z:m):n(k)}function v(k){return Be(k)?(e.consume(k),o=String.fromCharCode(k),S):n(k)}function S(k){if(k===null||k===47||k===62||re(k)){const Se=k===47,yt=o.toLowerCase();return!Se&&!s&&Id.includes(yt)?(i=1,r.interrupt?t(k):z(k)):O1.includes(o.toLowerCase())?(i=6,Se?(e.consume(k),p):r.interrupt?t(k):z(k)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(k):s?g(k):y(k))}return k===45||ze(k)?(e.consume(k),o+=String.fromCharCode(k),S):n(k)}function p(k){return k===62?(e.consume(k),r.interrupt?t:z):n(k)}function g(k){return q(k)?(e.consume(k),g):E(k)}function y(k){return k===47?(e.consume(k),E):k===58||k===95||Be(k)?(e.consume(k),b):q(k)?(e.consume(k),y):E(k)}function b(k){return k===45||k===46||k===58||k===95||ze(k)?(e.consume(k),b):C(k)}function C(k){return k===61?(e.consume(k),_):q(k)?(e.consume(k),C):y(k)}function _(k){return k===null||k===60||k===61||k===62||k===96?n(k):k===34||k===39?(e.consume(k),a=k,A):q(k)?(e.consume(k),_):O(k)}function A(k){return k===a?(e.consume(k),a=null,D):k===null||U(k)?n(k):(e.consume(k),A)}function O(k){return k===null||k===34||k===39||k===47||k===60||k===61||k===62||k===96||re(k)?C(k):(e.consume(k),O)}function D(k){return k===47||k===62||q(k)?y(k):n(k)}function E(k){return k===62?(e.consume(k),N):n(k)}function N(k){return k===null||U(k)?z(k):q(k)?(e.consume(k),N):n(k)}function z(k){return k===45&&i===2?(e.consume(k),we):k===60&&i===1?(e.consume(k),ye):k===62&&i===4?(e.consume(k),Y):k===63&&i===3?(e.consume(k),w):k===93&&i===5?(e.consume(k),F):U(k)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(j1,ee,Q)(k)):k===null||U(k)?(e.exit("htmlFlowData"),Q(k)):(e.consume(k),z)}function Q(k){return e.check(N1,ie,ee)(k)}function ie(k){return e.enter("lineEnding"),e.consume(k),e.exit("lineEnding"),K}function K(k){return k===null||U(k)?Q(k):(e.enter("htmlFlowData"),z(k))}function we(k){return k===45?(e.consume(k),w):z(k)}function ye(k){return k===47?(e.consume(k),o="",j):z(k)}function j(k){if(k===62){const Se=o.toLowerCase();return Id.includes(Se)?(e.consume(k),Y):z(k)}return Be(k)&&o.length<8?(e.consume(k),o+=String.fromCharCode(k),j):z(k)}function F(k){return k===93?(e.consume(k),w):z(k)}function w(k){return k===62?(e.consume(k),Y):k===45&&i===2?(e.consume(k),w):z(k)}function Y(k){return k===null||U(k)?(e.exit("htmlFlowData"),ee(k)):(e.consume(k),Y)}function ee(k){return e.exit("htmlFlow"),t(k)}}function z1(e,t,n){const r=this;return i;function i(o){return U(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),s):n(o)}function s(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}function $1(e,t,n){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(is,t,n)}}const U1={name:"htmlText",tokenize:F1};function F1(e,t,n){const r=this;let i,s,o;return l;function l(w){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(w),a}function a(w){return w===33?(e.consume(w),u):w===47?(e.consume(w),C):w===63?(e.consume(w),y):Be(w)?(e.consume(w),O):n(w)}function u(w){return w===45?(e.consume(w),c):w===91?(e.consume(w),s=0,m):Be(w)?(e.consume(w),g):n(w)}function c(w){return w===45?(e.consume(w),f):n(w)}function h(w){return w===null?n(w):w===45?(e.consume(w),d):U(w)?(o=h,ye(w)):(e.consume(w),h)}function d(w){return w===45?(e.consume(w),f):h(w)}function f(w){return w===62?we(w):w===45?d(w):h(w)}function m(w){const Y="CDATA[";return w===Y.charCodeAt(s++)?(e.consume(w),s===Y.length?v:m):n(w)}function v(w){return w===null?n(w):w===93?(e.consume(w),S):U(w)?(o=v,ye(w)):(e.consume(w),v)}function S(w){return w===93?(e.consume(w),p):v(w)}function p(w){return w===62?we(w):w===93?(e.consume(w),p):v(w)}function g(w){return w===null||w===62?we(w):U(w)?(o=g,ye(w)):(e.consume(w),g)}function y(w){return w===null?n(w):w===63?(e.consume(w),b):U(w)?(o=y,ye(w)):(e.consume(w),y)}function b(w){return w===62?we(w):y(w)}function C(w){return Be(w)?(e.consume(w),_):n(w)}function _(w){return w===45||ze(w)?(e.consume(w),_):A(w)}function A(w){return U(w)?(o=A,ye(w)):q(w)?(e.consume(w),A):we(w)}function O(w){return w===45||ze(w)?(e.consume(w),O):w===47||w===62||re(w)?D(w):n(w)}function D(w){return w===47?(e.consume(w),we):w===58||w===95||Be(w)?(e.consume(w),E):U(w)?(o=D,ye(w)):q(w)?(e.consume(w),D):we(w)}function E(w){return w===45||w===46||w===58||w===95||ze(w)?(e.consume(w),E):N(w)}function N(w){return w===61?(e.consume(w),z):U(w)?(o=N,ye(w)):q(w)?(e.consume(w),N):D(w)}function z(w){return w===null||w===60||w===61||w===62||w===96?n(w):w===34||w===39?(e.consume(w),i=w,Q):U(w)?(o=z,ye(w)):q(w)?(e.consume(w),z):(e.consume(w),ie)}function Q(w){return w===i?(e.consume(w),i=void 0,K):w===null?n(w):U(w)?(o=Q,ye(w)):(e.consume(w),Q)}function ie(w){return w===null||w===34||w===39||w===60||w===61||w===96?n(w):w===47||w===62||re(w)?D(w):(e.consume(w),ie)}function K(w){return w===47||w===62||re(w)?D(w):n(w)}function we(w){return w===62?(e.consume(w),e.exit("htmlTextData"),e.exit("htmlText"),t):n(w)}function ye(w){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(w),e.exit("lineEnding"),j}function j(w){return q(w)?J(e,F,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(w):F(w)}function F(w){return e.enter("htmlTextData"),o(w)}}const yc={name:"labelEnd",resolveAll:H1,resolveTo:q1,tokenize:W1},M1={tokenize:K1},B1={tokenize:G1},V1={tokenize:J1};function H1(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",t+=i}}return e.length!==n.length&&ot(e,0,e.length,n),e}function q1(e,t){let n=e.length,r=0,i,s,o,l;for(;n--;)if(i=e[n][1],s){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(o){if(e[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(s=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(o=n);const a={type:e[s][1].type==="labelLink"?"link":"image",start:{...e[s][1].start},end:{...e[e.length-1][1].end}},u={type:"label",start:{...e[s][1].start},end:{...e[o][1].end}},c={type:"labelText",start:{...e[s+r+2][1].end},end:{...e[o-2][1].start}};return l=[["enter",a,t],["enter",u,t]],l=dt(l,e.slice(s+1,s+r+3)),l=dt(l,[["enter",c,t]]),l=dt(l,Qo(t.parser.constructs.insideSpan.null,e.slice(s+r+4,o-3),t)),l=dt(l,[["exit",c,t],e[o-2],e[o-1],["exit",u,t]]),l=dt(l,e.slice(o+1)),l=dt(l,[["exit",a,t]]),ot(e,s,e.length,l),e}function W1(e,t,n){const r=this;let i=r.events.length,s,o;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){s=r.events[i][1];break}return l;function l(d){return s?s._inactive?h(d):(o=r.parser.defined.includes(At(r.sliceSerialize({start:s.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(d),e.exit("labelMarker"),e.exit("labelEnd"),a):n(d)}function a(d){return d===40?e.attempt(M1,c,o?c:h)(d):d===91?e.attempt(B1,c,o?u:h)(d):o?c(d):h(d)}function u(d){return e.attempt(V1,c,h)(d)}function c(d){return t(d)}function h(d){return s._balanced=!0,n(d)}}function K1(e,t,n){return r;function r(h){return e.enter("resource"),e.enter("resourceMarker"),e.consume(h),e.exit("resourceMarker"),i}function i(h){return re(h)?xi(e,s)(h):s(h)}function s(h){return h===41?c(h):ag(e,o,l,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(h)}function o(h){return re(h)?xi(e,a)(h):c(h)}function l(h){return n(h)}function a(h){return h===34||h===39||h===40?cg(e,u,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(h):c(h)}function u(h){return re(h)?xi(e,c)(h):c(h)}function c(h){return h===41?(e.enter("resourceMarker"),e.consume(h),e.exit("resourceMarker"),e.exit("resource"),t):n(h)}}function G1(e,t,n){const r=this;return i;function i(l){return ug.call(r,e,s,o,"reference","referenceMarker","referenceString")(l)}function s(l){return r.parser.defined.includes(At(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(l):n(l)}function o(l){return n(l)}}function J1(e,t,n){return r;function r(s){return e.enter("reference"),e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),i}function i(s){return s===93?(e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),e.exit("reference"),t):n(s)}}const Q1={name:"labelStartImage",resolveAll:yc.resolveAll,tokenize:Y1};function Y1(e,t,n){const r=this;return i;function i(l){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(l),e.exit("labelImageMarker"),s}function s(l){return l===91?(e.enter("labelMarker"),e.consume(l),e.exit("labelMarker"),e.exit("labelImage"),o):n(l)}function o(l){return l===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(l):t(l)}}const X1={name:"labelStartLink",resolveAll:yc.resolveAll,tokenize:Z1};function Z1(e,t,n){const r=this;return i;function i(o){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelLink"),s}function s(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):t(o)}}const Dl={name:"lineEnding",tokenize:eS};function eS(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),J(e,t,"linePrefix")}}const Ks={name:"thematicBreak",tokenize:tS};function tS(e,t,n){let r=0,i;return s;function s(u){return e.enter("thematicBreak"),o(u)}function o(u){return i=u,l(u)}function l(u){return u===i?(e.enter("thematicBreakSequence"),a(u)):r>=3&&(u===null||U(u))?(e.exit("thematicBreak"),t(u)):n(u)}function a(u){return u===i?(e.consume(u),r++,a):(e.exit("thematicBreakSequence"),q(u)?J(e,l,"whitespace")(u):l(u))}}const We={continuation:{tokenize:sS},exit:lS,name:"list",tokenize:iS},nS={partial:!0,tokenize:aS},rS={partial:!0,tokenize:oS};function iS(e,t,n){const r=this,i=r.events[r.events.length-1];let s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,o=0;return l;function l(f){const m=r.containerState.type||(f===42||f===43||f===45?"listUnordered":"listOrdered");if(m==="listUnordered"?!r.containerState.marker||f===r.containerState.marker:ru(f)){if(r.containerState.type||(r.containerState.type=m,e.enter(m,{_container:!0})),m==="listUnordered")return e.enter("listItemPrefix"),f===42||f===45?e.check(Ks,n,u)(f):u(f);if(!r.interrupt||f===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),a(f)}return n(f)}function a(f){return ru(f)&&++o<10?(e.consume(f),a):(!r.interrupt||o<2)&&(r.containerState.marker?f===r.containerState.marker:f===41||f===46)?(e.exit("listItemValue"),u(f)):n(f)}function u(f){return e.enter("listItemMarker"),e.consume(f),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||f,e.check(is,r.interrupt?n:c,e.attempt(nS,d,h))}function c(f){return r.containerState.initialBlankLine=!0,s++,d(f)}function h(f){return q(f)?(e.enter("listItemPrefixWhitespace"),e.consume(f),e.exit("listItemPrefixWhitespace"),d):n(f)}function d(f){return r.containerState.size=s+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(f)}}function sS(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(is,i,s);function i(l){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,J(e,t,"listItemIndent",r.containerState.size+1)(l)}function s(l){return r.containerState.furtherBlankLines||!q(l)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(l)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(rS,t,o)(l))}function o(l){return r.containerState._closeFlow=!0,r.interrupt=void 0,J(e,e.attempt(We,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l)}}function oS(e,t,n){const r=this;return J(e,i,"listItemIndent",r.containerState.size+1);function i(s){const o=r.events[r.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?t(s):n(s)}}function lS(e){e.exit(this.containerState.type)}function aS(e,t,n){const r=this;return J(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(s){const o=r.events[r.events.length-1];return!q(s)&&o&&o[1].type==="listItemPrefixWhitespace"?t(s):n(s)}}const jd={name:"setextUnderline",resolveTo:uS,tokenize:cS};function uS(e,t){let n=e.length,r,i,s;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(i=n)}else e[n][1].type==="content"&&e.splice(n,1),!s&&e[n][1].type==="definition"&&(s=n);const o={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[i][1].type="setextHeadingText",s?(e.splice(i,0,["enter",o,t]),e.splice(s+1,0,["exit",e[r][1],t]),e[r][1].end={...e[s][1].end}):e[r][1]=o,e.push(["exit",o,t]),e}function cS(e,t,n){const r=this;let i;return s;function s(u){let c=r.events.length,h;for(;c--;)if(r.events[c][1].type!=="lineEnding"&&r.events[c][1].type!=="linePrefix"&&r.events[c][1].type!=="content"){h=r.events[c][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||h)?(e.enter("setextHeadingLine"),i=u,o(u)):n(u)}function o(u){return e.enter("setextHeadingLineSequence"),l(u)}function l(u){return u===i?(e.consume(u),l):(e.exit("setextHeadingLineSequence"),q(u)?J(e,a,"lineSuffix")(u):a(u))}function a(u){return u===null||U(u)?(e.exit("setextHeadingLine"),t(u)):n(u)}}const hS={tokenize:dS};function dS(e){const t=this,n=e.attempt(is,r,e.attempt(this.parser.constructs.flowInitial,i,J(e,e.attempt(this.parser.constructs.flow,i,e.attempt(y1,i)),"linePrefix")));return n;function r(s){if(s===null){e.consume(s);return}return e.enter("lineEndingBlank"),e.consume(s),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function i(s){if(s===null){e.consume(s);return}return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const fS={resolveAll:dg()},pS=hg("string"),mS=hg("text");function hg(e){return{resolveAll:dg(e==="text"?gS:void 0),tokenize:t};function t(n){const r=this,i=this.parser.constructs[e],s=n.attempt(i,o,l);return o;function o(c){return u(c)?s(c):l(c)}function l(c){if(c===null){n.consume(c);return}return n.enter("data"),n.consume(c),a}function a(c){return u(c)?(n.exit("data"),s(c)):(n.consume(c),a)}function u(c){if(c===null)return!0;const h=i[c];let d=-1;if(h)for(;++d<h.length;){const f=h[d];if(!f.previous||f.previous.call(r,r.previous))return!0}return!1}}}function dg(e){return t;function t(n,r){let i=-1,s;for(;++i<=n.length;)s===void 0?n[i]&&n[i][1].type==="data"&&(s=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==s+2&&(n[s][1].end=n[i-1][1].end,n.splice(s+2,i-s-2),i=s+2),s=void 0);return e?e(n,r):n}}function gS(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],i=t.sliceStream(r);let s=i.length,o=-1,l=0,a;for(;s--;){const u=i[s];if(typeof u=="string"){for(o=u.length;u.charCodeAt(o-1)===32;)l++,o--;if(o)break;o=-1}else if(u===-2)a=!0,l++;else if(u!==-1){s++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(l=0),l){const u={type:n===e.length||a||l<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:s?o:r.start._bufferIndex+o,_index:r.start._index+s,line:r.end.line,column:r.end.column-l,offset:r.end.offset-l},end:{...r.end}};r.end={...u.start},r.start.offset===r.end.offset?Object.assign(r,u):(e.splice(n,0,["enter",u,t],["exit",u,t]),n+=2)}n++}return e}const yS={42:We,43:We,45:We,48:We,49:We,50:We,51:We,52:We,53:We,54:We,55:We,56:We,57:We,62:ig},vS={91:x1},wS={[-2]:Ll,[-1]:Ll,32:Ll},kS={35:A1,42:Ks,45:[jd,Ks],60:I1,61:jd,95:Ks,96:Od,126:Od},_S={38:og,92:sg},xS={[-5]:Dl,[-4]:Dl,[-3]:Dl,33:Q1,38:og,42:iu,60:[Xx,U1],91:X1,92:[C1,sg],93:yc,95:iu,96:h1},SS={null:[iu,fS]},bS={null:[42,95]},ES={null:[]},CS=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:bS,contentInitial:vS,disable:ES,document:yS,flow:kS,flowInitial:wS,insideSpan:SS,string:_S,text:xS},Symbol.toStringTag,{value:"Module"}));function TS(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},s=[];let o=[],l=[];const a={attempt:A(C),check:A(_),consume:g,enter:y,exit:b,interrupt:A(_,{interrupt:!0})},u={code:null,containerState:{},defineSkip:v,events:[],now:m,parser:e,previous:null,sliceSerialize:d,sliceStream:f,write:h};let c=t.tokenize.call(u,a);return t.resolveAll&&s.push(t),u;function h(N){return o=dt(o,N),S(),o[o.length-1]!==null?[]:(O(t,0),u.events=Qo(s,u.events,u),u.events)}function d(N,z){return PS(f(N),z)}function f(N){return AS(o,N)}function m(){const{_bufferIndex:N,_index:z,line:Q,column:ie,offset:K}=r;return{_bufferIndex:N,_index:z,line:Q,column:ie,offset:K}}function v(N){i[N.line]=N.column,E()}function S(){let N;for(;r._index<o.length;){const z=o[r._index];if(typeof z=="string")for(N=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===N&&r._bufferIndex<z.length;)p(z.charCodeAt(r._bufferIndex));else p(z)}}function p(N){c=c(N)}function g(N){U(N)?(r.line++,r.column=1,r.offset+=N===-3?2:1,E()):N!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),u.previous=N}function y(N,z){const Q=z||{};return Q.type=N,Q.start=m(),u.events.push(["enter",Q,u]),l.push(Q),Q}function b(N){const z=l.pop();return z.end=m(),u.events.push(["exit",z,u]),z}function C(N,z){O(N,z.from)}function _(N,z){z.restore()}function A(N,z){return Q;function Q(ie,K,we){let ye,j,F,w;return Array.isArray(ie)?ee(ie):"tokenize"in ie?ee([ie]):Y(ie);function Y(ae){return Rt;function Rt(en){const Yn=en!==null&&ae[en],Xn=en!==null&&ae.null,os=[...Array.isArray(Yn)?Yn:Yn?[Yn]:[],...Array.isArray(Xn)?Xn:Xn?[Xn]:[]];return ee(os)(en)}}function ee(ae){return ye=ae,j=0,ae.length===0?we:k(ae[j])}function k(ae){return Rt;function Rt(en){return w=D(),F=ae,ae.partial||(u.currentConstruct=ae),ae.name&&u.parser.constructs.disable.null.includes(ae.name)?yt():ae.tokenize.call(z?Object.assign(Object.create(u),z):u,a,Se,yt)(en)}}function Se(ae){return N(F,w),K}function yt(ae){return w.restore(),++j<ye.length?k(ye[j]):we}}}function O(N,z){N.resolveAll&&!s.includes(N)&&s.push(N),N.resolve&&ot(u.events,z,u.events.length-z,N.resolve(u.events.slice(z),u)),N.resolveTo&&(u.events=N.resolveTo(u.events,u))}function D(){const N=m(),z=u.previous,Q=u.currentConstruct,ie=u.events.length,K=Array.from(l);return{from:ie,restore:we};function we(){r=N,u.previous=z,u.currentConstruct=Q,u.events.length=ie,l=K,E()}}function E(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function AS(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,s=t.end._bufferIndex;let o;if(n===i)o=[e[n].slice(r,s)];else{if(o=e.slice(n,i),r>-1){const l=o[0];typeof l=="string"?o[0]=l.slice(r):o.shift()}s>0&&o.push(e[i].slice(0,s))}return o}function PS(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const s=e[n];let o;if(typeof s=="string")o=s;else switch(s){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=t?" ":"	";break}case-1:{if(!t&&i)continue;o=" ";break}default:o=String.fromCharCode(s)}i=s===-2,r.push(o)}return r.join("")}function RS(e){const r={constructs:ng([CS,...(e||{}).extensions||[]]),content:i(qx),defined:[],document:i(Kx),flow:i(hS),lazy:{},string:i(pS),text:i(mS)};return r;function i(s){return o;function o(l){return TS(r,s,l)}}}function OS(e){for(;!lg(e););return e}const Nd=/[\0\t\n\r]/g;function IS(){let e=1,t="",n=!0,r;return i;function i(s,o,l){const a=[];let u,c,h,d,f;for(s=t+(typeof s=="string"?s.toString():new TextDecoder(o||void 0).decode(s)),h=0,t="",n&&(s.charCodeAt(0)===65279&&h++,n=void 0);h<s.length;){if(Nd.lastIndex=h,u=Nd.exec(s),d=u&&u.index!==void 0?u.index:s.length,f=s.charCodeAt(d),!u){t=s.slice(h);break}if(f===10&&h===d&&r)a.push(-3),r=void 0;else switch(r&&(a.push(-5),r=void 0),h<d&&(a.push(s.slice(h,d)),e+=d-h),f){case 0:{a.push(65533),e++;break}case 9:{for(c=Math.ceil(e/4)*4,a.push(-2);e++<c;)a.push(-1);break}case 10:{a.push(-4),e=1;break}default:r=!0,e=1}h=d+1}return l&&(r&&a.push(-5),t&&a.push(t),a.push(null)),a}}const jS=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function NS(e){return e.replace(jS,LS)}function LS(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),s=i===120||i===88;return rg(n.slice(s?2:1),s?16:10)}return gc(n)||e}const fg={}.hasOwnProperty;function DS(e,t,n){return t&&typeof t=="object"&&(n=t,t=void 0),zS(n)(OS(RS(n).document().write(IS()(e,t,!0))))}function zS(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(Rc),autolinkProtocol:D,autolinkEmail:D,atxHeading:s(Tc),blockQuote:s(Xn),characterEscape:D,characterReference:D,codeFenced:s(os),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:s(os,o),codeText:s(Kg,o),codeTextData:D,data:D,codeFlowValue:D,definition:s(Gg),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:s(Jg),hardBreakEscape:s(Ac),hardBreakTrailing:s(Ac),htmlFlow:s(Pc,o),htmlFlowData:D,htmlText:s(Pc,o),htmlTextData:D,image:s(Qg),label:o,link:s(Rc),listItem:s(Yg),listItemValue:d,listOrdered:s(Oc,h),listUnordered:s(Oc),paragraph:s(Xg),reference:k,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:s(Tc),strong:s(Zg),thematicBreak:s(ty)},exit:{atxHeading:a(),atxHeadingSequence:C,autolink:a(),autolinkEmail:Yn,autolinkProtocol:en,blockQuote:a(),characterEscapeValue:E,characterReferenceMarkerHexadecimal:yt,characterReferenceMarkerNumeric:yt,characterReferenceValue:ae,characterReference:Rt,codeFenced:a(S),codeFencedFence:v,codeFencedFenceInfo:f,codeFencedFenceMeta:m,codeFlowValue:E,codeIndented:a(p),codeText:a(K),codeTextData:E,data:E,definition:a(),definitionDestinationString:b,definitionLabelString:g,definitionTitleString:y,emphasis:a(),hardBreakEscape:a(z),hardBreakTrailing:a(z),htmlFlow:a(Q),htmlFlowData:E,htmlText:a(ie),htmlTextData:E,image:a(ye),label:F,labelText:j,lineEnding:N,link:a(we),listItem:a(),listOrdered:a(),listUnordered:a(),paragraph:a(),referenceString:Se,resourceDestinationString:w,resourceTitleString:Y,resource:ee,setextHeading:a(O),setextHeadingLineSequence:A,setextHeadingText:_,strong:a(),thematicBreak:a()}};pg(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(T){let I={type:"root",children:[]};const V={stack:[I],tokenStack:[],config:t,enter:l,exit:u,buffer:o,resume:c,data:n},G=[];let ne=-1;for(;++ne<T.length;)if(T[ne][1].type==="listOrdered"||T[ne][1].type==="listUnordered")if(T[ne][0]==="enter")G.push(ne);else{const vt=G.pop();ne=i(T,vt,ne)}for(ne=-1;++ne<T.length;){const vt=t[T[ne][0]];fg.call(vt,T[ne][1].type)&&vt[T[ne][1].type].call(Object.assign({sliceSerialize:T[ne][2].sliceSerialize},V),T[ne][1])}if(V.tokenStack.length>0){const vt=V.tokenStack[V.tokenStack.length-1];(vt[1]||Ld).call(V,void 0,vt[0])}for(I.position={start:nn(T.length>0?T[0][1].start:{line:1,column:1,offset:0}),end:nn(T.length>0?T[T.length-2][1].end:{line:1,column:1,offset:0})},ne=-1;++ne<t.transforms.length;)I=t.transforms[ne](I)||I;return I}function i(T,I,V){let G=I-1,ne=-1,vt=!1,Cn,$t,Wr,Kr;for(;++G<=V;){const Ze=T[G];switch(Ze[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Ze[0]==="enter"?ne++:ne--,Kr=void 0;break}case"lineEndingBlank":{Ze[0]==="enter"&&(Cn&&!Kr&&!ne&&!Wr&&(Wr=G),Kr=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Kr=void 0}if(!ne&&Ze[0]==="enter"&&Ze[1].type==="listItemPrefix"||ne===-1&&Ze[0]==="exit"&&(Ze[1].type==="listUnordered"||Ze[1].type==="listOrdered")){if(Cn){let Zn=G;for($t=void 0;Zn--;){const Ut=T[Zn];if(Ut[1].type==="lineEnding"||Ut[1].type==="lineEndingBlank"){if(Ut[0]==="exit")continue;$t&&(T[$t][1].type="lineEndingBlank",vt=!0),Ut[1].type="lineEnding",$t=Zn}else if(!(Ut[1].type==="linePrefix"||Ut[1].type==="blockQuotePrefix"||Ut[1].type==="blockQuotePrefixWhitespace"||Ut[1].type==="blockQuoteMarker"||Ut[1].type==="listItemIndent"))break}Wr&&(!$t||Wr<$t)&&(Cn._spread=!0),Cn.end=Object.assign({},$t?T[$t][1].start:Ze[1].end),T.splice($t||G,0,["exit",Cn,Ze[2]]),G++,V++}if(Ze[1].type==="listItemPrefix"){const Zn={type:"listItem",_spread:!1,start:Object.assign({},Ze[1].start),end:void 0};Cn=Zn,T.splice(G,0,["enter",Zn,Ze[2]]),G++,V++,Wr=void 0,Kr=!0}}}return T[I][1]._spread=vt,V}function s(T,I){return V;function V(G){l.call(this,T(G),G),I&&I.call(this,G)}}function o(){this.stack.push({type:"fragment",children:[]})}function l(T,I,V){this.stack[this.stack.length-1].children.push(T),this.stack.push(T),this.tokenStack.push([I,V||void 0]),T.position={start:nn(I.start),end:void 0}}function a(T){return I;function I(V){T&&T.call(this,V),u.call(this,V)}}function u(T,I){const V=this.stack.pop(),G=this.tokenStack.pop();if(G)G[0].type!==T.type&&(I?I.call(this,T,G[0]):(G[1]||Ld).call(this,T,G[0]));else throw new Error("Cannot close `"+T.type+"` ("+_i({start:T.start,end:T.end})+"): its not open");V.position.end=nn(T.end)}function c(){return mc(this.stack.pop())}function h(){this.data.expectingFirstListItemValue=!0}function d(T){if(this.data.expectingFirstListItemValue){const I=this.stack[this.stack.length-2];I.start=Number.parseInt(this.sliceSerialize(T),10),this.data.expectingFirstListItemValue=void 0}}function f(){const T=this.resume(),I=this.stack[this.stack.length-1];I.lang=T}function m(){const T=this.resume(),I=this.stack[this.stack.length-1];I.meta=T}function v(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function S(){const T=this.resume(),I=this.stack[this.stack.length-1];I.value=T.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function p(){const T=this.resume(),I=this.stack[this.stack.length-1];I.value=T.replace(/(\r?\n|\r)$/g,"")}function g(T){const I=this.resume(),V=this.stack[this.stack.length-1];V.label=I,V.identifier=At(this.sliceSerialize(T)).toLowerCase()}function y(){const T=this.resume(),I=this.stack[this.stack.length-1];I.title=T}function b(){const T=this.resume(),I=this.stack[this.stack.length-1];I.url=T}function C(T){const I=this.stack[this.stack.length-1];if(!I.depth){const V=this.sliceSerialize(T).length;I.depth=V}}function _(){this.data.setextHeadingSlurpLineEnding=!0}function A(T){const I=this.stack[this.stack.length-1];I.depth=this.sliceSerialize(T).codePointAt(0)===61?1:2}function O(){this.data.setextHeadingSlurpLineEnding=void 0}function D(T){const V=this.stack[this.stack.length-1].children;let G=V[V.length-1];(!G||G.type!=="text")&&(G=ey(),G.position={start:nn(T.start),end:void 0},V.push(G)),this.stack.push(G)}function E(T){const I=this.stack.pop();I.value+=this.sliceSerialize(T),I.position.end=nn(T.end)}function N(T){const I=this.stack[this.stack.length-1];if(this.data.atHardBreak){const V=I.children[I.children.length-1];V.position.end=nn(T.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(I.type)&&(D.call(this,T),E.call(this,T))}function z(){this.data.atHardBreak=!0}function Q(){const T=this.resume(),I=this.stack[this.stack.length-1];I.value=T}function ie(){const T=this.resume(),I=this.stack[this.stack.length-1];I.value=T}function K(){const T=this.resume(),I=this.stack[this.stack.length-1];I.value=T}function we(){const T=this.stack[this.stack.length-1];if(this.data.inReference){const I=this.data.referenceType||"shortcut";T.type+="Reference",T.referenceType=I,delete T.url,delete T.title}else delete T.identifier,delete T.label;this.data.referenceType=void 0}function ye(){const T=this.stack[this.stack.length-1];if(this.data.inReference){const I=this.data.referenceType||"shortcut";T.type+="Reference",T.referenceType=I,delete T.url,delete T.title}else delete T.identifier,delete T.label;this.data.referenceType=void 0}function j(T){const I=this.sliceSerialize(T),V=this.stack[this.stack.length-2];V.label=NS(I),V.identifier=At(I).toLowerCase()}function F(){const T=this.stack[this.stack.length-1],I=this.resume(),V=this.stack[this.stack.length-1];if(this.data.inReference=!0,V.type==="link"){const G=T.children;V.children=G}else V.alt=I}function w(){const T=this.resume(),I=this.stack[this.stack.length-1];I.url=T}function Y(){const T=this.resume(),I=this.stack[this.stack.length-1];I.title=T}function ee(){this.data.inReference=void 0}function k(){this.data.referenceType="collapsed"}function Se(T){const I=this.resume(),V=this.stack[this.stack.length-1];V.label=I,V.identifier=At(this.sliceSerialize(T)).toLowerCase(),this.data.referenceType="full"}function yt(T){this.data.characterReferenceType=T.type}function ae(T){const I=this.sliceSerialize(T),V=this.data.characterReferenceType;let G;V?(G=rg(I,V==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):G=gc(I);const ne=this.stack[this.stack.length-1];ne.value+=G}function Rt(T){const I=this.stack.pop();I.position.end=nn(T.end)}function en(T){E.call(this,T);const I=this.stack[this.stack.length-1];I.url=this.sliceSerialize(T)}function Yn(T){E.call(this,T);const I=this.stack[this.stack.length-1];I.url="mailto:"+this.sliceSerialize(T)}function Xn(){return{type:"blockquote",children:[]}}function os(){return{type:"code",lang:null,meta:null,value:""}}function Kg(){return{type:"inlineCode",value:""}}function Gg(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Jg(){return{type:"emphasis",children:[]}}function Tc(){return{type:"heading",depth:0,children:[]}}function Ac(){return{type:"break"}}function Pc(){return{type:"html",value:""}}function Qg(){return{type:"image",title:null,url:"",alt:null}}function Rc(){return{type:"link",title:null,url:"",children:[]}}function Oc(T){return{type:"list",ordered:T.type==="listOrdered",start:null,spread:T._spread,children:[]}}function Yg(T){return{type:"listItem",spread:T._spread,checked:null,children:[]}}function Xg(){return{type:"paragraph",children:[]}}function Zg(){return{type:"strong",children:[]}}function ey(){return{type:"text",value:""}}function ty(){return{type:"thematicBreak"}}}function nn(e){return{line:e.line,column:e.column,offset:e.offset}}function pg(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?pg(e,r):$S(e,r)}}function $S(e,t){let n;for(n in t)if(fg.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function Ld(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+_i({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+_i({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+_i({start:t.start,end:t.end})+") is still open")}function US(e){const t=this;t.parser=n;function n(r){return DS(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function FS(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function MS(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function BS(e,t){const n=t.value?t.value+`
`:"",r={},i=t.lang?t.lang.split(/\s+/):[];i.length>0&&(r.className=["language-"+i[0]]);let s={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(s.data={meta:t.meta}),e.patch(t,s),s=e.applyData(t,s),s={type:"element",tagName:"pre",properties:{},children:[s]},e.patch(t,s),s}function VS(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function HS(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function qS(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),i=qr(r.toLowerCase()),s=e.footnoteOrder.indexOf(r);let o,l=e.footnoteCounts.get(r);l===void 0?(l=0,e.footnoteOrder.push(r),o=e.footnoteOrder.length):o=s+1,l+=1,e.footnoteCounts.set(r,l);const a={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(l>1?"-"+l:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};e.patch(t,a);const u={type:"element",tagName:"sup",properties:{},children:[a]};return e.patch(t,u),e.applyData(t,u)}function WS(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function KS(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function mg(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const i=e.all(t),s=i[0];s&&s.type==="text"?s.value="["+s.value:i.unshift({type:"text",value:"["});const o=i[i.length-1];return o&&o.type==="text"?o.value+=r:i.push({type:"text",value:r}),i}function GS(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return mg(e,t);const i={src:qr(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,s),e.applyData(t,s)}function JS(e,t){const n={src:qr(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function QS(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function YS(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return mg(e,t);const i={href:qr(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,s),e.applyData(t,s)}function XS(e,t){const n={href:qr(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function ZS(e,t,n){const r=e.all(t),i=n?eb(n):gg(t),s={},o=[];if(typeof t.checked=="boolean"){const c=r[0];let h;c&&c.type==="element"&&c.tagName==="p"?h=c:(h={type:"element",tagName:"p",properties:{},children:[]},r.unshift(h)),h.children.length>0&&h.children.unshift({type:"text",value:" "}),h.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let l=-1;for(;++l<r.length;){const c=r[l];(i||l!==0||c.type!=="element"||c.tagName!=="p")&&o.push({type:"text",value:`
`}),c.type==="element"&&c.tagName==="p"&&!i?o.push(...c.children):o.push(c)}const a=r[r.length-1];a&&(i||a.type!=="element"||a.tagName!=="p")&&o.push({type:"text",value:`
`});const u={type:"element",tagName:"li",properties:s,children:o};return e.patch(t,u),e.applyData(t,u)}function eb(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=gg(n[r])}return t}function gg(e){const t=e.spread;return t??e.children.length>1}function tb(e,t){const n={},r=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++i<r.length;){const o=r[i];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const s={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,s),e.applyData(t,s)}function nb(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function rb(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function ib(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function sb(e,t){const n=e.all(t),r=n.shift(),i=[];if(r){const o={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],o),i.push(o)}if(n.length>0){const o={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},l=hc(t.children[1]),a=Jm(t.children[t.children.length-1]);l&&a&&(o.position={start:l,end:a}),i.push(o)}const s={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,s),e.applyData(t,s)}function ob(e,t,n){const r=n?n.children:void 0,s=(r?r.indexOf(t):1)===0?"th":"td",o=n&&n.type==="table"?n.align:void 0,l=o?o.length:t.children.length;let a=-1;const u=[];for(;++a<l;){const h=t.children[a],d={},f=o?o[a]:void 0;f&&(d.align=f);let m={type:"element",tagName:s,properties:d,children:[]};h&&(m.children=e.all(h),e.patch(h,m),m=e.applyData(h,m)),u.push(m)}const c={type:"element",tagName:"tr",properties:{},children:e.wrap(u,!0)};return e.patch(t,c),e.applyData(t,c)}function lb(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const Dd=9,zd=32;function ab(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),i=0;const s=[];for(;r;)s.push($d(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return s.push($d(t.slice(i),i>0,!1)),s.join("")}function $d(e,t,n){let r=0,i=e.length;if(t){let s=e.codePointAt(r);for(;s===Dd||s===zd;)r++,s=e.codePointAt(r)}if(n){let s=e.codePointAt(i-1);for(;s===Dd||s===zd;)i--,s=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}function ub(e,t){const n={type:"text",value:ab(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function cb(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const hb={blockquote:FS,break:MS,code:BS,delete:VS,emphasis:HS,footnoteReference:qS,heading:WS,html:KS,imageReference:GS,image:JS,inlineCode:QS,linkReference:YS,link:XS,listItem:ZS,list:tb,paragraph:nb,root:rb,strong:ib,table:sb,tableCell:lb,tableRow:ob,text:ub,thematicBreak:cb,toml:Os,yaml:Os,definition:Os,footnoteDefinition:Os};function Os(){}const yg=-1,Yo=0,Si=1,Eo=2,vc=3,wc=4,kc=5,_c=6,vg=7,wg=8,Ud=typeof self=="object"?self:globalThis,db=(e,t)=>{const n=(i,s)=>(e.set(s,i),i),r=i=>{if(e.has(i))return e.get(i);const[s,o]=t[i];switch(s){case Yo:case yg:return n(o,i);case Si:{const l=n([],i);for(const a of o)l.push(r(a));return l}case Eo:{const l=n({},i);for(const[a,u]of o)l[r(a)]=r(u);return l}case vc:return n(new Date(o),i);case wc:{const{source:l,flags:a}=o;return n(new RegExp(l,a),i)}case kc:{const l=n(new Map,i);for(const[a,u]of o)l.set(r(a),r(u));return l}case _c:{const l=n(new Set,i);for(const a of o)l.add(r(a));return l}case vg:{const{name:l,message:a}=o;return n(new Ud[l](a),i)}case wg:return n(BigInt(o),i);case"BigInt":return n(Object(BigInt(o)),i);case"ArrayBuffer":return n(new Uint8Array(o).buffer,o);case"DataView":{const{buffer:l}=new Uint8Array(o);return n(new DataView(l),o)}}return n(new Ud[s](o),i)};return r},Fd=e=>db(new Map,e)(0),or="",{toString:fb}={},{keys:pb}=Object,ii=e=>{const t=typeof e;if(t!=="object"||!e)return[Yo,t];const n=fb.call(e).slice(8,-1);switch(n){case"Array":return[Si,or];case"Object":return[Eo,or];case"Date":return[vc,or];case"RegExp":return[wc,or];case"Map":return[kc,or];case"Set":return[_c,or];case"DataView":return[Si,n]}return n.includes("Array")?[Si,n]:n.includes("Error")?[vg,n]:[Eo,n]},Is=([e,t])=>e===Yo&&(t==="function"||t==="symbol"),mb=(e,t,n,r)=>{const i=(o,l)=>{const a=r.push(o)-1;return n.set(l,a),a},s=o=>{if(n.has(o))return n.get(o);let[l,a]=ii(o);switch(l){case Yo:{let c=o;switch(a){case"bigint":l=wg,c=o.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+a);c=null;break;case"undefined":return i([yg],o)}return i([l,c],o)}case Si:{if(a){let d=o;return a==="DataView"?d=new Uint8Array(o.buffer):a==="ArrayBuffer"&&(d=new Uint8Array(o)),i([a,[...d]],o)}const c=[],h=i([l,c],o);for(const d of o)c.push(s(d));return h}case Eo:{if(a)switch(a){case"BigInt":return i([a,o.toString()],o);case"Boolean":case"Number":case"String":return i([a,o.valueOf()],o)}if(t&&"toJSON"in o)return s(o.toJSON());const c=[],h=i([l,c],o);for(const d of pb(o))(e||!Is(ii(o[d])))&&c.push([s(d),s(o[d])]);return h}case vc:return i([l,o.toISOString()],o);case wc:{const{source:c,flags:h}=o;return i([l,{source:c,flags:h}],o)}case kc:{const c=[],h=i([l,c],o);for(const[d,f]of o)(e||!(Is(ii(d))||Is(ii(f))))&&c.push([s(d),s(f)]);return h}case _c:{const c=[],h=i([l,c],o);for(const d of o)(e||!Is(ii(d)))&&c.push(s(d));return h}}const{message:u}=o;return i([l,{name:a,message:u}],o)};return s},Md=(e,{json:t,lossy:n}={})=>{const r=[];return mb(!(t||n),!!t,new Map,r)(e),r},Co=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?Fd(Md(e,t)):structuredClone(e):(e,t)=>Fd(Md(e,t));function gb(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function yb(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function vb(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||gb,r=e.options.footnoteBackLabel||yb,i=e.options.footnoteLabel||"Footnotes",s=e.options.footnoteLabelTagName||"h2",o=e.options.footnoteLabelProperties||{className:["sr-only"]},l=[];let a=-1;for(;++a<e.footnoteOrder.length;){const u=e.footnoteById.get(e.footnoteOrder[a]);if(!u)continue;const c=e.all(u),h=String(u.identifier).toUpperCase(),d=qr(h.toLowerCase());let f=0;const m=[],v=e.footnoteCounts.get(h);for(;v!==void 0&&++f<=v;){m.length>0&&m.push({type:"text",value:" "});let g=typeof n=="string"?n:n(a,f);typeof g=="string"&&(g={type:"text",value:g}),m.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+d+(f>1?"-"+f:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(a,f),className:["data-footnote-backref"]},children:Array.isArray(g)?g:[g]})}const S=c[c.length-1];if(S&&S.type==="element"&&S.tagName==="p"){const g=S.children[S.children.length-1];g&&g.type==="text"?g.value+=" ":S.children.push({type:"text",value:" "}),S.children.push(...m)}else c.push(...m);const p={type:"element",tagName:"li",properties:{id:t+"fn-"+d},children:e.wrap(c,!0)};e.patch(u,p),l.push(p)}if(l.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:s,properties:{...Co(o),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(l,!0)},{type:"text",value:`
`}]}}const Xo=function(e){if(e==null)return xb;if(typeof e=="function")return Zo(e);if(typeof e=="object")return Array.isArray(e)?wb(e):kb(e);if(typeof e=="string")return _b(e);throw new Error("Expected function, string, or object as test")};function wb(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=Xo(e[n]);return Zo(r);function r(...i){let s=-1;for(;++s<t.length;)if(t[s].apply(this,i))return!0;return!1}}function kb(e){const t=e;return Zo(n);function n(r){const i=r;let s;for(s in e)if(i[s]!==t[s])return!1;return!0}}function _b(e){return Zo(t);function t(n){return n&&n.type===e}}function Zo(e){return t;function t(n,r,i){return!!(Sb(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function xb(){return!0}function Sb(e){return e!==null&&typeof e=="object"&&"type"in e}const kg=[],bb=!0,su=!1,Eb="skip";function _g(e,t,n,r){let i;typeof t=="function"&&typeof n!="function"?(r=n,n=t):i=t;const s=Xo(i),o=r?-1:1;l(e,void 0,[])();function l(a,u,c){const h=a&&typeof a=="object"?a:{};if(typeof h.type=="string"){const f=typeof h.tagName=="string"?h.tagName:typeof h.name=="string"?h.name:void 0;Object.defineProperty(d,"name",{value:"node ("+(a.type+(f?"<"+f+">":""))+")"})}return d;function d(){let f=kg,m,v,S;if((!t||s(a,u,c[c.length-1]||void 0))&&(f=Cb(n(a,c)),f[0]===su))return f;if("children"in a&&a.children){const p=a;if(p.children&&f[0]!==Eb)for(v=(r?p.children.length:-1)+o,S=c.concat(p);v>-1&&v<p.children.length;){const g=p.children[v];if(m=l(g,v,S)(),m[0]===su)return m;v=typeof m[1]=="number"?m[1]:v+o}}return f}}}function Cb(e){return Array.isArray(e)?e:typeof e=="number"?[bb,e]:e==null?kg:[e]}function xc(e,t,n,r){let i,s,o;typeof t=="function"&&typeof n!="function"?(s=void 0,o=t,i=n):(s=t,o=n,i=r),_g(e,s,l,i);function l(a,u){const c=u[u.length-1],h=c?c.children.indexOf(a):void 0;return o(a,h,c)}}const ou={}.hasOwnProperty,Tb={};function Ab(e,t){const n=t||Tb,r=new Map,i=new Map,s=new Map,o={...hb,...n.handlers},l={all:u,applyData:Rb,definitionById:r,footnoteById:i,footnoteCounts:s,footnoteOrder:[],handlers:o,one:a,options:n,patch:Pb,wrap:Ib};return xc(e,function(c){if(c.type==="definition"||c.type==="footnoteDefinition"){const h=c.type==="definition"?r:i,d=String(c.identifier).toUpperCase();h.has(d)||h.set(d,c)}}),l;function a(c,h){const d=c.type,f=l.handlers[d];if(ou.call(l.handlers,d)&&f)return f(l,c,h);if(l.options.passThrough&&l.options.passThrough.includes(d)){if("children"in c){const{children:v,...S}=c,p=Co(S);return p.children=l.all(c),p}return Co(c)}return(l.options.unknownHandler||Ob)(l,c,h)}function u(c){const h=[];if("children"in c){const d=c.children;let f=-1;for(;++f<d.length;){const m=l.one(d[f],c);if(m){if(f&&d[f-1].type==="break"&&(!Array.isArray(m)&&m.type==="text"&&(m.value=Bd(m.value)),!Array.isArray(m)&&m.type==="element")){const v=m.children[0];v&&v.type==="text"&&(v.value=Bd(v.value))}Array.isArray(m)?h.push(...m):h.push(m)}}}return h}}function Pb(e,t){e.position&&(t.position=yx(e))}function Rb(e,t){let n=t;if(e&&e.data){const r=e.data.hName,i=e.data.hChildren,s=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const o="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:o}}n.type==="element"&&s&&Object.assign(n.properties,Co(s)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function Ob(e,t){const n=t.data||{},r="value"in t&&!(ou.call(n,"hProperties")||ou.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function Ib(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function Bd(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function Vd(e,t){const n=Ab(e,t),r=n.one(e,void 0),i=vb(n),s=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&s.children.push({type:"text",value:`
`},i),s}function jb(e,t){return e&&"run"in e?async function(n,r){const i=Vd(n,{file:r,...t});await e.run(i,r)}:function(n,r){return Vd(n,{file:r,...e||t})}}function Hd(e){if(e)throw e}var Gs=Object.prototype.hasOwnProperty,xg=Object.prototype.toString,qd=Object.defineProperty,Wd=Object.getOwnPropertyDescriptor,Kd=function(t){return typeof Array.isArray=="function"?Array.isArray(t):xg.call(t)==="[object Array]"},Gd=function(t){if(!t||xg.call(t)!=="[object Object]")return!1;var n=Gs.call(t,"constructor"),r=t.constructor&&t.constructor.prototype&&Gs.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!r)return!1;var i;for(i in t);return typeof i>"u"||Gs.call(t,i)},Jd=function(t,n){qd&&n.name==="__proto__"?qd(t,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):t[n.name]=n.newValue},Qd=function(t,n){if(n==="__proto__")if(Gs.call(t,n)){if(Wd)return Wd(t,n).value}else return;return t[n]},Nb=function e(){var t,n,r,i,s,o,l=arguments[0],a=1,u=arguments.length,c=!1;for(typeof l=="boolean"&&(c=l,l=arguments[1]||{},a=2),(l==null||typeof l!="object"&&typeof l!="function")&&(l={});a<u;++a)if(t=arguments[a],t!=null)for(n in t)r=Qd(l,n),i=Qd(t,n),l!==i&&(c&&i&&(Gd(i)||(s=Kd(i)))?(s?(s=!1,o=r&&Kd(r)?r:[]):o=r&&Gd(r)?r:{},Jd(l,{name:n,newValue:e(c,o,i)})):typeof i<"u"&&Jd(l,{name:n,newValue:i}));return l};const zl=cu(Nb);function lu(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function Lb(){const e=[],t={run:n,use:r};return t;function n(...i){let s=-1;const o=i.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);l(null,...i);function l(a,...u){const c=e[++s];let h=-1;if(a){o(a);return}for(;++h<i.length;)(u[h]===null||u[h]===void 0)&&(u[h]=i[h]);i=u,c?Db(c,l)(...u):o(null,...u)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function Db(e,t){let n;return r;function r(...o){const l=e.length>o.length;let a;l&&o.push(i);try{a=e.apply(this,o)}catch(u){const c=u;if(l&&n)throw c;return i(c)}l||(a&&a.then&&typeof a.then=="function"?a.then(s,i):a instanceof Error?i(a):s(a))}function i(o,...l){n||(n=!0,t(o,...l))}function s(o){i(null,o)}}const jt={basename:zb,dirname:$b,extname:Ub,join:Fb,sep:"/"};function zb(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');ss(e);let n=0,r=-1,i=e.length,s;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(s){n=i+1;break}}else r<0&&(s=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let o=-1,l=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(s){n=i+1;break}}else o<0&&(s=!0,o=i+1),l>-1&&(e.codePointAt(i)===t.codePointAt(l--)?l<0&&(r=i):(l=-1,r=o));return n===r?r=o:r<0&&(r=e.length),e.slice(n,r)}function $b(e){if(ss(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function Ub(e){ss(e);let t=e.length,n=-1,r=0,i=-1,s=0,o;for(;t--;){const l=e.codePointAt(t);if(l===47){if(o){r=t+1;break}continue}n<0&&(o=!0,n=t+1),l===46?i<0?i=t:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||n<0||s===0||s===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function Fb(...e){let t=-1,n;for(;++t<e.length;)ss(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":Mb(n)}function Mb(e){ss(e);const t=e.codePointAt(0)===47;let n=Bb(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function Bb(e,t){let n="",r=0,i=-1,s=0,o=-1,l,a;for(;++o<=e.length;){if(o<e.length)l=e.codePointAt(o);else{if(l===47)break;l=47}if(l===47){if(!(i===o-1||s===1))if(i!==o-1&&s===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(a=n.lastIndexOf("/"),a!==n.length-1){a<0?(n="",r=0):(n=n.slice(0,a),r=n.length-1-n.lastIndexOf("/")),i=o,s=0;continue}}else if(n.length>0){n="",r=0,i=o,s=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,o):n=e.slice(i+1,o),r=o-i-1;i=o,s=0}else l===46&&s>-1?s++:s=-1}return n}function ss(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const Vb={cwd:Hb};function Hb(){return"/"}function au(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function qb(e){if(typeof e=="string")e=new URL(e);else if(!au(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return Wb(e)}function Wb(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const $l=["history","path","basename","stem","extname","dirname"];class Sg{constructor(t){let n;t?au(t)?n={path:t}:typeof t=="string"||Kb(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":Vb.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<$l.length;){const s=$l[r];s in n&&n[s]!==void 0&&n[s]!==null&&(this[s]=s==="history"?[...n[s]]:n[s])}let i;for(i in n)$l.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?jt.basename(this.path):void 0}set basename(t){Fl(t,"basename"),Ul(t,"basename"),this.path=jt.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?jt.dirname(this.path):void 0}set dirname(t){Yd(this.basename,"dirname"),this.path=jt.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?jt.extname(this.path):void 0}set extname(t){if(Ul(t,"extname"),Yd(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=jt.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){au(t)&&(t=qb(t)),Fl(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?jt.basename(this.path,this.extname):void 0}set stem(t){Fl(t,"stem"),Ul(t,"stem"),this.path=jt.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=void 0,i}message(t,n,r){const i=new Fe(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function Ul(e,t){if(e&&e.includes(jt.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+jt.sep+"`")}function Fl(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function Yd(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function Kb(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const Gb=function(e){const r=this.constructor.prototype,i=r[e],s=function(){return i.apply(s,arguments)};return Object.setPrototypeOf(s,r),s},Jb={}.hasOwnProperty;class Sc extends Gb{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=Lb()}copy(){const t=new Sc;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(zl(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(Vl("data",this.frozen),this.namespace[t]=n,this):Jb.call(this.namespace,t)&&this.namespace[t]||void 0:t?(Vl("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(t,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=js(t),r=this.parser||this.Parser;return Ml("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),Ml("process",this.parser||this.Parser),Bl("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(s,o){const l=js(t),a=r.parse(l);r.run(a,l,function(c,h,d){if(c||!h||!d)return u(c);const f=h,m=r.stringify(f,d);Xb(m)?d.value=m:d.result=m,u(c,d)});function u(c,h){c||!h?o(c):s?s(h):n(void 0,h)}}}processSync(t){let n=!1,r;return this.freeze(),Ml("processSync",this.parser||this.Parser),Bl("processSync",this.compiler||this.Compiler),this.process(t,i),Zd("processSync","process",n),r;function i(s,o){n=!0,Hd(s),r=o}}run(t,n,r){Xd(t),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?s(void 0,r):new Promise(s);function s(o,l){const a=js(n);i.run(t,a,u);function u(c,h,d){const f=h||t;c?l(c):o?o(f):r(void 0,f,d)}}}runSync(t,n){let r=!1,i;return this.run(t,n,s),Zd("runSync","run",r),i;function s(o,l){Hd(o),i=l,r=!0}}stringify(t,n){this.freeze();const r=js(n),i=this.compiler||this.Compiler;return Bl("stringify",i),Xd(t),i(t,r)}use(t,...n){const r=this.attachers,i=this.namespace;if(Vl("use",this.frozen),t!=null)if(typeof t=="function")a(t,n);else if(typeof t=="object")Array.isArray(t)?l(t):o(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function s(u){if(typeof u=="function")a(u,[]);else if(typeof u=="object")if(Array.isArray(u)){const[c,...h]=u;a(c,h)}else o(u);else throw new TypeError("Expected usable value, not `"+u+"`")}function o(u){if(!("plugins"in u)&&!("settings"in u))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");l(u.plugins),u.settings&&(i.settings=zl(!0,i.settings,u.settings))}function l(u){let c=-1;if(u!=null)if(Array.isArray(u))for(;++c<u.length;){const h=u[c];s(h)}else throw new TypeError("Expected a list of plugins, not `"+u+"`")}function a(u,c){let h=-1,d=-1;for(;++h<r.length;)if(r[h][0]===u){d=h;break}if(d===-1)r.push([u,...c]);else if(c.length>0){let[f,...m]=c;const v=r[d][1];lu(v)&&lu(f)&&(f=zl(!0,v,f)),r[d]=[u,f,...m]}}}}const Qb=new Sc().freeze();function Ml(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function Bl(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function Vl(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function Xd(e){if(!lu(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function Zd(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function js(e){return Yb(e)?e:new Sg(e)}function Yb(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function Xb(e){return typeof e=="string"||Zb(e)}function Zb(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const eE="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",ef=[],tf={allowDangerousHtml:!0},tE=/^(https?|ircs?|mailto|xmpp)$/i,nE=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function rE(e){const t=iE(e),n=sE(e);return oE(t.runSync(t.parse(n),n),e)}function iE(e){const t=e.rehypePlugins||ef,n=e.remarkPlugins||ef,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...tf}:tf;return Qb().use(US).use(n).use(jb,r).use(t)}function sE(e){const t=e.children||"",n=new Sg;return typeof t=="string"&&(n.value=t),n}function oE(e,t){const n=t.allowedElements,r=t.allowElement,i=t.components,s=t.disallowedElements,o=t.skipHtml,l=t.unwrapDisallowed,a=t.urlTransform||lE;for(const c of nE)Object.hasOwn(t,c.from)&&(""+c.from+(c.to?"use `"+c.to+"` instead":"remove it")+eE+c.id,void 0);return xc(e,u),xx(e,{Fragment:x.Fragment,components:i,ignoreInvalidStyle:!0,jsx:x.jsx,jsxs:x.jsxs,passKeys:!0,passNode:!0});function u(c,h,d){if(c.type==="raw"&&d&&typeof h=="number")return o?d.children.splice(h,1):d.children[h]={type:"text",value:c.value},h;if(c.type==="element"){let f;for(f in Nl)if(Object.hasOwn(Nl,f)&&Object.hasOwn(c.properties,f)){const m=c.properties[f],v=Nl[f];(v===null||v.includes(c.tagName))&&(c.properties[f]=a(String(m||""),f,c))}}if(c.type==="element"){let f=n?!n.includes(c.tagName):s?s.includes(c.tagName):!1;if(!f&&r&&typeof h=="number"&&(f=!r(c,h,d)),f&&d&&typeof h=="number")return l&&c.children?d.children.splice(h,1,...c.children):d.children.splice(h,1),h}}}function lE(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),i=e.indexOf("/");return t===-1||i!==-1&&t>i||n!==-1&&t>n||r!==-1&&t>r||tE.test(e.slice(0,t))?e:""}function nf(e,t){const n=String(e);if(typeof t!="string")throw new TypeError("Expected character");let r=0,i=n.indexOf(t);for(;i!==-1;)r++,i=n.indexOf(t,i+t.length);return r}function aE(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function uE(e,t,n){const i=Xo((n||{}).ignore||[]),s=cE(t);let o=-1;for(;++o<s.length;)_g(e,"text",l);function l(u,c){let h=-1,d;for(;++h<c.length;){const f=c[h],m=d?d.children:void 0;if(i(f,m?m.indexOf(f):void 0,d))return;d=f}if(d)return a(u,c)}function a(u,c){const h=c[c.length-1],d=s[o][0],f=s[o][1];let m=0;const S=h.children.indexOf(u);let p=!1,g=[];d.lastIndex=0;let y=d.exec(u.value);for(;y;){const b=y.index,C={index:y.index,input:y.input,stack:[...c,u]};let _=f(...y,C);if(typeof _=="string"&&(_=_.length>0?{type:"text",value:_}:void 0),_===!1?d.lastIndex=b+1:(m!==b&&g.push({type:"text",value:u.value.slice(m,b)}),Array.isArray(_)?g.push(..._):_&&g.push(_),m=b+y[0].length,p=!0),!d.global)break;y=d.exec(u.value)}return p?(m<u.value.length&&g.push({type:"text",value:u.value.slice(m)}),h.children.splice(S,1,...g)):g=[u],S+g.length}}function cE(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!e[0]||Array.isArray(e[0])?e:[e];let r=-1;for(;++r<n.length;){const i=n[r];t.push([hE(i[0]),dE(i[1])])}return t}function hE(e){return typeof e=="string"?new RegExp(aE(e),"g"):e}function dE(e){return typeof e=="function"?e:function(){return e}}const Hl="phrasing",ql=["autolink","link","image","label"];function fE(){return{transforms:[kE],enter:{literalAutolink:mE,literalAutolinkEmail:Wl,literalAutolinkHttp:Wl,literalAutolinkWww:Wl},exit:{literalAutolink:wE,literalAutolinkEmail:vE,literalAutolinkHttp:gE,literalAutolinkWww:yE}}}function pE(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:Hl,notInConstruct:ql},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:Hl,notInConstruct:ql},{character:":",before:"[ps]",after:"\\/",inConstruct:Hl,notInConstruct:ql}]}}function mE(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function Wl(e){this.config.enter.autolinkProtocol.call(this,e)}function gE(e){this.config.exit.autolinkProtocol.call(this,e)}function yE(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function vE(e){this.config.exit.autolinkEmail.call(this,e)}function wE(e){this.exit(e)}function kE(e){uE(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,_E],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),xE]],{ignore:["link","linkReference"]})}function _E(e,t,n,r,i){let s="";if(!bg(i)||(/^w/i.test(t)&&(n=t+n,t="",s="http://"),!SE(n)))return!1;const o=bE(n+r);if(!o[0])return!1;const l={type:"link",title:null,url:s+t+o[0],children:[{type:"text",value:t+o[0]}]};return o[1]?[l,{type:"text",value:o[1]}]:l}function xE(e,t,n,r){return!bg(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function SE(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function bE(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],r=n.indexOf(")");const i=nf(e,"(");let s=nf(e,")");for(;r!==-1&&i>s;)e+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),s++;return[e,n]}function bg(e,t){const n=e.input.charCodeAt(e.index-1);return(e.index===0||Kn(n)||Jo(n))&&(!t||n!==47)}Eg.peek=jE;function EE(){this.buffer()}function CE(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function TE(){this.buffer()}function AE(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function PE(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=At(this.sliceSerialize(e)).toLowerCase(),n.label=t}function RE(e){this.exit(e)}function OE(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=At(this.sliceSerialize(e)).toLowerCase(),n.label=t}function IE(e){this.exit(e)}function jE(){return"["}function Eg(e,t,n,r){const i=n.createTracker(r);let s=i.move("[^");const o=n.enter("footnoteReference"),l=n.enter("reference");return s+=i.move(n.safe(n.associationId(e),{after:"]",before:s})),l(),o(),s+=i.move("]"),s}function NE(){return{enter:{gfmFootnoteCallString:EE,gfmFootnoteCall:CE,gfmFootnoteDefinitionLabelString:TE,gfmFootnoteDefinition:AE},exit:{gfmFootnoteCallString:PE,gfmFootnoteCall:RE,gfmFootnoteDefinitionLabelString:OE,gfmFootnoteDefinition:IE}}}function LE(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:n,footnoteReference:Eg},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,i,s,o){const l=s.createTracker(o);let a=l.move("[^");const u=s.enter("footnoteDefinition"),c=s.enter("label");return a+=l.move(s.safe(s.associationId(r),{before:a,after:"]"})),c(),a+=l.move("]:"),r.children&&r.children.length>0&&(l.shift(4),a+=l.move((t?`
`:" ")+s.indentLines(s.containerFlow(r,l.current()),t?Cg:DE))),u(),a}}function DE(e,t,n){return t===0?e:Cg(e,t,n)}function Cg(e,t,n){return(n?"":"    ")+e}const zE=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];Tg.peek=BE;function $E(){return{canContainEols:["delete"],enter:{strikethrough:FE},exit:{strikethrough:ME}}}function UE(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:zE}],handlers:{delete:Tg}}}function FE(e){this.enter({type:"delete",children:[]},e)}function ME(e){this.exit(e)}function Tg(e,t,n,r){const i=n.createTracker(r),s=n.enter("strikethrough");let o=i.move("~~");return o+=n.containerPhrasing(e,{...i.current(),before:o,after:"~"}),o+=i.move("~~"),s(),o}function BE(){return"~"}function VE(e){return e.length}function HE(e,t){const n=t||{},r=(n.align||[]).concat(),i=n.stringLength||VE,s=[],o=[],l=[],a=[];let u=0,c=-1;for(;++c<e.length;){const v=[],S=[];let p=-1;for(e[c].length>u&&(u=e[c].length);++p<e[c].length;){const g=qE(e[c][p]);if(n.alignDelimiters!==!1){const y=i(g);S[p]=y,(a[p]===void 0||y>a[p])&&(a[p]=y)}v.push(g)}o[c]=v,l[c]=S}let h=-1;if(typeof r=="object"&&"length"in r)for(;++h<u;)s[h]=rf(r[h]);else{const v=rf(r);for(;++h<u;)s[h]=v}h=-1;const d=[],f=[];for(;++h<u;){const v=s[h];let S="",p="";v===99?(S=":",p=":"):v===108?S=":":v===114&&(p=":");let g=n.alignDelimiters===!1?1:Math.max(1,a[h]-S.length-p.length);const y=S+"-".repeat(g)+p;n.alignDelimiters!==!1&&(g=S.length+g+p.length,g>a[h]&&(a[h]=g),f[h]=g),d[h]=y}o.splice(1,0,d),l.splice(1,0,f),c=-1;const m=[];for(;++c<o.length;){const v=o[c],S=l[c];h=-1;const p=[];for(;++h<u;){const g=v[h]||"";let y="",b="";if(n.alignDelimiters!==!1){const C=a[h]-(S[h]||0),_=s[h];_===114?y=" ".repeat(C):_===99?C%2?(y=" ".repeat(C/2+.5),b=" ".repeat(C/2-.5)):(y=" ".repeat(C/2),b=y):b=" ".repeat(C)}n.delimiterStart!==!1&&!h&&p.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&g==="")&&(n.delimiterStart!==!1||h)&&p.push(" "),n.alignDelimiters!==!1&&p.push(y),p.push(g),n.alignDelimiters!==!1&&p.push(b),n.padding!==!1&&p.push(" "),(n.delimiterEnd!==!1||h!==u-1)&&p.push("|")}m.push(n.delimiterEnd===!1?p.join("").replace(/ +$/,""):p.join(""))}return m.join(`
`)}function qE(e){return e==null?"":String(e)}function rf(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}function WE(e,t,n,r){const i=n.enter("blockquote"),s=n.createTracker(r);s.move("> "),s.shift(2);const o=n.indentLines(n.containerFlow(e,s.current()),KE);return i(),o}function KE(e,t,n){return">"+(n?"":" ")+e}function GE(e,t){return sf(e,t.inConstruct,!0)&&!sf(e,t.notInConstruct,!1)}function sf(e,t,n){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return n;let r=-1;for(;++r<t.length;)if(e.includes(t[r]))return!0;return!1}function of(e,t,n,r){let i=-1;for(;++i<n.unsafe.length;)if(n.unsafe[i].character===`
`&&GE(n.stack,n.unsafe[i]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function JE(e,t){const n=String(e);let r=n.indexOf(t),i=r,s=0,o=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===i?++s>o&&(o=s):s=1,i=r+t.length,r=n.indexOf(t,i);return o}function QE(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function YE(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function XE(e,t,n,r){const i=YE(n),s=e.value||"",o=i==="`"?"GraveAccent":"Tilde";if(QE(e,n)){const h=n.enter("codeIndented"),d=n.indentLines(s,ZE);return h(),d}const l=n.createTracker(r),a=i.repeat(Math.max(JE(s,i)+1,3)),u=n.enter("codeFenced");let c=l.move(a);if(e.lang){const h=n.enter(`codeFencedLang${o}`);c+=l.move(n.safe(e.lang,{before:c,after:" ",encode:["`"],...l.current()})),h()}if(e.lang&&e.meta){const h=n.enter(`codeFencedMeta${o}`);c+=l.move(" "),c+=l.move(n.safe(e.meta,{before:c,after:`
`,encode:["`"],...l.current()})),h()}return c+=l.move(`
`),s&&(c+=l.move(s+`
`)),c+=l.move(a),u(),c}function ZE(e,t,n){return(n?"":"    ")+e}function bc(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function eC(e,t,n,r){const i=bc(n),s=i==='"'?"Quote":"Apostrophe",o=n.enter("definition");let l=n.enter("label");const a=n.createTracker(r);let u=a.move("[");return u+=a.move(n.safe(n.associationId(e),{before:u,after:"]",...a.current()})),u+=a.move("]: "),l(),!e.url||/[\0- \u007F]/.test(e.url)?(l=n.enter("destinationLiteral"),u+=a.move("<"),u+=a.move(n.safe(e.url,{before:u,after:">",...a.current()})),u+=a.move(">")):(l=n.enter("destinationRaw"),u+=a.move(n.safe(e.url,{before:u,after:e.title?" ":`
`,...a.current()}))),l(),e.title&&(l=n.enter(`title${s}`),u+=a.move(" "+i),u+=a.move(n.safe(e.title,{before:u,after:i,...a.current()})),u+=a.move(i),l()),o(),u}function tC(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function Qi(e){return"&#x"+e.toString(16).toUpperCase()+";"}function To(e,t,n){const r=Ur(e),i=Ur(t);return r===void 0?i===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}Ag.peek=nC;function Ag(e,t,n,r){const i=tC(n),s=n.enter("emphasis"),o=n.createTracker(r),l=o.move(i);let a=o.move(n.containerPhrasing(e,{after:i,before:l,...o.current()}));const u=a.charCodeAt(0),c=To(r.before.charCodeAt(r.before.length-1),u,i);c.inside&&(a=Qi(u)+a.slice(1));const h=a.charCodeAt(a.length-1),d=To(r.after.charCodeAt(0),h,i);d.inside&&(a=a.slice(0,-1)+Qi(h));const f=o.move(i);return s(),n.attentionEncodeSurroundingInfo={after:d.outside,before:c.outside},l+a+f}function nC(e,t,n){return n.options.emphasis||"*"}function rC(e,t){let n=!1;return xc(e,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,su}),!!((!e.depth||e.depth<3)&&mc(e)&&(t.options.setext||n))}function iC(e,t,n,r){const i=Math.max(Math.min(6,e.depth||1),1),s=n.createTracker(r);if(rC(e,n)){const c=n.enter("headingSetext"),h=n.enter("phrasing"),d=n.containerPhrasing(e,{...s.current(),before:`
`,after:`
`});return h(),c(),d+`
`+(i===1?"=":"-").repeat(d.length-(Math.max(d.lastIndexOf("\r"),d.lastIndexOf(`
`))+1))}const o="#".repeat(i),l=n.enter("headingAtx"),a=n.enter("phrasing");s.move(o+" ");let u=n.containerPhrasing(e,{before:"# ",after:`
`,...s.current()});return/^[\t ]/.test(u)&&(u=Qi(u.charCodeAt(0))+u.slice(1)),u=u?o+" "+u:o,n.options.closeAtx&&(u+=" "+o),a(),l(),u}Pg.peek=sC;function Pg(e){return e.value||""}function sC(){return"<"}Rg.peek=oC;function Rg(e,t,n,r){const i=bc(n),s=i==='"'?"Quote":"Apostrophe",o=n.enter("image");let l=n.enter("label");const a=n.createTracker(r);let u=a.move("![");return u+=a.move(n.safe(e.alt,{before:u,after:"]",...a.current()})),u+=a.move("]("),l(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(l=n.enter("destinationLiteral"),u+=a.move("<"),u+=a.move(n.safe(e.url,{before:u,after:">",...a.current()})),u+=a.move(">")):(l=n.enter("destinationRaw"),u+=a.move(n.safe(e.url,{before:u,after:e.title?" ":")",...a.current()}))),l(),e.title&&(l=n.enter(`title${s}`),u+=a.move(" "+i),u+=a.move(n.safe(e.title,{before:u,after:i,...a.current()})),u+=a.move(i),l()),u+=a.move(")"),o(),u}function oC(){return"!"}Og.peek=lC;function Og(e,t,n,r){const i=e.referenceType,s=n.enter("imageReference");let o=n.enter("label");const l=n.createTracker(r);let a=l.move("![");const u=n.safe(e.alt,{before:a,after:"]",...l.current()});a+=l.move(u+"]["),o();const c=n.stack;n.stack=[],o=n.enter("reference");const h=n.safe(n.associationId(e),{before:a,after:"]",...l.current()});return o(),n.stack=c,s(),i==="full"||!u||u!==h?a+=l.move(h+"]"):i==="shortcut"?a=a.slice(0,-1):a+=l.move("]"),a}function lC(){return"!"}Ig.peek=aC;function Ig(e,t,n){let r=e.value||"",i="`",s=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++s<n.unsafe.length;){const o=n.unsafe[s],l=n.compilePattern(o);let a;if(o.atBreak)for(;a=l.exec(r);){let u=a.index;r.charCodeAt(u)===10&&r.charCodeAt(u-1)===13&&u--,r=r.slice(0,u)+" "+r.slice(a.index+1)}}return i+r+i}function aC(){return"`"}function jg(e,t){const n=mc(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}Ng.peek=uC;function Ng(e,t,n,r){const i=bc(n),s=i==='"'?"Quote":"Apostrophe",o=n.createTracker(r);let l,a;if(jg(e,n)){const c=n.stack;n.stack=[],l=n.enter("autolink");let h=o.move("<");return h+=o.move(n.containerPhrasing(e,{before:h,after:">",...o.current()})),h+=o.move(">"),l(),n.stack=c,h}l=n.enter("link"),a=n.enter("label");let u=o.move("[");return u+=o.move(n.containerPhrasing(e,{before:u,after:"](",...o.current()})),u+=o.move("]("),a(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(a=n.enter("destinationLiteral"),u+=o.move("<"),u+=o.move(n.safe(e.url,{before:u,after:">",...o.current()})),u+=o.move(">")):(a=n.enter("destinationRaw"),u+=o.move(n.safe(e.url,{before:u,after:e.title?" ":")",...o.current()}))),a(),e.title&&(a=n.enter(`title${s}`),u+=o.move(" "+i),u+=o.move(n.safe(e.title,{before:u,after:i,...o.current()})),u+=o.move(i),a()),u+=o.move(")"),l(),u}function uC(e,t,n){return jg(e,n)?"<":"["}Lg.peek=cC;function Lg(e,t,n,r){const i=e.referenceType,s=n.enter("linkReference");let o=n.enter("label");const l=n.createTracker(r);let a=l.move("[");const u=n.containerPhrasing(e,{before:a,after:"]",...l.current()});a+=l.move(u+"]["),o();const c=n.stack;n.stack=[],o=n.enter("reference");const h=n.safe(n.associationId(e),{before:a,after:"]",...l.current()});return o(),n.stack=c,s(),i==="full"||!u||u!==h?a+=l.move(h+"]"):i==="shortcut"?a=a.slice(0,-1):a+=l.move("]"),a}function cC(){return"["}function Ec(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function hC(e){const t=Ec(e),n=e.options.bulletOther;if(!n)return t==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}function dC(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function Dg(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function fC(e,t,n,r){const i=n.enter("list"),s=n.bulletCurrent;let o=e.ordered?dC(n):Ec(n);const l=e.ordered?o==="."?")":".":hC(n);let a=t&&n.bulletLastUsed?o===n.bulletLastUsed:!1;if(!e.ordered){const c=e.children?e.children[0]:void 0;if((o==="*"||o==="-")&&c&&(!c.children||!c.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(a=!0),Dg(n)===o&&c){let h=-1;for(;++h<e.children.length;){const d=e.children[h];if(d&&d.type==="listItem"&&d.children&&d.children[0]&&d.children[0].type==="thematicBreak"){a=!0;break}}}}a&&(o=l),n.bulletCurrent=o;const u=n.containerFlow(e,r);return n.bulletLastUsed=o,n.bulletCurrent=s,i(),u}function pC(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function mC(e,t,n,r){const i=pC(n);let s=n.bulletCurrent||Ec(n);t&&t.type==="list"&&t.ordered&&(s=(typeof t.start=="number"&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+s);let o=s.length+1;(i==="tab"||i==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(o=Math.ceil(o/4)*4);const l=n.createTracker(r);l.move(s+" ".repeat(o-s.length)),l.shift(o);const a=n.enter("listItem"),u=n.indentLines(n.containerFlow(e,l.current()),c);return a(),u;function c(h,d,f){return d?(f?"":" ".repeat(o))+h:(f?s:s+" ".repeat(o-s.length))+h}}function gC(e,t,n,r){const i=n.enter("paragraph"),s=n.enter("phrasing"),o=n.containerPhrasing(e,r);return s(),i(),o}const yC=Xo(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function vC(e,t,n,r){return(e.children.some(function(o){return yC(o)})?n.containerPhrasing:n.containerFlow).call(n,e,r)}function wC(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}zg.peek=kC;function zg(e,t,n,r){const i=wC(n),s=n.enter("strong"),o=n.createTracker(r),l=o.move(i+i);let a=o.move(n.containerPhrasing(e,{after:i,before:l,...o.current()}));const u=a.charCodeAt(0),c=To(r.before.charCodeAt(r.before.length-1),u,i);c.inside&&(a=Qi(u)+a.slice(1));const h=a.charCodeAt(a.length-1),d=To(r.after.charCodeAt(0),h,i);d.inside&&(a=a.slice(0,-1)+Qi(h));const f=o.move(i+i);return s(),n.attentionEncodeSurroundingInfo={after:d.outside,before:c.outside},l+a+f}function kC(e,t,n){return n.options.strong||"*"}function _C(e,t,n,r){return n.safe(e.value,r)}function xC(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function SC(e,t,n){const r=(Dg(n)+(n.options.ruleSpaces?" ":"")).repeat(xC(n));return n.options.ruleSpaces?r.slice(0,-1):r}const $g={blockquote:WE,break:of,code:XE,definition:eC,emphasis:Ag,hardBreak:of,heading:iC,html:Pg,image:Rg,imageReference:Og,inlineCode:Ig,link:Ng,linkReference:Lg,list:fC,listItem:mC,paragraph:gC,root:vC,strong:zg,text:_C,thematicBreak:SC};function bC(){return{enter:{table:EC,tableData:lf,tableHeader:lf,tableRow:TC},exit:{codeText:AC,table:CC,tableData:Kl,tableHeader:Kl,tableRow:Kl}}}function EC(e){const t=e._align;this.enter({type:"table",align:t.map(function(n){return n==="none"?null:n}),children:[]},e),this.data.inTable=!0}function CC(e){this.exit(e),this.data.inTable=void 0}function TC(e){this.enter({type:"tableRow",children:[]},e)}function Kl(e){this.exit(e)}function lf(e){this.enter({type:"tableCell",children:[]},e)}function AC(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,PC));const n=this.stack[this.stack.length-1];n.type,n.value=t,this.exit(e)}function PC(e,t){return t==="|"?t:e}function RC(e){const t=e||{},n=t.tableCellPadding,r=t.tablePipeAlign,i=t.stringLength,s=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:d,table:o,tableCell:a,tableRow:l}};function o(f,m,v,S){return u(c(f,v,S),f.align)}function l(f,m,v,S){const p=h(f,v,S),g=u([p]);return g.slice(0,g.indexOf(`
`))}function a(f,m,v,S){const p=v.enter("tableCell"),g=v.enter("phrasing"),y=v.containerPhrasing(f,{...S,before:s,after:s});return g(),p(),y}function u(f,m){return HE(f,{align:m,alignDelimiters:r,padding:n,stringLength:i})}function c(f,m,v){const S=f.children;let p=-1;const g=[],y=m.enter("table");for(;++p<S.length;)g[p]=h(S[p],m,v);return y(),g}function h(f,m,v){const S=f.children;let p=-1;const g=[],y=m.enter("tableRow");for(;++p<S.length;)g[p]=a(S[p],f,m,v);return y(),g}function d(f,m,v){let S=$g.inlineCode(f,m,v);return v.stack.includes("tableCell")&&(S=S.replace(/\|/g,"\\$&")),S}}function OC(){return{exit:{taskListCheckValueChecked:af,taskListCheckValueUnchecked:af,paragraph:jC}}}function IC(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:NC}}}function af(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function jC(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const i=t.children;let s=-1,o;for(;++s<i.length;){const l=i[s];if(l.type==="paragraph"){o=l;break}}o===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(e)}function NC(e,t,n,r){const i=e.children[0],s=typeof e.checked=="boolean"&&i&&i.type==="paragraph",o="["+(e.checked?"x":" ")+"] ",l=n.createTracker(r);s&&l.move(o);let a=$g.listItem(e,t,n,{...r,...l.current()});return s&&(a=a.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,u)),a;function u(c){return c+o}}function LC(){return[fE(),NE(),$E(),bC(),OC()]}function DC(e){return{extensions:[pE(),LE(e),UE(),RC(e),IC()]}}const zC={tokenize:VC,partial:!0},Ug={tokenize:HC,partial:!0},Fg={tokenize:qC,partial:!0},Mg={tokenize:WC,partial:!0},$C={tokenize:KC,partial:!0},Bg={name:"wwwAutolink",tokenize:MC,previous:Hg},Vg={name:"protocolAutolink",tokenize:BC,previous:qg},Zt={name:"emailAutolink",tokenize:FC,previous:Wg},zt={};function UC(){return{text:zt}}let Pn=48;for(;Pn<123;)zt[Pn]=Zt,Pn++,Pn===58?Pn=65:Pn===91&&(Pn=97);zt[43]=Zt;zt[45]=Zt;zt[46]=Zt;zt[95]=Zt;zt[72]=[Zt,Vg];zt[104]=[Zt,Vg];zt[87]=[Zt,Bg];zt[119]=[Zt,Bg];function FC(e,t,n){const r=this;let i,s;return o;function o(h){return!uu(h)||!Wg.call(r,r.previous)||Cc(r.events)?n(h):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),l(h))}function l(h){return uu(h)?(e.consume(h),l):h===64?(e.consume(h),a):n(h)}function a(h){return h===46?e.check($C,c,u)(h):h===45||h===95||ze(h)?(s=!0,e.consume(h),a):c(h)}function u(h){return e.consume(h),i=!0,a}function c(h){return s&&i&&Be(r.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(h)):n(h)}}function MC(e,t,n){const r=this;return i;function i(o){return o!==87&&o!==119||!Hg.call(r,r.previous)||Cc(r.events)?n(o):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(zC,e.attempt(Ug,e.attempt(Fg,s),n),n)(o))}function s(o){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(o)}}function BC(e,t,n){const r=this;let i="",s=!1;return o;function o(h){return(h===72||h===104)&&qg.call(r,r.previous)&&!Cc(r.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),i+=String.fromCodePoint(h),e.consume(h),l):n(h)}function l(h){if(Be(h)&&i.length<5)return i+=String.fromCodePoint(h),e.consume(h),l;if(h===58){const d=i.toLowerCase();if(d==="http"||d==="https")return e.consume(h),a}return n(h)}function a(h){return h===47?(e.consume(h),s?u:(s=!0,a)):n(h)}function u(h){return h===null||bo(h)||re(h)||Kn(h)||Jo(h)?n(h):e.attempt(Ug,e.attempt(Fg,c),n)(h)}function c(h){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(h)}}function VC(e,t,n){let r=0;return i;function i(o){return(o===87||o===119)&&r<3?(r++,e.consume(o),i):o===46&&r===3?(e.consume(o),s):n(o)}function s(o){return o===null?n(o):t(o)}}function HC(e,t,n){let r,i,s;return o;function o(u){return u===46||u===95?e.check(Mg,a,l)(u):u===null||re(u)||Kn(u)||u!==45&&Jo(u)?a(u):(s=!0,e.consume(u),o)}function l(u){return u===95?r=!0:(i=r,r=void 0),e.consume(u),o}function a(u){return i||r||!s?n(u):t(u)}}function qC(e,t){let n=0,r=0;return i;function i(o){return o===40?(n++,e.consume(o),i):o===41&&r<n?s(o):o===33||o===34||o===38||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===60||o===63||o===93||o===95||o===126?e.check(Mg,t,s)(o):o===null||re(o)||Kn(o)?t(o):(e.consume(o),i)}function s(o){return o===41&&r++,e.consume(o),i}}function WC(e,t,n){return r;function r(l){return l===33||l===34||l===39||l===41||l===42||l===44||l===46||l===58||l===59||l===63||l===95||l===126?(e.consume(l),r):l===38?(e.consume(l),s):l===93?(e.consume(l),i):l===60||l===null||re(l)||Kn(l)?t(l):n(l)}function i(l){return l===null||l===40||l===91||re(l)||Kn(l)?t(l):r(l)}function s(l){return Be(l)?o(l):n(l)}function o(l){return l===59?(e.consume(l),r):Be(l)?(e.consume(l),o):n(l)}}function KC(e,t,n){return r;function r(s){return e.consume(s),i}function i(s){return ze(s)?n(s):t(s)}}function Hg(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||re(e)}function qg(e){return!Be(e)}function Wg(e){return!(e===47||uu(e))}function uu(e){return e===43||e===45||e===46||e===95||ze(e)}function Cc(e){let t=e.length,n=!1;for(;t--;){const r=e[t][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const GC={tokenize:nT,partial:!0};function JC(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:ZC,continuation:{tokenize:eT},exit:tT}},text:{91:{name:"gfmFootnoteCall",tokenize:XC},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:QC,resolveTo:YC}}}}function QC(e,t,n){const r=this;let i=r.events.length;const s=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let o;for(;i--;){const a=r.events[i][1];if(a.type==="labelImage"){o=a;break}if(a.type==="gfmFootnoteCall"||a.type==="labelLink"||a.type==="label"||a.type==="image"||a.type==="link")break}return l;function l(a){if(!o||!o._balanced)return n(a);const u=At(r.sliceSerialize({start:o.end,end:r.now()}));return u.codePointAt(0)!==94||!s.includes(u.slice(1))?n(a):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(a),e.exit("gfmFootnoteCallLabelMarker"),t(a))}}function YC(e,t){let n=e.length;for(;n--;)if(e[n][1].type==="labelImage"&&e[n][0]==="enter"){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const s={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},e[e.length-1][1].start)},o={type:"chunkString",contentType:"string",start:Object.assign({},s.start),end:Object.assign({},s.end)},l=[e[n+1],e[n+2],["enter",r,t],e[n+3],e[n+4],["enter",i,t],["exit",i,t],["enter",s,t],["enter",o,t],["exit",o,t],["exit",s,t],e[e.length-2],e[e.length-1],["exit",r,t]];return e.splice(n,e.length-n+1,...l),e}function XC(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s=0,o;return l;function l(h){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(h),e.exit("gfmFootnoteCallLabelMarker"),a}function a(h){return h!==94?n(h):(e.enter("gfmFootnoteCallMarker"),e.consume(h),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",u)}function u(h){if(s>999||h===93&&!o||h===null||h===91||re(h))return n(h);if(h===93){e.exit("chunkString");const d=e.exit("gfmFootnoteCallString");return i.includes(At(r.sliceSerialize(d)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(h),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(h)}return re(h)||(o=!0),s++,e.consume(h),h===92?c:u}function c(h){return h===91||h===92||h===93?(e.consume(h),s++,u):u(h)}}function ZC(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s,o=0,l;return a;function a(m){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(m),e.exit("gfmFootnoteDefinitionLabelMarker"),u}function u(m){return m===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(m),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",c):n(m)}function c(m){if(o>999||m===93&&!l||m===null||m===91||re(m))return n(m);if(m===93){e.exit("chunkString");const v=e.exit("gfmFootnoteDefinitionLabelString");return s=At(r.sliceSerialize(v)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(m),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),d}return re(m)||(l=!0),o++,e.consume(m),m===92?h:c}function h(m){return m===91||m===92||m===93?(e.consume(m),o++,c):c(m)}function d(m){return m===58?(e.enter("definitionMarker"),e.consume(m),e.exit("definitionMarker"),i.includes(s)||i.push(s),J(e,f,"gfmFootnoteDefinitionWhitespace")):n(m)}function f(m){return t(m)}}function eT(e,t,n){return e.check(is,t,e.attempt(GC,t,n))}function tT(e){e.exit("gfmFootnoteDefinition")}function nT(e,t,n){const r=this;return J(e,i,"gfmFootnoteDefinitionIndent",5);function i(s){const o=r.events[r.events.length-1];return o&&o[1].type==="gfmFootnoteDefinitionIndent"&&o[2].sliceSerialize(o[1],!0).length===4?t(s):n(s)}}function rT(e){let n=(e||{}).singleTilde;const r={name:"strikethrough",tokenize:s,resolveAll:i};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function i(o,l){let a=-1;for(;++a<o.length;)if(o[a][0]==="enter"&&o[a][1].type==="strikethroughSequenceTemporary"&&o[a][1]._close){let u=a;for(;u--;)if(o[u][0]==="exit"&&o[u][1].type==="strikethroughSequenceTemporary"&&o[u][1]._open&&o[a][1].end.offset-o[a][1].start.offset===o[u][1].end.offset-o[u][1].start.offset){o[a][1].type="strikethroughSequence",o[u][1].type="strikethroughSequence";const c={type:"strikethrough",start:Object.assign({},o[u][1].start),end:Object.assign({},o[a][1].end)},h={type:"strikethroughText",start:Object.assign({},o[u][1].end),end:Object.assign({},o[a][1].start)},d=[["enter",c,l],["enter",o[u][1],l],["exit",o[u][1],l],["enter",h,l]],f=l.parser.constructs.insideSpan.null;f&&ot(d,d.length,0,Qo(f,o.slice(u+1,a),l)),ot(d,d.length,0,[["exit",h,l],["enter",o[a][1],l],["exit",o[a][1],l],["exit",c,l]]),ot(o,u-1,a-u+3,d),a=u+d.length-2;break}}for(a=-1;++a<o.length;)o[a][1].type==="strikethroughSequenceTemporary"&&(o[a][1].type="data");return o}function s(o,l,a){const u=this.previous,c=this.events;let h=0;return d;function d(m){return u===126&&c[c.length-1][1].type!=="characterEscape"?a(m):(o.enter("strikethroughSequenceTemporary"),f(m))}function f(m){const v=Ur(u);if(m===126)return h>1?a(m):(o.consume(m),h++,f);if(h<2&&!n)return a(m);const S=o.exit("strikethroughSequenceTemporary"),p=Ur(m);return S._open=!p||p===2&&!!v,S._close=!v||v===2&&!!p,l(m)}}}class iT{constructor(){this.map=[]}add(t,n,r){sT(this,t,n,r)}consume(t){if(this.map.sort(function(s,o){return s[0]-o[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(t.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),t.length=this.map[n][0];r.push(t.slice()),t.length=0;let i=r.pop();for(;i;){for(const s of i)t.push(s);i=r.pop()}this.map.length=0}}function sT(e,t,n,r){let i=0;if(!(n===0&&r.length===0)){for(;i<e.map.length;){if(e.map[i][0]===t){e.map[i][1]+=n,e.map[i][2].push(...r);return}i+=1}e.map.push([t,n,r])}}function oT(e,t){let n=!1;const r=[];for(;t<e.length;){const i=e[t];if(n){if(i[0]==="enter")i[1].type==="tableContent"&&r.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const s=r.length-1;r[s]=r[s]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(n=!0);t+=1}return r}function lT(){return{flow:{null:{name:"table",tokenize:aT,resolveAll:uT}}}}function aT(e,t,n){const r=this;let i=0,s=0,o;return l;function l(E){let N=r.events.length-1;for(;N>-1;){const ie=r.events[N][1].type;if(ie==="lineEnding"||ie==="linePrefix")N--;else break}const z=N>-1?r.events[N][1].type:null,Q=z==="tableHead"||z==="tableRow"?_:a;return Q===_&&r.parser.lazy[r.now().line]?n(E):Q(E)}function a(E){return e.enter("tableHead"),e.enter("tableRow"),u(E)}function u(E){return E===124||(o=!0,s+=1),c(E)}function c(E){return E===null?n(E):U(E)?s>1?(s=0,r.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(E),e.exit("lineEnding"),f):n(E):q(E)?J(e,c,"whitespace")(E):(s+=1,o&&(o=!1,i+=1),E===124?(e.enter("tableCellDivider"),e.consume(E),e.exit("tableCellDivider"),o=!0,c):(e.enter("data"),h(E)))}function h(E){return E===null||E===124||re(E)?(e.exit("data"),c(E)):(e.consume(E),E===92?d:h)}function d(E){return E===92||E===124?(e.consume(E),h):h(E)}function f(E){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(E):(e.enter("tableDelimiterRow"),o=!1,q(E)?J(e,m,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(E):m(E))}function m(E){return E===45||E===58?S(E):E===124?(o=!0,e.enter("tableCellDivider"),e.consume(E),e.exit("tableCellDivider"),v):C(E)}function v(E){return q(E)?J(e,S,"whitespace")(E):S(E)}function S(E){return E===58?(s+=1,o=!0,e.enter("tableDelimiterMarker"),e.consume(E),e.exit("tableDelimiterMarker"),p):E===45?(s+=1,p(E)):E===null||U(E)?b(E):C(E)}function p(E){return E===45?(e.enter("tableDelimiterFiller"),g(E)):C(E)}function g(E){return E===45?(e.consume(E),g):E===58?(o=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(E),e.exit("tableDelimiterMarker"),y):(e.exit("tableDelimiterFiller"),y(E))}function y(E){return q(E)?J(e,b,"whitespace")(E):b(E)}function b(E){return E===124?m(E):E===null||U(E)?!o||i!==s?C(E):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(E)):C(E)}function C(E){return n(E)}function _(E){return e.enter("tableRow"),A(E)}function A(E){return E===124?(e.enter("tableCellDivider"),e.consume(E),e.exit("tableCellDivider"),A):E===null||U(E)?(e.exit("tableRow"),t(E)):q(E)?J(e,A,"whitespace")(E):(e.enter("data"),O(E))}function O(E){return E===null||E===124||re(E)?(e.exit("data"),A(E)):(e.consume(E),E===92?D:O)}function D(E){return E===92||E===124?(e.consume(E),O):O(E)}}function uT(e,t){let n=-1,r=!0,i=0,s=[0,0,0,0],o=[0,0,0,0],l=!1,a=0,u,c,h;const d=new iT;for(;++n<e.length;){const f=e[n],m=f[1];f[0]==="enter"?m.type==="tableHead"?(l=!1,a!==0&&(uf(d,t,a,u,c),c=void 0,a=0),u={type:"table",start:Object.assign({},m.start),end:Object.assign({},m.end)},d.add(n,0,[["enter",u,t]])):m.type==="tableRow"||m.type==="tableDelimiterRow"?(r=!0,h=void 0,s=[0,0,0,0],o=[0,n+1,0,0],l&&(l=!1,c={type:"tableBody",start:Object.assign({},m.start),end:Object.assign({},m.end)},d.add(n,0,[["enter",c,t]])),i=m.type==="tableDelimiterRow"?2:c?3:1):i&&(m.type==="data"||m.type==="tableDelimiterMarker"||m.type==="tableDelimiterFiller")?(r=!1,o[2]===0&&(s[1]!==0&&(o[0]=o[1],h=Ns(d,t,s,i,void 0,h),s=[0,0,0,0]),o[2]=n)):m.type==="tableCellDivider"&&(r?r=!1:(s[1]!==0&&(o[0]=o[1],h=Ns(d,t,s,i,void 0,h)),s=o,o=[s[1],n,0,0])):m.type==="tableHead"?(l=!0,a=n):m.type==="tableRow"||m.type==="tableDelimiterRow"?(a=n,s[1]!==0?(o[0]=o[1],h=Ns(d,t,s,i,n,h)):o[1]!==0&&(h=Ns(d,t,o,i,n,h)),i=0):i&&(m.type==="data"||m.type==="tableDelimiterMarker"||m.type==="tableDelimiterFiller")&&(o[3]=n)}for(a!==0&&uf(d,t,a,u,c),d.consume(t.events),n=-1;++n<t.events.length;){const f=t.events[n];f[0]==="enter"&&f[1].type==="table"&&(f[1]._align=oT(t.events,n))}return e}function Ns(e,t,n,r,i,s){const o=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",l="tableContent";n[0]!==0&&(s.end=Object.assign({},cr(t.events,n[0])),e.add(n[0],0,[["exit",s,t]]));const a=cr(t.events,n[1]);if(s={type:o,start:Object.assign({},a),end:Object.assign({},a)},e.add(n[1],0,[["enter",s,t]]),n[2]!==0){const u=cr(t.events,n[2]),c=cr(t.events,n[3]),h={type:l,start:Object.assign({},u),end:Object.assign({},c)};if(e.add(n[2],0,[["enter",h,t]]),r!==2){const d=t.events[n[2]],f=t.events[n[3]];if(d[1].end=Object.assign({},f[1].end),d[1].type="chunkText",d[1].contentType="text",n[3]>n[2]+1){const m=n[2]+1,v=n[3]-n[2]-1;e.add(m,v,[])}}e.add(n[3]+1,0,[["exit",h,t]])}return i!==void 0&&(s.end=Object.assign({},cr(t.events,i)),e.add(i,0,[["exit",s,t]]),s=void 0),s}function uf(e,t,n,r,i){const s=[],o=cr(t.events,n);i&&(i.end=Object.assign({},o),s.push(["exit",i,t])),r.end=Object.assign({},o),s.push(["exit",r,t]),e.add(n+1,0,s)}function cr(e,t){const n=e[t],r=n[0]==="enter"?"start":"end";return n[1][r]}const cT={name:"tasklistCheck",tokenize:dT};function hT(){return{text:{91:cT}}}function dT(e,t,n){const r=this;return i;function i(a){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(a):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(a),e.exit("taskListCheckMarker"),s)}function s(a){return re(a)?(e.enter("taskListCheckValueUnchecked"),e.consume(a),e.exit("taskListCheckValueUnchecked"),o):a===88||a===120?(e.enter("taskListCheckValueChecked"),e.consume(a),e.exit("taskListCheckValueChecked"),o):n(a)}function o(a){return a===93?(e.enter("taskListCheckMarker"),e.consume(a),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),l):n(a)}function l(a){return U(a)?t(a):q(a)?e.check({tokenize:fT},t,n)(a):n(a)}}function fT(e,t,n){return J(e,r,"whitespace");function r(i){return i===null?n(i):t(i)}}function pT(e){return ng([UC(),JC(),rT(e),lT(),hT()])}const mT={};function gT(e){const t=this,n=e||mT,r=t.data(),i=r.micromarkExtensions||(r.micromarkExtensions=[]),s=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),o=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);i.push(pT(n)),s.push(LC()),o.push(DC(n))}function yT({isOpen:e,onClose:t,messages:n}){const[r,i]=te.useState("selecting"),[s,o]=te.useState("summary"),[l,a]=te.useState(""),[u,c]=te.useState(!1);if(!e)return null;const h=()=>{i("selecting"),a(""),t()},d=async()=>{if(n.length!==0){i("generating");try{const v=await E_(s,n);a(v.markdown),i("preview")}catch(v){console.error("Failed to generate report:",v),i("selecting"),alert("Failed to generate report. Please try again.")}}},f=()=>{navigator.clipboard.writeText(l),c(!0),setTimeout(()=>c(!1),2e3)},m=()=>{const v=document.createElement("a"),S=new Blob([l],{type:"text/markdown"});v.href=URL.createObjectURL(S);const p=new Date().toISOString().split("T")[0];v.download=`ComplianceGPT_${s.charAt(0).toUpperCase()+s.slice(1)}_Report_${p}.md`,document.body.appendChild(v),v.click(),document.body.removeChild(v)};return x.jsx("div",{className:"report-modal-overlay",children:x.jsxs("div",{className:`report-modal-content ${r==="preview"?"preview-mode":""}`,children:[x.jsxs("div",{className:"report-modal-header",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(lc,{size:20,className:"text-accent-color"}),x.jsx("h2",{className:"text-lg font-semibold text-text-primary",children:r==="preview"?"Report Preview":"Generate Compliance Report"})]}),x.jsx("button",{onClick:h,className:"text-text-secondary hover:text-white transition-colors",children:x.jsx(y_,{size:20})})]}),x.jsxs("div",{className:"report-modal-body",children:[r==="selecting"&&x.jsxs("div",{className:"flex flex-col gap-4",children:[x.jsx("p",{className:"text-sm text-text-secondary mb-2",children:"Synthesize your current conversation history into a structured executive Markdown document."}),x.jsxs("label",{className:"flex flex-col gap-1",children:[x.jsx("span",{className:"text-sm font-medium text-text-primary",children:"Report Focus"}),x.jsxs("select",{className:"report-select",value:s,onChange:v=>o(v.target.value),children:[x.jsx("option",{value:"summary",children:"Executive Summary Report (Default)"}),x.jsx("option",{value:"mapping",children:"Cross-Framework Gap Mapping Report"}),x.jsx("option",{value:"incident",children:"Mitre ATT&CK Threat Incident Report"})]})]}),x.jsxs("div",{className:"mt-4 flex justify-end gap-3",children:[x.jsx("button",{className:"report-btn-secondary",onClick:h,children:"Cancel"}),x.jsx("button",{className:"report-btn-primary",onClick:d,disabled:n.length===0,title:n.length===0?"Chat history is empty":"",children:"Generate Report"})]})]}),r==="generating"&&x.jsxs("div",{className:"flex flex-col items-center justify-center p-8 gap-4",children:[x.jsx(Um,{size:32,className:"text-accent-color spinner"}),x.jsx("p",{className:"text-sm text-text-secondary",children:"Synthesizing compliance intelligence..."})]}),r==="preview"&&x.jsxs("div",{className:"flex flex-col h-full gap-4",children:[x.jsx("div",{className:"report-preview-container markdown-body",children:x.jsx(rE,{remarkPlugins:[gT],children:l})}),x.jsxs("div",{className:"flex justify-between items-center mt-2 border-t border-border-color pt-4",children:[x.jsxs("div",{className:"text-xs text-text-secondary flex items-center gap-2",children:[x.jsx(hd,{size:14,className:"text-success-color"}),"Report generation successful"]}),x.jsxs("div",{className:"flex gap-2",children:[x.jsxs("button",{className:"report-btn-secondary flex items-center gap-2",onClick:f,children:[u?x.jsx(hd,{size:16}):x.jsx(d_,{size:16}),u?"Copied!":"Copy MD"]}),x.jsxs("button",{className:"report-btn-primary flex items-center gap-2",onClick:m,children:[x.jsx(f_,{size:16}),"Download (.md)"]})]})]})]})]})]})})}const Gl=[{id:"nist80053",label:"NIST 800-53"},{id:"iso27001",label:"ISO 27001"},{id:"nistcsf",label:"NIST CSF"}];function vT(){const[e,t]=te.useState([{id:"welcome",role:"assistant",content:"Hello! I am ComplianceGPT, your GenAI cybersecurity compliance copilot. Ask me questions about NIST 800-53, ISO 27001, and more."}]),[n,r]=te.useState(""),[i,s]=te.useState(!1),[o,l]=te.useState(null),[a,u]=te.useState(new Set(Gl.map(p=>p.id))),[c,h]=te.useState(!1),d=te.useRef(null),f=te.useRef(null),m=()=>{var p;(p=d.current)==null||p.scrollIntoView({behavior:"smooth"})};te.useEffect(()=>{m()},[e,i]);const v=async()=>{if(!n.trim()||i)return;const p={id:Date.now().toString(),role:"user",content:n.trim()};t(g=>[...g,p]),r(""),s(!0),l(null);try{const g=Array.from(a),y=await b_(p.content,g),b={id:(Date.now()+1).toString(),role:"assistant",content:y.answer,citations:y.citations,frameworks_used:y.frameworks_used,evidence:y.retrieved_chunks,mapping_mode:y.mapping_mode,incident_mode:y.incident_mode};t(C=>[...C,b])}catch(g){console.error(g),l(g.message||"Failed to connect to backend API.")}finally{s(!1),setTimeout(()=>{var g;return(g=f.current)==null?void 0:g.focus()},100)}},S=p=>{p.key==="Enter"&&!p.shiftKey&&(p.preventDefault(),v())};return x.jsxs("main",{className:"chat-workspace",children:[x.jsxs("header",{className:"chat-header px-6 py-4 border-b border-border-color bg-bg-primary/50 backdrop-blur-md sticky top-0 z-10 flex justify-between items-center",children:[x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("img",{src:"/logo.svg",alt:"ComplianceGPT Logo",className:"w-8 h-8"}),x.jsx("h1",{className:"text-xl font-bold tracking-tight text-text-primary hidden sm:block",children:"ComplianceGPT"})]}),x.jsxs("button",{className:"flex items-center gap-2 px-3 py-1.5 bg-bg-secondary border border-border-color rounded-md text-sm text-text-secondary hover:text-white hover:border-accent-color transition-colors",onClick:()=>h(!0),title:"Synthesize conversation into a structured markdown report",children:[x.jsx(lc,{size:16}),x.jsx("span",{className:"hidden sm:inline",children:"Generate Report"})]})]}),x.jsxs("div",{className:"messages-container",children:[e.map(p=>x.jsx(S_,{message:p},p.id)),i&&x.jsx("div",{className:"message-wrapper assistant",children:x.jsxs("div",{className:"flex flex-col max-w-[85%]",children:[x.jsx("span",{className:"text-xs text-text-secondary mb-1 ml-1 font-medium",children:"ComplianceGPT"}),x.jsxs("div",{className:"bg-bg-secondary border border-border-color rounded-lg rounded-bl-none p-4 flex items-center gap-2",children:[x.jsx(Um,{size:16,className:"spinner text-accent-color"}),x.jsx("span",{className:"text-text-secondary font-medium whitespace-nowrap",children:"Gathering evidence..."})]})]})}),o&&x.jsxs("div",{className:"mx-auto flex max-w-lg items-center gap-2 rounded-md bg-red-950/40 border border-error-color/50 px-4 py-3 text-sm text-error-color mt-4",children:[x.jsx(u_,{size:16}),x.jsx("p",{children:o})]}),x.jsx("div",{ref:d})]}),x.jsx("div",{className:"input-area-container",children:x.jsxs("div",{className:"input-area-content",children:[x.jsxs("div",{className:"framework-selector-container",children:[x.jsxs("div",{className:"framework-selector-header tooltip-trigger",children:[x.jsx("span",{className:"text-xs text-text-secondary font-medium",children:"Frameworks Scope"}),x.jsx(p_,{size:12,className:"text-text-secondary"}),x.jsx("div",{className:"tooltip",children:"Toggle frameworks to restrict search context."})]}),x.jsx("div",{className:"framework-chips",children:Gl.map(p=>{const g=a.has(p.id);return x.jsx("button",{className:`framework - chip ${g?"selected":""} `,onClick:()=>{const y=new Set(a);y.has(p.id)?y.delete(p.id):y.add(p.id),u(y)},disabled:i,children:p.label},p.id)})})]}),x.jsxs("div",{className:"scope-indicator",children:["Searching: ",a.size===0?"None (Please select at least one framework)":Array.from(a).map(p=>{var g;return(g=Gl.find(y=>y.id===p))==null?void 0:g.label}).join(", ")]}),x.jsxs("div",{className:`input-form ${i?"opacity-70":""}`,children:[x.jsx("textarea",{ref:f,className:"chat-input",value:n,onChange:p=>r(p.target.value),onKeyDown:S,placeholder:"Ask a compliance question...",rows:1,disabled:i}),x.jsx("button",{type:"button",onClick:v,disabled:!n.trim()||i||a.size===0,className:"send-button","aria-label":"Send message",children:x.jsx(g_,{size:16})})]})]})}),x.jsx(yT,{isOpen:c,onClose:()=>h(!1),messages:e})]})}function wT(){const[e,t]=te.useState(null),[n,r]=te.useState(!0);return te.useEffect(()=>{Gi.auth.getSession().then(({data:{session:s}})=>{t(s),r(!1)});const{data:{subscription:i}}=Gi.auth.onAuthStateChange((s,o)=>{t(o)});return()=>i.unsubscribe()},[]),n?x.jsx("div",{className:"flex h-screen w-screen items-center justify-center bg-bg-color text-text-primary",children:x.jsx("div",{className:"animate-pulse",children:"Loading ComplianceGPT..."})}):e?x.jsxs("div",{className:"app-container",children:[x.jsx(w_,{}),x.jsx(vT,{})]}):x.jsx(v_,{})}Jl.createRoot(document.getElementById("root")).render(x.jsx(yy.StrictMode,{children:x.jsx(wT,{})}));
